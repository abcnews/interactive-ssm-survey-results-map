{"version":3,"file":"index.js","mappings":"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","sources":["webpack://interactive-ssm-survey-results-map/./node_modules/array-from/index.js","webpack://interactive-ssm-survey-results-map/./node_modules/array-from/polyfill.js","webpack://interactive-ssm-survey-results-map/./src/components/app.js","webpack://interactive-ssm-survey-results-map/./src/components/background.js","webpack://interactive-ssm-survey-results-map/./src/components/map.js","webpack://interactive-ssm-survey-results-map/./src/components/marker.js","webpack://interactive-ssm-survey-results-map/./src/components/plot.js","webpack://interactive-ssm-survey-results-map/./src/components/scrolly.js","webpack://interactive-ssm-survey-results-map/./src/data/colour-scale.js","webpack://interactive-ssm-survey-results-map/./src/data/fallback-data.csv.js","webpack://interactive-ssm-survey-results-map/./node_modules/@abcnews/mount-utils/dist/mount-utils.esm.js","webpack://interactive-ssm-survey-results-map/./src/loader.js","webpack://interactive-ssm-survey-results-map/./src/components/background.scss","webpack://interactive-ssm-survey-results-map/./src/components/map.scss","webpack://interactive-ssm-survey-results-map/./src/components/marker.scss","webpack://interactive-ssm-survey-results-map/./src/components/plot.scss","webpack://interactive-ssm-survey-results-map/./src/components/scrolly.scss","webpack://interactive-ssm-survey-results-map/./node_modules/css-loader/dist/runtime/api.js","webpack://interactive-ssm-survey-results-map/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://interactive-ssm-survey-results-map/./node_modules/css-loader/dist/runtime/noSourceMaps.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-array/src/ascending.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-array/src/bisector.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-array/src/bisect.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-array/src/array.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-array/src/ticks.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-array/src/merge.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-array/src/number.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-array/src/quantile.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-array/src/range.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-collection/src/map.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-collection/src/set.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-color/src/define.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-color/src/color.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-color/src/math.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-color/src/lab.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-color/src/cubehelix.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-dispatch/src/dispatch.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-force/src/center.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-force/src/constant.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-force/src/jiggle.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-quadtree/src/add.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-quadtree/src/quad.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-quadtree/src/x.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-quadtree/src/y.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-quadtree/src/quadtree.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-force/src/collide.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-quadtree/src/cover.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-quadtree/src/data.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-quadtree/src/extent.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-quadtree/src/find.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-quadtree/src/remove.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-quadtree/src/root.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-quadtree/src/size.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-quadtree/src/visit.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-quadtree/src/visitAfter.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-force/src/link.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-force/src/simulation.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-force/src/manyBody.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-force/src/radial.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-force/src/x.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-force/src/y.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/adder.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/math.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/noop.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/stream.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/area.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/cartesian.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/bounds.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/centroid.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/constant.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/compose.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/rotation.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/circle.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/clip/buffer.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/pointEqual.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/clip/rejoin.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/polygonContains.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/clip/index.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/clip/antimeridian.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/clip/circle.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/clip/rectangle.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/clip/line.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/clip/extent.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/length.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/distance.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/contains.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/graticule.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/interpolate.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/identity.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/path/area.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/path/centroid.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/path/bounds.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/path/context.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/path/measure.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/path/string.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/path/index.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/transform.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/fit.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/resample.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/index.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/conic.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/conicEqualArea.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/cylindricalEqualArea.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/albers.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/albersUsa.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/azimuthal.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/azimuthalEqualArea.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/azimuthalEquidistant.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/mercator.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/conicConformal.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/equirectangular.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/conicEquidistant.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/gnomonic.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/identity.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/naturalEarth1.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/orthographic.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/stereographic.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-geo/src/projection/transverseMercator.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/basis.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/constant.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/color.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/rgb.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/array.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/date.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/number.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/object.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/basisClosed.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/string.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/value.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/round.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/transform/decompose.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/transform/parse.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/transform/index.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/hsl.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/hcl.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/cubehelix.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-interpolate/src/zoom.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/array.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/ordinal.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/band.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/constant.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/number.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/continuous.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/formatPrefixAuto.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/formatDecimal.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/exponent.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/formatRounded.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/formatTypes.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/formatDefault.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/formatSpecifier.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/identity.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/locale.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/defaultLocale.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/linear.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/tickFormat.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/precisionPrefix.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/precisionRound.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/precisionFixed.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/identity.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/nice.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/log.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/pow.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/quantile.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/quantize.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/threshold.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/formatGroup.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-format/src/formatNumerals.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/interval.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/millisecond.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/duration.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/second.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/minute.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/hour.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/day.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/week.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/month.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/year.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/utcMinute.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/utcHour.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/utcDay.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/utcWeek.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/utcMonth.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time/src/utcYear.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time-format/src/locale.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time-format/src/defaultLocale.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time-format/src/isoFormat.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-time-format/src/isoParse.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/time.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/utcTime.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/colors.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/category10.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/category20b.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/category20c.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/category20.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/cubehelix.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/rainbow.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/viridis.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-scale/src/sequential.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/namespaces.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/namespace.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/creator.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/local.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/matcher.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/on.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/sourceEvent.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/point.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/mouse.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selector.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selectorAll.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/sparse.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/enter.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/data.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/sort.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/attr.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/window.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/style.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/property.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/classed.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/text.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/html.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/raise.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/lower.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/insert.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/remove.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/dispatch.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/index.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/select.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/selectAll.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/filter.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/constant.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/exit.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/merge.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/order.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/call.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/nodes.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/node.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/size.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/empty.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/each.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/append.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selection/datum.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/select.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/selectAll.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/touch.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-selection/src/touches.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-timer/src/timer.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-timer/src/timeout.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/schedule.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/interrupt.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/tween.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/interpolate.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/attr.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/attrTween.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/delay.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/duration.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/ease.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/on.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/selection.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/styleTween.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/index.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/select.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/selectAll.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/filter.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/merge.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/transition.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/style.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/text.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/transition/remove.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-ease/src/poly.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-ease/src/sin.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-ease/src/back.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-ease/src/elastic.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/selection/transition.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-ease/src/cubic.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/selection/index.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/selection/interrupt.js","webpack://interactive-ssm-survey-results-map/./node_modules/d3-transition/src/active.js","webpack://interactive-ssm-survey-results-map/./node_modules/es6-promise/auto.js","webpack://interactive-ssm-survey-results-map/./node_modules/es6-promise/dist/es6-promise.js","webpack://interactive-ssm-survey-results-map/./node_modules/immutable/dist/immutable.js","webpack://interactive-ssm-survey-results-map/./node_modules/isomorphic-fetch/fetch-npm-browserify.js","webpack://interactive-ssm-survey-results-map/./node_modules/object-values/index.js","webpack://interactive-ssm-survey-results-map/./node_modules/power-ranger/index.js","webpack://interactive-ssm-survey-results-map/./node_modules/preact/dist/preact.esm.js","webpack://interactive-ssm-survey-results-map/./src/components/background.scss?e484","webpack://interactive-ssm-survey-results-map/./src/components/map.scss?d6b1","webpack://interactive-ssm-survey-results-map/./src/components/marker.scss?045c","webpack://interactive-ssm-survey-results-map/./src/components/plot.scss?1c23","webpack://interactive-ssm-survey-results-map/./src/components/scrolly.scss?9934","webpack://interactive-ssm-survey-results-map/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-client/src/identity.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-client/src/transform.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-client/src/bbox.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-client/src/feature.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-client/src/reverse.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-client/src/stitch.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-client/src/mesh.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-client/src/merge.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-client/src/bisect.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-client/src/neighbors.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-client/src/untransform.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-client/src/quantize.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-server/src/hash/hashmap.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-server/src/hash/point-equal.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-server/src/hash/point-hash.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-server/src/cut.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-server/src/geometry.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-server/src/topology.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-server/src/bounds.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-server/src/prequantize.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-server/src/dedup.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-server/src/join.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-server/src/hash/hashset.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-server/src/extract.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-server/src/delta.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-simplify/src/filter.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-simplify/src/prune.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-simplify/src/filterAttached.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-simplify/src/planar.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-simplify/src/filterWeight.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-simplify/src/filterAttachedWeight.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-simplify/src/heap.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-simplify/src/presimplify.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-simplify/src/quantile.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-simplify/src/simplify.js","webpack://interactive-ssm-survey-results-map/./node_modules/topojson/node_modules/topojson-simplify/src/spherical.js","webpack://interactive-ssm-survey-results-map/./node_modules/whatwg-fetch/fetch.js","webpack://interactive-ssm-survey-results-map/webpack/bootstrap","webpack://interactive-ssm-survey-results-map/webpack/runtime/compat get default export","webpack://interactive-ssm-survey-results-map/webpack/runtime/define property getters","webpack://interactive-ssm-survey-results-map/webpack/runtime/global","webpack://interactive-ssm-survey-results-map/webpack/runtime/hasOwnProperty shorthand","webpack://interactive-ssm-survey-results-map/webpack/runtime/make namespace object","webpack://interactive-ssm-survey-results-map/webpack/runtime/jsonp chunk loading","webpack://interactive-ssm-survey-results-map/webpack/runtime/nonce","webpack://interactive-ssm-survey-results-map/./src/index.js"],"sourcesContent":["module.exports = (typeof Array.from === 'function' ?\n  Array.from :\n  require('./polyfill')\n);\n","// Production steps of ECMA-262, Edition 6, 22.1.2.1\n// Reference: http://www.ecma-international.org/ecma-262/6.0/#sec-array.from\nmodule.exports = (function() {\n  var isCallable = function(fn) {\n    return typeof fn === 'function';\n  };\n  var toInteger = function (value) {\n    var number = Number(value);\n    if (isNaN(number)) { return 0; }\n    if (number === 0 || !isFinite(number)) { return number; }\n    return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));\n  };\n  var maxSafeInteger = Math.pow(2, 53) - 1;\n  var toLength = function (value) {\n    var len = toInteger(value);\n    return Math.min(Math.max(len, 0), maxSafeInteger);\n  };\n  var iteratorProp = function(value) {\n    if(value != null) {\n      if(['string','number','boolean','symbol'].indexOf(typeof value) > -1){\n        return Symbol.iterator;\n      } else if (\n        (typeof Symbol !== 'undefined') &&\n        ('iterator' in Symbol) &&\n        (Symbol.iterator in value)\n      ) {\n        return Symbol.iterator;\n      }\n      // Support \"@@iterator\" placeholder, Gecko 27 to Gecko 35\n      else if ('@@iterator' in value) {\n        return '@@iterator';\n      }\n    }\n  };\n  var getMethod = function(O, P) {\n    // Assert: IsPropertyKey(P) is true.\n    if (O != null && P != null) {\n      // Let func be GetV(O, P).\n      var func = O[P];\n      // ReturnIfAbrupt(func).\n      // If func is either undefined or null, return undefined.\n      if(func == null) {\n        return void 0;\n      }\n      // If IsCallable(func) is false, throw a TypeError exception.\n      if (!isCallable(func)) {\n        throw new TypeError(func + ' is not a function');\n      }\n      return func;\n    }\n  };\n  var iteratorStep = function(iterator) {\n    // Let result be IteratorNext(iterator).\n    // ReturnIfAbrupt(result).\n    var result = iterator.next();\n    // Let done be IteratorComplete(result).\n    // ReturnIfAbrupt(done).\n    var done = Boolean(result.done);\n    // If done is true, return false.\n    if(done) {\n      return false;\n    }\n    // Return result.\n    return result;\n  };\n\n  // The length property of the from method is 1.\n  return function from(items /*, mapFn, thisArg */ ) {\n    'use strict';\n\n    // 1. Let C be the this value.\n    var C = this;\n\n    // 2. If mapfn is undefined, let mapping be false.\n    var mapFn = arguments.length > 1 ? arguments[1] : void 0;\n\n    var T;\n    if (typeof mapFn !== 'undefined') {\n      // 3. else\n      //   a. If IsCallable(mapfn) is false, throw a TypeError exception.\n      if (!isCallable(mapFn)) {\n        throw new TypeError(\n          'Array.from: when provided, the second argument must be a function'\n        );\n      }\n\n      //   b. If thisArg was supplied, let T be thisArg; else let T\n      //      be undefined.\n      if (arguments.length > 2) {\n        T = arguments[2];\n      }\n      //   c. Let mapping be true (implied by mapFn)\n    }\n\n    var A, k;\n\n    // 4. Let usingIterator be GetMethod(items, @@iterator).\n    // 5. ReturnIfAbrupt(usingIterator).\n    var usingIterator = getMethod(items, iteratorProp(items));\n\n    // 6. If usingIterator is not undefined, then\n    if (usingIterator !== void 0) {\n      // a. If IsConstructor(C) is true, then\n      //   i. Let A be the result of calling the [[Construct]]\n      //      internal method of C with an empty argument list.\n      // b. Else,\n      //   i. Let A be the result of the abstract operation ArrayCreate\n      //      with argument 0.\n      // c. ReturnIfAbrupt(A).\n      A = isCallable(C) ? Object(new C()) : [];\n\n      // d. Let iterator be GetIterator(items, usingIterator).\n      var iterator = usingIterator.call(items);\n\n      // e. ReturnIfAbrupt(iterator).\n      if (iterator == null) {\n        throw new TypeError(\n          'Array.from requires an array-like or iterable object'\n        );\n      }\n\n      // f. Let k be 0.\n      k = 0;\n\n      // g. Repeat\n      var next, nextValue;\n      while (true) {\n        // i. Let Pk be ToString(k).\n        // ii. Let next be IteratorStep(iterator).\n        // iii. ReturnIfAbrupt(next).\n        next = iteratorStep(iterator);\n\n        // iv. If next is false, then\n        if (!next) {\n\n          // 1. Let setStatus be Set(A, \"length\", k, true).\n          // 2. ReturnIfAbrupt(setStatus).\n          A.length = k;\n\n          // 3. Return A.\n          return A;\n        }\n        // v. Let nextValue be IteratorValue(next).\n        // vi. ReturnIfAbrupt(nextValue)\n        nextValue = next.value;\n\n        // vii. If mapping is true, then\n        //   1. Let mappedValue be Call(mapfn, T, «nextValue, k»).\n        //   2. If mappedValue is an abrupt completion, return\n        //      IteratorClose(iterator, mappedValue).\n        //   3. Let mappedValue be mappedValue.[[value]].\n        // viii. Else, let mappedValue be nextValue.\n        // ix.  Let defineStatus be the result of\n        //      CreateDataPropertyOrThrow(A, Pk, mappedValue).\n        // x. [TODO] If defineStatus is an abrupt completion, return\n        //    IteratorClose(iterator, defineStatus).\n        if (mapFn) {\n          A[k] = mapFn.call(T, nextValue, k);\n        }\n        else {\n          A[k] = nextValue;\n        }\n        // xi. Increase k by 1.\n        k++;\n      }\n      // 7. Assert: items is not an Iterable so assume it is\n      //    an array-like object.\n    } else {\n\n      // 8. Let arrayLike be ToObject(items).\n      var arrayLike = Object(items);\n\n      // 9. ReturnIfAbrupt(items).\n      if (items == null) {\n        throw new TypeError(\n          'Array.from requires an array-like object - not null or undefined'\n        );\n      }\n\n      // 10. Let len be ToLength(Get(arrayLike, \"length\")).\n      // 11. ReturnIfAbrupt(len).\n      var len = toLength(arrayLike.length);\n\n      // 12. If IsConstructor(C) is true, then\n      //     a. Let A be Construct(C, «len»).\n      // 13. Else\n      //     a. Let A be ArrayCreate(len).\n      // 14. ReturnIfAbrupt(A).\n      A = isCallable(C) ? Object(new C(len)) : new Array(len);\n\n      // 15. Let k be 0.\n      k = 0;\n      // 16. Repeat, while k < len… (also steps a - h)\n      var kValue;\n      while (k < len) {\n        kValue = arrayLike[k];\n        if (mapFn) {\n          A[k] = mapFn.call(T, kValue, k);\n        }\n        else {\n          A[k] = kValue;\n        }\n        k++;\n      }\n      // 17. Let setStatus be Set(A, \"length\", len, true).\n      // 18. ReturnIfAbrupt(setStatus).\n      A.length = len;\n      // 19. Return A.\n    }\n    return A;\n  };\n})();\n","const { Component, h } = require(\"preact\");\n\nconst Scrolly = require(\"./scrolly\");\nconst Plot = require(\"./plot\");\n\nclass App extends Component {\n  render() {\n    const { data, section } = this.props;\n\n    if (section) {\n      return <Scrolly section={section} data={data} />;\n    } else {\n      return <Plot data={data} />;\n    }\n  }\n}\n\nmodule.exports = App;\n","const { Component, h } = require(\"preact\");\n\nconst Map = require(\"./map\");\nconst styles = require(\"./background.scss\").default;\n\nclass Background extends Component {\n  render() {\n    const { isFixed, marker } = this.props;\n\n    return (\n      <div\n        ref={(el) => (this.wrapper = el)}\n        className={`${styles.wrapper} ${styles[this.props.attachment]}`}\n      >\n        <Map data={this.props.data} marker={marker} />\n        <div className={styles.legend}>\n          <div className={styles.legendTitle}>Same sex marriage</div>\n          <div className={styles.legendBar} />\n          <div className={styles.legendLabels}>\n            <div className={styles.legendLabel}>&larr; Less support</div>\n            <div className={styles.legendLabel}>More support &rarr;</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nmodule.exports = Background;\n","const { Component, h } = require(\"preact\");\nconst values = require(\"object-values\");\nconst d3 = require(\"d3-selection\");\nconst force = require(\"d3-force\");\nconst transition = require(\"d3-transition\");\nconst TopoJSON = require(\"topojson\");\nconst ranger = require(\"power-ranger\");\nconst Geo = require(\"d3-geo\");\nconst scale = require(\"../data/colour-scale\");\n\nconst mapJSON = require(\"../data/map.quantized.json\");\n\nconst styles = require(\"./map.scss\").default;\n\nlet svg;\nlet features;\nlet mapX = 0;\nlet mapY = 0;\nlet mapZoom;\nlet path;\nlet centered;\nlet locationLabel;\nlet otherLabels;\nlet circles;\nlet simulation;\nlet width;\nlet height;\nlet projection;\nlet data;\nconst margin = 10;\n\nclass Map extends Component {\n  constructor(props) {\n    super(props);\n\n    this.electorate = null;\n    this.findElectorate = this.findElectorate.bind(this);\n\n    this.onResize = this.onResize.bind(this);\n\n    this.initMap = this.initMap.bind(this);\n    this.createLabel = this.createLabel.bind(this);\n    this.updateLabel = this.updateLabel.bind(this);\n\n    this.zoomTo = this.zoomTo.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.marker !== nextProps.marker) {\n      this.zoomTo(nextProps.marker);\n    }\n  }\n\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  componentDidMount() {\n    this.initMap();\n    window.__ODYSSEY__.scheduler.subscribe(this.onResize);\n  }\n\n  componentWillUnmount() {\n    window.__ODYSSEY__.scheduler.unsubscribe(this.onResize);\n  }\n\n  render() {\n    return <div ref={(el) => (this.wrapper = el)} />;\n  }\n\n  onResize(viewport) {\n    if (viewport.width !== width || viewport.height !== height) {\n      width = viewport.width;\n      height = viewport.height;\n\n      projection = Geo.geoMercator()\n        .scale(width * 0.9)\n        .center([131, -27])\n        .translate([width / 2, height / 2]);\n\n      path = Geo.geoPath().projection(projection);\n\n      data.forEach((f) => {\n        f.properties.support = this.props.data.getIn([\n          f.properties.elect_div.toUpperCase(),\n          \"value\",\n        ]);\n        f.properties.name = f.properties.elect_div;\n\n        f.x = path.centroid(f)[0];\n        f.y = path.centroid(f)[1];\n      });\n\n      svg.attr(\"width\", width).attr(\"height\", height);\n\n      features.selectAll(\"path\").attr(\"d\", path);\n\n      this.zoomTo(this.props.marker);\n    }\n  }\n\n  findElectorate(name) {\n    if (!name) return false;\n\n    return data.find((datum) => {\n      return (\n        datum.properties.name.toLowerCase().replace(/[^a-z]/, \"\") ===\n        name.toLowerCase().replace(/[^a-z]/, \"\")\n      );\n    });\n  }\n\n  initMap() {\n    if (!this.wrapper) return;\n\n    const component = this;\n\n    width = window.innerWidth;\n    height = window.innerHeight;\n\n    projection = Geo.geoMercator()\n      .scale(width * 0.9)\n      .center([131, -27])\n      .translate([width / 2, height / 2]);\n\n    path = Geo.geoPath().projection(projection);\n\n    // Graft the support onto the map data\n    data = TopoJSON.feature(mapJSON, mapJSON.objects.map).features.map((f) => {\n      f.properties.support = this.props.data.getIn([\n        f.properties.elect_div.toUpperCase(),\n        \"value\",\n      ]);\n      f.properties.name = f.properties.elect_div;\n\n      f.x = path.centroid(f)[0];\n      f.y = path.centroid(f)[1];\n\n      return f;\n    });\n\n    svg = d3\n      .select(this.wrapper)\n      .append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n    features = svg.append(\"g\").attr(\"class\", styles.features);\n\n    let colours = scale();\n\n    features\n      .selectAll(\"path\")\n      .data(data)\n      .enter()\n      .append(\"path\")\n      .attr(\"d\", path)\n      .style(\"fill\", (d) => colours(d.properties.support))\n      .on(\"click\", (d) => {\n        this.zoomTo({ config: { electorate: d.properties.name } }, true);\n      });\n\n    otherLabels = [\n      this.createLabel(),\n      this.createLabel(),\n      this.createLabel(),\n      this.createLabel(),\n      this.createLabel(),\n      this.createLabel(),\n      this.createLabel(),\n      this.createLabel(),\n      this.createLabel(),\n      this.createLabel(),\n    ];\n    locationLabel = this.createLabel();\n\n    // Zoom to Aus\n    this.zoomTo();\n  }\n\n  createLabel() {\n    const label = features.append(\"g\");\n\n    let balloonWidth = 280;\n    let locationLabelBalloon = label\n      .append(\"g\")\n      .attr(\"fill\", \"black\")\n      .style(\"pointer-events\", \"none\")\n      .attr(\"transform\", `translate(-${balloonWidth / 2}, -69)`);\n    locationLabelBalloon\n      .append(\"polygon\")\n      .attr(\"points\", \"0,0 10,20, 20,0\")\n      .attr(\"transform\", `translate(${balloonWidth / 2 - 10}, 49)`);\n    locationLabelBalloon\n      .append(\"rect\")\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"rx\", 3)\n      .attr(\"ry\", 3)\n      .attr(\"width\", balloonWidth)\n      .attr(\"height\", 50);\n    locationLabelBalloon\n      .append(\"text\")\n      .attr(\"font-size\", 22)\n      .attr(\"fill\", \"white\")\n      .style(\"text-anchor\", \"middle\")\n      .attr(\"x\", balloonWidth / 2)\n      .attr(\"y\", 33)\n      .text(\"\");\n    return label;\n  }\n\n  updateLabel(label, d, k) {\n    if (!d) return;\n\n    // shrink the labels a bit\n    k = k * 1.3;\n\n    let x = d.x;\n    let y = d.y;\n\n    let bounds;\n    switch (d.properties.name.toLowerCase()) {\n      case \"bowman\":\n        bounds = path.bounds(d);\n        x = bounds[0][0] + (bounds[1][0] - bounds[0][0]) * 0.2;\n        break;\n      case \"bonner\":\n        bounds = path.bounds(d);\n        x = bounds[0][0] + (bounds[1][0] - bounds[0][0]) * 0.2;\n        y = bounds[0][1] + (bounds[1][1] - bounds[0][1]) * 0.8;\n        break;\n      case \"mayo\":\n        bounds = path.bounds(d);\n        x = bounds[0][0] + (bounds[1][0] - bounds[0][0]) * 0.8;\n        y = bounds[0][1] + (bounds[1][1] - bounds[0][1]) * 0.5;\n        break;\n      case \"parkes\":\n        bounds = path.bounds(d);\n        x = bounds[0][0] + (bounds[1][0] - bounds[0][0]) * 0.7;\n        break;\n      case \"fenner\":\n        bounds = path.bounds(d);\n        x = bounds[0][0] + (bounds[1][0] - bounds[0][0]) * 0.1;\n        break;\n      default:\n      // nothing\n    }\n\n    label\n      .attr(\"transform\", `translate(${x}, ${y}) scale(${1 / k})`)\n      .style(\"opacity\", 1);\n\n    var text = label.select(\"text\");\n\n    const updatedText =\n      d.properties.name +\n      \" (\" +\n      (Math.round(d.properties.support * 100) + \"%)\");\n    if (updatedText !== text.text()) {\n      text.text(\n        d.properties.name +\n          \" (\" +\n          (Math.round(d.properties.support * 100) + \"%)\")\n      );\n    }\n  }\n\n  zoomTo(marker, wasClicked) {\n    // find the electorate\n    let d = this.findElectorate(marker && marker.config.electorate);\n\n    let x;\n    let y;\n    let k;\n\n    let electorate;\n\n    if (d) {\n      let renderMain = true;\n      let others = [];\n      let renderOthers = true;\n\n      // Find any other electorates\n      otherLabels.forEach((l) => l.style(\"opacity\", 0));\n      if (marker && marker.config.and) {\n        others = [].concat(marker.config.and).map(this.findElectorate);\n\n        // Mobile tweaks\n        if (width < 400) {\n          const name = marker.config.electorate.toLowerCase();\n          // Sydney and Chiffley -> hide chiffley\n          if (\n            name === \"sydney\" &&\n            others[0].properties.name.toLowerCase() === \"chifley\"\n          ) {\n            renderOthers = false;\n          } else if (name === \"griffith\") {\n            renderMain = false;\n            renderOthers = false;\n          } else if (name == \"maranoa\") {\n            renderOthers = false;\n          }\n        } else if (width < 1000) {\n          if (name === \"griffith\") {\n            renderMain = false;\n            renderOthers = false;\n          }\n        }\n      }\n\n      // Compute the new map center and scale to zoom to\n      if (others.length == 0) {\n        x = d.x;\n        y = d.y;\n      } else {\n        let minX = 999999;\n        let maxX = 0;\n        let minY = 999999;\n        let maxY = 0;\n        [d].concat(others).forEach((data) => {\n          minX = Math.min(minX, data.x);\n          maxX = Math.max(maxX, data.x);\n          minY = Math.min(minY, data.y);\n          maxY = Math.max(maxY, data.y);\n        });\n\n        x = minX + (maxX - minX) / 2;\n        y = minY + (maxY - minY) / 2;\n      }\n\n      if (marker && marker.config.zoom) {\n        k = parseInt(marker.config.zoom, 10);\n      } else if (wasClicked) {\n        // Detect zoom level for whole of electorate\n        var centroid = path.centroid(d);\n        var b = path.bounds(d);\n        k =\n          0.8 /\n          Math.max((b[1][0] - b[0][0]) / width, (b[1][1] - b[0][1]) / height);\n        k = Math.min(50, k);\n      } else {\n        k = 50; // Ok-ish zoom to a normal electorate level (based on Brisbane)\n      }\n\n      // Zoom in a bit on mobile\n      if (width < 400) {\n        k = k + k / 4;\n      }\n\n      // Move the map pin and center the text\n      this.updateLabel(locationLabel, d, k);\n\n      // Hide the main maker if need be\n      if ((marker && marker.config.hide) || renderMain === false) {\n        locationLabel.style(\"opacity\", 0);\n      } else {\n        locationLabel.style(\"opacity\", 1);\n      }\n\n      let names = [];\n      if (renderOthers) {\n        others = others.forEach((data, index) => {\n          if (data) names.push(data.properties.name);\n          this.updateLabel(otherLabels[index], data, k);\n        });\n      }\n\n      // Bring the current electorates to the front\n      features.selectAll(\"path\").sort((a, b) => {\n        // main electorate\n        if (a.properties.name !== d.properties.name) return -1;\n        // other electorates\n        if (names.indexOf(a.properties.name) > -1) return -1;\n        // everything else\n        return 1;\n      });\n\n      electorate = d;\n    } else {\n      x = width / 2 + 10; // just off actual center\n      y = height / 2;\n      k = 0.8;\n\n      // mobile width gets a different zoom\n      if (width < 400) {\n        k = 0.8 * 1.55;\n      }\n\n      locationLabel.style(\"opacity\", 0);\n      otherLabels.forEach((l) => l.style(\"opacity\", 0));\n\n      electorate = null;\n    }\n\n    // Don't zoom again\n    if (k === mapZoom && this.state.electorate === electorate) return;\n\n    // Highlight the new feature\n    features.selectAll(\"path\").transition().duration(1400);\n\n    // if the diff of the x and y are both huge then zoom out first\n    const diffX = Math.abs(x - mapX);\n    const diffY = Math.abs(y - mapY);\n    const diffZoom = Math.abs(k - mapZoom);\n    const isFarAway = diffX > 100 || diffY > 100;\n    if (diffY !== 0 && mapZoom >= 2 && k >= 2 && isFarAway) {\n      const middleX = Math.min(x, mapX) + diffX / 2;\n      const middleY = Math.min(y, mapY) + diffY / 2;\n\n      // Middle zoom is the same as the current zoom if it is bigger than the new zoom\n      let middleZoom;\n      // Bounce out a bit if the zooms are within 10% of each other\n      if (k > 5 && diffZoom < Math.max(mapZoom, k) / 2) {\n        middleZoom = Math.min(mapZoom / 2, 5);\n      } else {\n        middleZoom = Math.min(mapZoom, k);\n      }\n\n      features\n        .transition()\n        .duration(800)\n        .attr(\n          \"transform\",\n          `translate(${width / 2}, ${\n            height / 2\n          }) scale(${middleZoom}) translate(${-x}, ${-y})`\n        )\n        .transition()\n        .duration(600)\n        .attr(\n          \"transform\",\n          `translate(${width / 2}, ${\n            height / 2\n          }) scale(${k}) translate(${-x}, ${-y})`\n        );\n    } else {\n      features\n        .transition()\n        .duration(1000)\n        .attr(\n          \"transform\",\n          `translate(${width / 2}, ${\n            height / 2\n          }) scale(${k}) translate(${-x}, ${-y})`\n        );\n    }\n\n    mapX = x;\n    mapY = y;\n    mapZoom = k;\n\n    this.setState({ electorate });\n  }\n}\n\nmodule.exports = Map;\n","const { Component, h } = require(\"preact\");\n\nconst styles = require(\"./marker.scss\").default;\n\nclass Marker extends Component {\n  constructor(props) {\n    super(props);\n\n    this.ref = this.ref.bind(this);\n  }\n\n  shouldComponentUpdate() {\n    return false;\n  }\n\n  componentWillUnmount() {\n    if (!this.element) return;\n    if (!this.props.marker.nodes) return;\n\n    this.props.marker.nodes.forEach((node) => {\n      this.element.removeChild(node);\n    });\n  }\n\n  render() {\n    const { reference, className } = this.props;\n\n    return (\n      <div ref={reference} className={`${styles.wrapper} ${className || \"\"}`}>\n        <div className={`u-richtext-invert ${styles.detail}`} ref={this.ref} />\n      </div>\n    );\n  }\n\n  ref(element) {\n    if (!element) return;\n    if (!this.props.marker.nodes) return;\n\n    this.element = element;\n    this.props.marker.nodes.forEach((node) => {\n      this.element.appendChild(node);\n    });\n  }\n}\n\nmodule.exports = Marker;\n","const { Component, h } = require(\"preact\");\nconst Immutable = require(\"immutable\");\nconst scale = require(\"../data/colour-scale\");\n\nconst styles = require(\"./plot.scss\").default;\n\nclass Plot extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      sortBy: null,\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (!Immutable.is(nextProps.data, this.props.nextData)) {\n      this.colour = scale(nextProps.data);\n    }\n  }\n\n  render() {\n    const { data } = this.props;\n\n    if (!data) return null;\n\n    let sortedData;\n    switch (this.state.sortBy) {\n      case \"asc\":\n        sortedData = data.sortBy((d) => d.get(\"value\"));\n        break;\n      case \"desc\":\n        sortedData = data.sortBy((d) => 0 - d.get(\"value\"));\n        break;\n      default:\n        sortedData = data.sortBy((d) => d.get(\"name\"));\n    }\n\n    return (\n      <div className={styles.wrapper}>\n        <div className={styles.toolbar}>\n          <button\n            onClick={(e) => this.setState({ sortBy: null })}\n            className={this.state.sortBy === null ? styles.activeButton : \"\"}\n          >\n            A-Z\n          </button>\n          <button\n            onClick={(e) => this.setState({ sortBy: \"asc\" })}\n            className={this.state.sortBy === \"asc\" ? styles.activeButton : \"\"}\n          >\n            Low-High\n          </button>\n          <button\n            onClick={(e) => this.setState({ sortBy: \"desc\" })}\n            className={this.state.sortBy === \"desc\" ? styles.activeButton : \"\"}\n          >\n            High-Low\n          </button>\n        </div>\n\n        <div className={styles.table}>\n          <div className={styles.row}>\n            <div className={styles.name} />\n            <div className={`${styles.support} ${styles.guide}`}>50%</div>\n          </div>\n          {sortedData\n            .toList()\n            .map((datum) => {\n              const value = Math.round(100 * datum.get(\"value\")) + \"%\";\n\n              return (\n                <div className={styles.row}>\n                  <div className={styles.name}>{datum.get(\"name\")}</div>\n                  <div className={styles.support}>\n                    <div className={styles.bar}>\n                      <div\n                        aria-label={value}\n                        className={styles.barValue}\n                        style={{ width: value }}\n                      />\n                      <div className={styles.value}>{value}</div>\n                    </div>\n                  </div>\n                </div>\n              );\n            })\n            .toJS()}\n        </div>\n      </div>\n    );\n  }\n}\n\nmodule.exports = Plot;\n","const { Component, h } = require(\"preact\");\n\nconst { initMarkers } = require(\"../loader\");\nconst Marker = require(\"./marker\");\nconst Background = require(\"./background\");\n\nconst styles = require(\"./scrolly.scss\").default;\n\nclass Scrolly extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onScroll = this.onScroll.bind(this);\n\n    this.state = {\n      markers: props.section.markers,\n      currentMarker: null,\n      isBackgroundFixed: false,\n    };\n  }\n\n  componentDidMount() {\n    window.__ODYSSEY__.scheduler.subscribe(this.onScroll);\n  }\n\n  componentWillUnmount() {\n    window.__ODYSSEY__.scheduler.unsubscribe(this.onScroll);\n  }\n\n  onScroll(view) {\n    // Work out which marker is the current one\n    const fold = view.height * 0.4;\n    const pastMarkers = this.state.markers.filter((marker) => {\n      return (\n        marker.element && marker.element.getBoundingClientRect().top < fold\n      );\n    });\n\n    let lastSeenMarker = pastMarkers[pastMarkers.length - 1];\n    if (!lastSeenMarker) lastSeenMarker = this.state.markers[0];\n    if (this.state.currentMarker !== lastSeenMarker) {\n      this.setState({\n        currentMarker: lastSeenMarker,\n      });\n    }\n\n    // Work out if the background should be fixed or not\n    if (this.wrapper) {\n      const bounds = this.wrapper.getBoundingClientRect();\n\n      let backgroundAttachment;\n      if (bounds.top > 0) {\n        backgroundAttachment = \"before\";\n      } else if (bounds.bottom < view.height) {\n        backgroundAttachment = \"after\";\n      } else {\n        backgroundAttachment = \"during\";\n      }\n\n      this.setState({ backgroundAttachment });\n    }\n  }\n\n  render() {\n    if (!this.props.data) return null;\n\n    return (\n      <div ref={(el) => (this.wrapper = el)} className={styles.wrapper}>\n        <Background\n          data={this.props.data}\n          marker={this.state.currentMarker}\n          attachment={this.state.backgroundAttachment}\n        />\n        {this.state.markers.map((marker, index) => {\n          let markerClass = \"\";\n\n          if (index === 0) markerClass = styles.firstMarker;\n          if (index === this.state.markers.length - 1)\n            markerClass = styles.lastMarker;\n\n          return (\n            <Marker\n              marker={marker}\n              reference={(el) => (marker.element = el)}\n              isCurrentMarker={this.state.currentMarker === marker}\n              className={markerClass}\n            />\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nmodule.exports = Scrolly;\n","const Scale = require(\"d3-scale\");\n\nconst colours = [\n  \"#00a3cf\",\n  \"#56b2d7\",\n  \"#7fc1df\",\n  \"#a2d0e7\",\n  \"#c2e0ef\",\n  \"#e1eff7\",\n  \"#ffffff\",\n  \"#ffe7dc\",\n  \"#ffcfb7\",\n  \"#feb593\",\n  \"#f99d70\",\n  \"#f2844f\",\n  \"#e86b2b\",\n];\n\nmodule.exports = () => {\n  let min = 0.1;\n  let max = 0.9;\n\n  return Scale.scaleQuantize().domain([min, max]).range(colours);\n};\n\nmodule.exports.colours = colours;\n","module.exports = `\"electorate\",\"prop\"\n\"ADELAIDE\",0.701\n\"ASTON\",0.6197\n\"BALLARAT\",0.7054\n\"BANKS\",0.4488\n\"BARKER\",0.5226\n\"BARTON\",0.4364\n\"BASS\",0.6169\n\"BATMAN\",0.7116\n\"BENDIGO\",0.6873\n\"BENNELONG\",0.4984\n\"BEROWRA\",0.5456\n\"BLAIR\",0.6002\n\"BLAXLAND\",0.2605\n\"BONNER\",0.6205\n\"BOOTHBY\",0.6851\n\"BOWMAN\",0.6213\n\"BRADDON\",0.5403\n\"BRADFIELD\",0.6058\n\"BRAND\",0.6709\n\"BRISBANE\",0.7951\n\"BRUCE\",0.4691\n\"BURT\",0.5697\n\"CALARE\",0.6019\n\"CALWELL\",0.4316\n\"CANBERRA\",0.7407\n\"CANNING\",0.6023\n\"CAPRICORNIA\",0.5406\n\"CASEY\",0.6806\n\"CHIFLEY\",0.4131\n\"CHISHOLM\",0.6159\n\"COOK\",0.5504\n\"CORANGAMITE\",0.7156\n\"CORIO\",0.6772\n\"COWAN\",0.5882\n\"COWPER\",0.6001\n\"CUNNINGHAM\",0.6567\n\"CURTIN\",0.7222\n\"DAWSON\",0.5515\n\"DEAKIN\",0.6569\n\"DENISON\",0.7378\n\"DICKSON\",0.6516\n\"DOBELL\",0.6575\n\"DUNKLEY\",0.7197\n\"DURACK\",0.5916\n\"EDEN-MONARO\",0.6492\n\"FADDEN\",0.6181\n\"FAIRFAX\",0.6432\n\"FARRER\",0.5521\n\"FENNER\",0.7401\n\"FISHER\",0.6283\n\"FLINDERS\",0.6999\n\"FLYNN\",0.5148\n\"FORDE\",0.6055\n\"FORREST\",0.638\n\"FOWLER\",0.3634\n\"FRANKLIN\",0.6877\n\"FREMANTLE\",0.7009\n\"GELLIBRAND\",0.681\n\"GILMORE\",0.6198\n\"GIPPSLAND\",0.6016\n\"GOLDSTEIN\",0.763\n\"GORTON\",0.5334\n\"GRAYNDLER\",0.7989\n\"GREENWAY\",0.4636\n\"GREY\",0.5331\n\"GRIFFITH\",0.766\n\"GROOM\",0.4916\n\"HASLUCK\",0.6241\n\"HERBERT\",0.6285\n\"HIGGINS\",0.7834\n\"HINDMARSH\",0.6329\n\"HINKLER\",0.5069\n\"HOLT\",0.5068\n\"HOTHAM\",0.596\n\"HUGHES\",0.5841\n\"HUME\",0.5857\n\"HUNTER\",0.6438\n\"INDI\",0.6309\n\"ISAACS\",0.6533\n\"JAGAJAGA\",0.7351\n\"KENNEDY\",0.4674\n\"KINGSFORD SMITH\",0.6411\n\"KINGSTON\",0.681\n\"KOOYONG\",0.7367\n\"LA TROBE\",0.6745\n\"LALOR\",0.5678\n\"LEICHHARDT\",0.6337\n\"LILLEY\",0.6766\n\"LINDSAY\",0.5617\n\"LINGIARI\",0.5448\n\"LONGMAN\",0.6043\n\"LYNE\",0.5531\n\"LYONS\",0.587\n\"MACARTHUR\",0.5205\n\"MACKELLAR\",0.6801\n\"MACQUARIE\",0.6387\n\"MAKIN\",0.6044\n\"MALLEE\",0.5428\n\"MARANOA\",0.4391\n\"MARIBYRNONG\",0.5987\n\"MAYO\",0.6474\n\"MCEWEN\",0.6539\n\"MCMAHON\",0.3507\n\"MCMILLAN\",0.6275\n\"MCPHERSON\",0.6548\n\"MELBOURNE\",0.8369\n\"MELBOURNE PORTS\",0.8197\n\"MENZIES\",0.5695\n\"MITCHELL\",0.491\n\"MONCRIEFF\",0.6378\n\"MOORE\",0.6799\n\"MORETON\",0.6092\n\"MURRAY\",0.5762\n\"NEW ENGLAND\",0.5252\n\"NEWCASTLE\",0.7478\n\"NORTH SYDNEY\",0.7179\n\"O'CONNOR\",0.5617\n\"OXLEY\",0.6033\n\"PAGE\",0.5972\n\"PARKES\",0.5274\n\"PARRAMATTA\",0.3838\n\"PATERSON\",0.6552\n\"PEARCE\",0.6389\n\"PERTH\",0.7146\n\"PETRIE\",0.6164\n\"PORT ADELAIDE\",0.613\n\"RANKIN\",0.5456\n\"REID\",0.5273\n\"RICHMOND\",0.6787\n\"RIVERINA\",0.5463\n\"ROBERTSON\",0.6572\n\"RYAN\",0.7266\n\"SCULLIN\",0.5337\n\"SHORTLAND\",0.6767\n\"SOLOMON\",0.6526\n\"STIRLING\",0.6111\n\"STURT\",0.6157\n\"SWAN\",0.6466\n\"SYDNEY\",0.8367\n\"TANGNEY\",0.6163\n\"WAKEFIELD\",0.61\n\"WANNON\",0.6101\n\"WARRINGAH\",0.7501\n\"WATSON\",0.3036\n\"WENTWORTH\",0.8085\n\"WERRIWA\",0.3626\n\"WHITLAM\",0.6227\n\"WIDE BAY\",0.5565\n\"WILLS\",0.6995\n\"WRIGHT\",0.5681`;\n","if (!Element.prototype.matches) {\n  Element.prototype.matches = // @ts-ignore: Property 'msMatchesSelector' does not exist on type 'Element'\n  Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n}\n\nvar ERROR_INLINE_MOUNT_HAS_NO_PARENT = 'Inline mount has no parent element';\nvar ERROR_ELEMENT_MISSING_NAME_OR_ID = 'Name or id attribute required. Non-mount elements should not be converted to block mounts.';\nvar ERROR_MOUNT_ALREADY_USED = 'Mount point already used.'; // https://gist.github.com/LeverOne/1308368\n// Small local implementation to avoid a dependency\n\nvar INSTANCE_ID = /*#__PURE__*/function (a, b) {\n  for (b = a = ''; a++ < 36; b += a * 51 & 52 ? /*#__PURE__*/(a ^ 15 ? 8 ^ Math.random() * (a ^ 20 ? 16 : 4) : 4).toString(16) : '-') {\n  }\n\n  return b;\n}();\n\nvar MOUNT_SELECTOR_TEMPLATE = ['[data-mount][id', '],a[id', ']:not([href]),a[name', ']:not([href])'];\nvar MOUNT_SELECTOR = /*#__PURE__*/MOUNT_SELECTOR_TEMPLATE.join('');\nvar mountSelectorCache = {};\n\nfunction cachedMountSelector(cacheKey) {\n  if (!mountSelectorCache[cacheKey]) {\n    mountSelectorCache[cacheKey] = MOUNT_SELECTOR_TEMPLATE.join(cacheKey);\n  }\n\n  return mountSelectorCache[cacheKey];\n}\n\nfunction exactMountSelector(value) {\n  return cachedMountSelector(\"=\\\"\" + value + \"\\\"\");\n}\n\nfunction prefixedMountSelector(prefix) {\n  return cachedMountSelector(\"^=\\\"\" + prefix + \"\\\"\");\n}\n\nfunction isNode(x) {\n  return typeof x === 'object' && x instanceof Node;\n}\n\nfunction isElement(x) {\n  return isNode(x) && x.nodeType === Node.ELEMENT_NODE;\n}\n\nfunction isMount(x, value, exact) {\n  if (exact === void 0) {\n    exact = false;\n  }\n\n  return isElement(x) && (value === undefined ? x.matches(MOUNT_SELECTOR) : exact ? x.matches(exactMountSelector(value)) : x.matches(prefixedMountSelector(value)));\n}\nfunction getMountValue(el, value) {\n  if (value === void 0) {\n    value = '';\n  }\n\n  // The filter here is inline with what's possible as anchor IDs in PL https://stash.abc-dev.net.au/projects/PL/repos/pl/commits/01a159f206d1f5f2e34f5424a767fc373a21b669#libraries/rich-text-from-terminus-text/src/visitors/convertHashtagToAnchor.js\n  var re = new RegExp(\"^\" + value.replace(/[^\\w.\\-:]/g, ''));\n  return (el.getAttribute('id') || el.getAttribute('name') || '').replace(re, '');\n}\n\nfunction createBlockMountBasedOnInlineMount(el) {\n  var blockEl = document.createElement('div');\n  var id = el.getAttribute('id') || el.getAttribute('name');\n\n  if (typeof id !== 'string') {\n    throw new Error(ERROR_ELEMENT_MISSING_NAME_OR_ID);\n  }\n\n  blockEl.setAttribute('data-mount', '');\n  blockEl.setAttribute('id', id);\n  el.dataset.mountUsed && blockEl.setAttribute('data-mount-used', el.dataset.mountUsed);\n  return blockEl;\n}\n\nfunction ensureBlockMount(el) {\n  var blockEl = el;\n\n  if (el.tagName === 'A') {\n    var parentEl = el.parentElement;\n\n    if (parentEl === null) {\n      throw new Error(ERROR_INLINE_MOUNT_HAS_NO_PARENT);\n    }\n\n    blockEl = createBlockMountBasedOnInlineMount(el);\n    parentEl.insertBefore(blockEl, el);\n    parentEl.removeChild(el);\n  }\n\n  return blockEl;\n}\nfunction isUsed(mount) {\n  return !!mount.dataset.mountUsed;\n}\n\nfunction isUsedBy(mount) {\n  return mount.dataset.mountUsed;\n}\n\nfunction useMount(mount) {\n  if (mount.dataset.mountUsed && mount.dataset.mountUsed !== INSTANCE_ID) throw new Error(ERROR_MOUNT_ALREADY_USED);\n  mount.dataset.mountUsed = INSTANCE_ID;\n  return mount;\n}\nfunction selectMounts(selector, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$exact = _ref.exact,\n      exact = _ref$exact === void 0 ? false : _ref$exact,\n      _ref$includeOwnUsed = _ref.includeOwnUsed,\n      includeOwnUsed = _ref$includeOwnUsed === void 0 ? false : _ref$includeOwnUsed,\n      _ref$markAsUsed = _ref.markAsUsed,\n      markAsUsed = _ref$markAsUsed === void 0 ? true : _ref$markAsUsed,\n      _ref$convertToBlock = _ref.convertToBlock,\n      convertToBlock = _ref$convertToBlock === void 0 ? true : _ref$convertToBlock;\n\n  var s = selector !== undefined ? exact ? exactMountSelector(selector) : prefixedMountSelector(selector) : MOUNT_SELECTOR;\n  return Array.from(document.querySelectorAll(s)).filter(function (el) {\n    return isMount(el);\n  }).filter(function (mount) {\n    return includeOwnUsed ? isUsedBy(mount) === INSTANCE_ID || !isUsed(mount) : !isUsed(mount);\n  }).map(function (mount) {\n    markAsUsed && useMount(mount);\n    return convertToBlock ? ensureBlockMount(mount) : mount;\n  });\n}\n\nexport { ensureBlockMount, getMountValue, isMount, isUsed, selectMounts, useMount };\n//# sourceMappingURL=mount-utils.esm.js.map\n","require(\"es6-promise/auto\");\nrequire(\"isomorphic-fetch\");\n\nconst arrayFrom = require(\"array-from\");\nconst Immutable = require(\"immutable\");\n\nimport { isMount, getMountValue, selectMounts } from \"@abcnews/mount-utils\";\n\nfunction parseCSV(text) {\n  let data = {};\n  text\n    .split(\"\\n\")\n    .slice(1)\n    .forEach((row) => {\n      row = row.split(\",\");\n      if (row.length === 2) {\n        const name = row[0].replace(/\\\"/g, \"\");\n        data[name.toUpperCase()] = {\n          name: name,\n          value: parseFloat(row[1]),\n        };\n      }\n    });\n  return Immutable.fromJS(data);\n}\n\nfunction getData() {\n  return parseCSV(require(\"./data/fallback-data.csv.js\"));\n\n  // NOTE: FROM NOW ON JUST USE THE \"FALLBACK\" DATA\n\n  // const root = document.querySelector(\n  //   \"[data-interactive-marriage-equality-root]\"\n  // );\n\n  // return fetch(\n  //   root?.getAttribute(\"data-data-url\") ||\n  //     \"/cm/code/9153062/ssm-results-electorate-csv.js\",\n  //   {\n  //     credentials: \"same-origin\",\n  //   }\n  // )\n  //   .then((r) => r.text())\n  //   .then((text) => parseCSV(text))\n  //   .catch((error) => {\n  //     console.error(error);\n  //     return parseCSV(require(\"./data/fallback-data.csv.js\"));\n  //   });\n}\n\n// Load any scrollyteller content from Odyssey\nlet scrollytellers;\nfunction getScrollytellers() {\n  const mounts = selectMounts();\n\n  mounts.forEach((mount) => {\n    const anchorEl = document.createElement(\"a\");\n    anchorEl.name = mount.id;\n    anchorEl.innerHTML = \" \";\n\n    // replace el with newEL\n    mount.parentNode.replaceChild(anchorEl, mount);\n  });\n\n  if (!scrollytellers) {\n    scrollytellers = window.__ODYSSEY__.utils.mounts\n      .getSections(\"scrollyteller\")\n      .map((section) => {\n        section.mountNode = document.createElement(\"div\");\n        section.mountNode.className = \"u-full\";\n        section.startNode.parentNode.insertBefore(\n          section.mountNode,\n          section.startNode\n        );\n\n        section.markers = initMarkers(section, \"mark\");\n\n        return section;\n      });\n  }\n  return scrollytellers;\n}\n\nlet charts;\nfunction getCharts() {\n  if (!charts) {\n    charts = arrayFrom(document.querySelectorAll('[name=\"chart\"]')).map(\n      (node) => {\n        node.mountNode = document.createElement(\"div\");\n        node.parentNode.insertBefore(node.mountNode, node);\n\n        return node;\n      }\n    );\n  }\n  return charts;\n}\n\n// Create markers from actual markers and anything that follows them within the section\nfunction initMarkers(section, name) {\n  let markers = [];\n  let nextConfig = {};\n  let nextNodes = [];\n\n  let idx = 0;\n\n  // Commit the current nodes to a marker\n  function pushMarker() {\n    if (nextNodes.length === 0) return;\n\n    markers.push({\n      idx: idx++,\n      config: nextConfig,\n      nodes: nextNodes,\n      section,\n    });\n    nextNodes = [];\n  }\n\n  // Check the section nodes for markers and marker content\n  section.betweenNodes.forEach((node, index) => {\n    if (\n      node.tagName === \"A\" &&\n      node.getAttribute(\"name\") &&\n      node.getAttribute(\"name\").indexOf(name) === 0\n    ) {\n      // Found a new marker so we should commit the last one\n      pushMarker();\n\n      // If marker has no config then just use the previous config\n      let configString = node\n        .getAttribute(\"name\")\n        .replace(new RegExp(`^${name}`), \"\");\n      if (configString) {\n        nextConfig = alternatingCaseToObject(configString);\n        nextConfig.hash = configString;\n      } else {\n        // Empty marks should stop the piecemeal flow\n        nextConfig.piecemeal = false;\n      }\n    } else if (!node.mountable) {\n      // Any other nodes just get grouped for the next marker\n      nextNodes.push(node);\n      node.parentNode.removeChild(node);\n    }\n\n    // Any trailing nodes just get added as a last marker\n    if (index === section.betweenNodes.length - 1) {\n      pushMarker();\n    }\n\n    // If piecemeal is on/true then each node has its own box\n    if (nextConfig.piecemeal) {\n      pushMarker();\n    }\n  });\n\n  return markers;\n}\n\nfunction alternatingCaseToObject(string) {\n  const config = string.match(/[A-Z]+[0-9a-z]+/g);\n\n  if (!config) return {};\n\n  let o = {};\n\n  config.forEach((match) => {\n    let [, key, value] = match.match(/([A-Z]+)([0-9a-z]+)/);\n    key = key.toLowerCase();\n\n    if (o[key]) {\n      // Key exists so treat it as a list\n      if (!(o[key] instanceof Array)) {\n        o[key] = [o[key]];\n      }\n      o[key].push(value);\n    } else {\n      o[key] = value;\n    }\n  });\n\n  return o;\n}\n\n// module.exports = { getData, getScrollytellers, getCharts };\n\nexport { getData, getScrollytellers, getCharts };\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".zzgHYk{width:100vw;height:100vh;background:#2e3638}.wUowCd{position:absolute;top:0;left:0}.ozE4k6{position:fixed;top:0;left:0}.M_QOOq{position:absolute;bottom:0;height:100vh !important}.nnYpGL{position:absolute;bottom:5vh;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.5);color:#fff;width:100%;max-width:400px;padding:15px;border-radius:3px}.RmUlAG{text-align:center;font-size:15px;margin-bottom:12px;text-transform:uppercase}.LYbBcL{height:10px;width:100%;margin-bottom:5px;background:linear-gradient(90deg, #00a3cf, #ffffff 50%, #e86b2b)}.zzEKhp{display:flex}.XQh8_r{width:50%;text-align:left;font-size:13px;margin:0 0 0 10px}.XQh8_r:last-of-type{text-align:right;margin:0 10px 0 0}@media only screen and (max-device-width: 667px)and (-webkit-min-device-pixel-ratio: 2){.zzgHYk{height:100%}.nnYpGL{border-radius:0;bottom:0;background:#2e3638;padding:10px}.RmUlAG{font-size:12px;margin-bottom:5px}.zzEKhp{font-size:10px}}\", \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"wrapper\": \"zzgHYk\",\n\t\"before\": \"wUowCd\",\n\t\"during\": \"ozE4k6\",\n\t\"after\": \"M_QOOq\",\n\t\"legend\": \"nnYpGL\",\n\t\"legend-title\": \"RmUlAG\",\n\t\"legendTitle\": \"RmUlAG\",\n\t\"legend-bar\": \"LYbBcL\",\n\t\"legendBar\": \"LYbBcL\",\n\t\"legend-labels\": \"zzEKhp\",\n\t\"legendLabels\": \"zzEKhp\",\n\t\"legend-label\": \"XQh8_r\",\n\t\"legendLabel\": \"XQh8_r\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"path{stroke-width:.02;stroke:#333;fill:#999}.Dmf3OK{stroke-width:.5px;stroke:#000;cursor:pointer}.S3Qbxp{fill:#000;stroke-width:.02px;stroke:#fff;font-size:.7px;font-weight:bold;text-anchor:middle}.j7C166{fill:#000;stroke-width:.015px;stroke:#fff;font-size:.6px;font-weight:bold;text-anchor:middle}@media only screen and (max-device-width: 667px)and (-webkit-min-device-pixel-ratio: 2){path{stroke-width:.005}}\", \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"circle\": \"Dmf3OK\",\n\t\"location-name\": \"S3Qbxp\",\n\t\"locationName\": \"S3Qbxp\",\n\t\"location-name-small\": \"j7C166\",\n\t\"locationNameSmall\": \"j7C166\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".pWYfUc{padding-top:40vh;padding-bottom:40vh;position:relative;pointer-events:none}.EB8PMl{max-width:650px;margin:auto;padding:30px;padding-bottom:0px;border-radius:3px;background:rgba(0,0,0,.7)}.EB8PMl p{font-size:22px;pointer-events:initial}@media only screen and (max-device-width: 667px)and (-webkit-min-device-pixel-ratio: 2){.EB8PMl{max-width:95%}.EB8PMl p{font-size:18px}}\", \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"wrapper\": \"pWYfUc\",\n\t\"detail\": \"EB8PMl\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAABGdBTUEAALGPC/xhBQAAAA1JREFUCB1juHv37n8ACMkDl+5ruHAAAAAASUVORK5CYII=\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".v5ciSk{display:table;width:100%;font-family:Arial,Helvetica,sans-serif}.FrVdbO{width:100%;display:table-row}.Ldro1a{width:150px;font-size:12px;display:table-cell;padding:5px;text-align:right}.hc1i5C{display:table-cell;padding:2px 5px 5px 5px;vertical-align:middle;background:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") 50% 0 repeat-y}.qgRfVE{text-align:center;background:none;color:#999}.D2BS7Z{width:100%;height:10px}.ZqKRTn{background:#666;height:10px;display:inline-block}.a6Mpt9{font-size:10px;color:#333;margin-left:5px;display:inline-block;vertical-align:middle;margin-top:-2px}.xUmYZX{width:100%;margin-bottom:20px;display:flex;height:3rem}.xUmYZX button{outline:none;flex:1 1 2.3125rem;width:2.3125rem;background:#eee;font-size:14px;font-weight:700;border:none;cursor:pointer;padding:5px 10px;margin:0 2px}.xUmYZX button.bFcig9{background:#757575;color:#fff}@media only screen and (max-device-width: 667px)and (-webkit-min-device-pixel-ratio: 2){.D2BS7Z{margin-top:-10px}}\", \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"table\": \"v5ciSk\",\n\t\"row\": \"FrVdbO\",\n\t\"name\": \"Ldro1a\",\n\t\"support\": \"hc1i5C\",\n\t\"guide\": \"qgRfVE\",\n\t\"bar\": \"D2BS7Z\",\n\t\"bar-value\": \"ZqKRTn\",\n\t\"barValue\": \"ZqKRTn\",\n\t\"value\": \"a6Mpt9\",\n\t\"toolbar\": \"xUmYZX\",\n\t\"active-button\": \"bFcig9\",\n\t\"activeButton\": \"bFcig9\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".GmiAMJ{font-family:Arial,sans-serif;position:relative}.GmiAMJ *{box-sizing:border-box}.D7vAo2{padding-top:100vh !important}.pj4_5R{padding-bottom:100vh !important}\", \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"wrapper\": \"GmiAMJ\",\n\t\"first-marker\": \"D7vAo2\",\n\t\"firstMarker\": \"D7vAo2\",\n\t\"last-marker\": \"pj4_5R\",\n\t\"lastMarker\": \"pj4_5R\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n\n      content += cssWithMappingToString(item);\n\n      if (needLayer) {\n        content += \"}\";\n      }\n\n      if (item[2]) {\n        content += \"}\";\n      }\n\n      if (item[4]) {\n        content += \"}\";\n      }\n\n      return content;\n    }).join(\"\");\n  }; // import a list of modules into the list\n\n\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (!url) {\n    return url;\n  }\n\n  url = String(url.__esModule ? url.default : url); // If url is already wrapped in quotes, remove them\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n\n  if (options.hash) {\n    url += options.hash;\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n\n  return url;\n};","\"use strict\";\n\nmodule.exports = function (i) {\n  return i[1];\n};","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar Kn = 18,\n    Xn = 0.950470, // D65 standard referent\n    Yn = 1,\n    Zn = 1.088830,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var b = rgb2xyz(o.r),\n      a = rgb2xyz(o.g),\n      l = rgb2xyz(o.b),\n      x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n      y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n      z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    y = Yn * lab2xyz(y);\n    x = Xn * lab2xyz(x);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction xyz2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2xyz(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export default function(x, y) {\n  var nodes;\n\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force() {\n    var i,\n        n = nodes.length,\n        node,\n        sx = 0,\n        sy = 0;\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i], sx += node.x, sy += node.y;\n    }\n\n    for (sx = sx / n - x, sy = sy / n - y, i = 0; i < n; ++i) {\n      node = nodes[i], node.x -= sx, node.y -= sy;\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function() {\n  return (Math.random() - 0.5) * 1e-6;\n}\n","export default function(d) {\n  var x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, inherit the existing extent.\n  if (x1 < x0) x0 = this._x0, x1 = this._x1;\n  if (y1 < y0) y0 = this._y0, y1 = this._y1;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add\";\nimport tree_cover from \"./cover\";\nimport tree_data from \"./data\";\nimport tree_extent from \"./extent\";\nimport tree_find from \"./find\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove\";\nimport tree_root from \"./root\";\nimport tree_size from \"./size\";\nimport tree_visit from \"./visit\";\nimport tree_visitAfter from \"./visitAfter\";\nimport tree_x, {defaultX} from \"./x\";\nimport tree_y, {defaultY} from \"./y\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {quadtree} from \"d3-quadtree\";\n\nfunction x(d) {\n  return d.x + d.vx;\n}\n\nfunction y(d) {\n  return d.y + d.vy;\n}\n\nexport default function(radius) {\n  var nodes,\n      radii,\n      strength = 1,\n      iterations = 1;\n\n  if (typeof radius !== \"function\") radius = constant(radius == null ? 1 : +radius);\n\n  function force() {\n    var i, n = nodes.length,\n        tree,\n        node,\n        xi,\n        yi,\n        ri,\n        ri2;\n\n    for (var k = 0; k < iterations; ++k) {\n      tree = quadtree(nodes, x, y).visitAfter(prepare);\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        ri = radii[node.index], ri2 = ri * ri;\n        xi = node.x + node.vx;\n        yi = node.y + node.vy;\n        tree.visit(apply);\n      }\n    }\n\n    function apply(quad, x0, y0, x1, y1) {\n      var data = quad.data, rj = quad.r, r = ri + rj;\n      if (data) {\n        if (data.index > node.index) {\n          var x = xi - data.x - data.vx,\n              y = yi - data.y - data.vy,\n              l = x * x + y * y;\n          if (l < r * r) {\n            if (x === 0) x = jiggle(), l += x * x;\n            if (y === 0) y = jiggle(), l += y * y;\n            l = (r - (l = Math.sqrt(l))) / l * strength;\n            node.vx += (x *= l) * (r = (rj *= rj) / (ri2 + rj));\n            node.vy += (y *= l) * r;\n            data.vx -= x * (r = 1 - r);\n            data.vy -= y * r;\n          }\n        }\n        return;\n      }\n      return x0 > xi + r || x1 < xi - r || y0 > yi + r || y1 < yi - r;\n    }\n  }\n\n  function prepare(quad) {\n    if (quad.data) return quad.r = radii[quad.data.index];\n    for (var i = quad.r = 0; i < 4; ++i) {\n      if (quad[i] && quad[i].r > quad.r) {\n        quad.r = quad[i].r;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    radii = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], radii[node.index] = +radius(node, i, nodes);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = +_, force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  return force;\n}\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries don’t change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else if (x0 > x || x > x1 || y0 > y || y > y1) {\n    var z = x1 - x0,\n        node = this._root,\n        parent,\n        i;\n\n    switch (i = (y < (y0 + y1) / 2) << 1 | (x < (x0 + x1) / 2)) {\n      case 0: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, y1 = y0 + z, x > x1 || y > y1);\n        break;\n      }\n      case 1: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, y1 = y0 + z, x0 > x || y > y1);\n        break;\n      }\n      case 2: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x1 = x0 + z, y0 = y1 - z, x > x1 || y0 > y);\n        break;\n      }\n      case 3: {\n        do parent = new Array(4), parent[i] = node, node = parent;\n        while (z *= 2, x0 = x1 - z, y0 = y1 - z, x0 > x || y0 > y);\n        break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  // If the quadtree covers the point already, just return.\n  else return this;\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant can’t contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isn’t necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {map} from \"d3-collection\";\n\nfunction index(d) {\n  return d.index;\n}\n\nfunction find(nodeById, nodeId) {\n  var node = nodeById.get(nodeId);\n  if (!node) throw new Error(\"missing: \" + nodeId);\n  return node;\n}\n\nexport default function(links) {\n  var id = index,\n      strength = defaultStrength,\n      strengths,\n      distance = constant(30),\n      distances,\n      nodes,\n      count,\n      bias,\n      iterations = 1;\n\n  if (links == null) links = [];\n\n  function defaultStrength(link) {\n    return 1 / Math.min(count[link.source.index], count[link.target.index]);\n  }\n\n  function force(alpha) {\n    for (var k = 0, n = links.length; k < iterations; ++k) {\n      for (var i = 0, link, source, target, x, y, l, b; i < n; ++i) {\n        link = links[i], source = link.source, target = link.target;\n        x = target.x + target.vx - source.x - source.vx || jiggle();\n        y = target.y + target.vy - source.y - source.vy || jiggle();\n        l = Math.sqrt(x * x + y * y);\n        l = (l - distances[i]) / l * alpha * strengths[i];\n        x *= l, y *= l;\n        target.vx -= x * (b = bias[i]);\n        target.vy -= y * b;\n        source.vx += x * (b = 1 - b);\n        source.vy += y * b;\n      }\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n\n    var i,\n        n = nodes.length,\n        m = links.length,\n        nodeById = map(nodes, id),\n        link;\n\n    for (i = 0, count = new Array(n); i < m; ++i) {\n      link = links[i], link.index = i;\n      if (typeof link.source !== \"object\") link.source = find(nodeById, link.source);\n      if (typeof link.target !== \"object\") link.target = find(nodeById, link.target);\n      count[link.source.index] = (count[link.source.index] || 0) + 1;\n      count[link.target.index] = (count[link.target.index] || 0) + 1;\n    }\n\n    for (i = 0, bias = new Array(m); i < m; ++i) {\n      link = links[i], bias[i] = count[link.source.index] / (count[link.source.index] + count[link.target.index]);\n    }\n\n    strengths = new Array(m), initializeStrength();\n    distances = new Array(m), initializeDistance();\n  }\n\n  function initializeStrength() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      strengths[i] = +strength(links[i], i, links);\n    }\n  }\n\n  function initializeDistance() {\n    if (!nodes) return;\n\n    for (var i = 0, n = links.length; i < n; ++i) {\n      distances[i] = +distance(links[i], i, links);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.links = function(_) {\n    return arguments.length ? (links = _, initialize(), force) : links;\n  };\n\n  force.id = function(_) {\n    return arguments.length ? (id = _, force) : id;\n  };\n\n  force.iterations = function(_) {\n    return arguments.length ? (iterations = +_, force) : iterations;\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initializeStrength(), force) : strength;\n  };\n\n  force.distance = function(_) {\n    return arguments.length ? (distance = typeof _ === \"function\" ? _ : constant(+_), initializeDistance(), force) : distance;\n  };\n\n  return force;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {map} from \"d3-collection\";\nimport {timer} from \"d3-timer\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\");\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick() {\n    var i, n = nodes.length, node;\n\n    alpha += (alphaTarget - alpha) * alphaDecay;\n\n    forces.each(function(force) {\n      force(alpha);\n    });\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (node.fx == null) node.x += node.vx *= velocityDecay;\n      else node.x = node.fx, node.vx = 0;\n      if (node.fy == null) node.y += node.vy *= velocityDecay;\n      else node.y = node.fy, node.vy = 0;\n    }\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.each(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.remove(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import constant from \"./constant\";\nimport jiggle from \"./jiggle\";\nimport {quadtree} from \"d3-quadtree\";\nimport {x, y} from \"./simulation\";\n\nexport default function() {\n  var nodes,\n      node,\n      alpha,\n      strength = constant(-30),\n      strengths,\n      distanceMin2 = 1,\n      distanceMax2 = Infinity,\n      theta2 = 0.81;\n\n  function force(_) {\n    var i, n = nodes.length, tree = quadtree(nodes, x, y).visitAfter(accumulate);\n    for (alpha = _, i = 0; i < n; ++i) node = nodes[i], tree.visit(apply);\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length, node;\n    strengths = new Array(n);\n    for (i = 0; i < n; ++i) node = nodes[i], strengths[node.index] = +strength(node, i, nodes);\n  }\n\n  function accumulate(quad) {\n    var strength = 0, q, c, weight = 0, x, y, i;\n\n    // For internal nodes, accumulate forces from child quadrants.\n    if (quad.length) {\n      for (x = y = i = 0; i < 4; ++i) {\n        if ((q = quad[i]) && (c = Math.abs(q.value))) {\n          strength += q.value, weight += c, x += c * q.x, y += c * q.y;\n        }\n      }\n      quad.x = x / weight;\n      quad.y = y / weight;\n    }\n\n    // For leaf nodes, accumulate forces from coincident quadrants.\n    else {\n      q = quad;\n      q.x = q.data.x;\n      q.y = q.data.y;\n      do strength += strengths[q.data.index];\n      while (q = q.next);\n    }\n\n    quad.value = strength;\n  }\n\n  function apply(quad, x1, _, x2) {\n    if (!quad.value) return true;\n\n    var x = quad.x - node.x,\n        y = quad.y - node.y,\n        w = x2 - x1,\n        l = x * x + y * y;\n\n    // Apply the Barnes-Hut approximation if possible.\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (w * w / theta2 < l) {\n      if (l < distanceMax2) {\n        if (x === 0) x = jiggle(), l += x * x;\n        if (y === 0) y = jiggle(), l += y * y;\n        if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n        node.vx += x * quad.value * alpha / l;\n        node.vy += y * quad.value * alpha / l;\n      }\n      return true;\n    }\n\n    // Otherwise, process points directly.\n    else if (quad.length || l >= distanceMax2) return;\n\n    // Limit forces for very close nodes; randomize direction if coincident.\n    if (quad.data !== node || quad.next) {\n      if (x === 0) x = jiggle(), l += x * x;\n      if (y === 0) y = jiggle(), l += y * y;\n      if (l < distanceMin2) l = Math.sqrt(distanceMin2 * l);\n    }\n\n    do if (quad.data !== node) {\n      w = strengths[quad.data.index] * alpha / l;\n      node.vx += x * w;\n      node.vy += y * w;\n    } while (quad = quad.next);\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.distanceMin = function(_) {\n    return arguments.length ? (distanceMin2 = _ * _, force) : Math.sqrt(distanceMin2);\n  };\n\n  force.distanceMax = function(_) {\n    return arguments.length ? (distanceMax2 = _ * _, force) : Math.sqrt(distanceMax2);\n  };\n\n  force.theta = function(_) {\n    return arguments.length ? (theta2 = _ * _, force) : Math.sqrt(theta2);\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\n\nexport default function(radius, x, y) {\n  var nodes,\n      strength = constant(0.1),\n      strengths,\n      radiuses;\n\n  if (typeof radius !== \"function\") radius = constant(+radius);\n  if (x == null) x = 0;\n  if (y == null) y = 0;\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length; i < n; ++i) {\n      var node = nodes[i],\n          dx = node.x - x || 1e-6,\n          dy = node.y - y || 1e-6,\n          r = Math.sqrt(dx * dx + dy * dy),\n          k = (radiuses[i] - r) * strengths[i] * alpha / r;\n      node.vx += dx * k;\n      node.vy += dy * k;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    radiuses = new Array(n);\n    for (i = 0; i < n; ++i) {\n      radiuses[i] = +radius(nodes[i], i, nodes);\n      strengths[i] = isNaN(radiuses[i]) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _, initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : radius;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = +_, force) : x;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = +_, force) : y;\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\n\nexport default function(x) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      xz;\n\n  if (typeof x !== \"function\") x = constant(x == null ? 0 : +x);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vx += (xz[i] - node.x) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    xz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(xz[i] = +x(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : x;\n  };\n\n  return force;\n}\n","import constant from \"./constant\";\n\nexport default function(y) {\n  var strength = constant(0.1),\n      nodes,\n      strengths,\n      yz;\n\n  if (typeof y !== \"function\") y = constant(y == null ? 0 : +y);\n\n  function force(alpha) {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.vy += (yz[i] - node.y) * strengths[i] * alpha;\n    }\n  }\n\n  function initialize() {\n    if (!nodes) return;\n    var i, n = nodes.length;\n    strengths = new Array(n);\n    yz = new Array(n);\n    for (i = 0; i < n; ++i) {\n      strengths[i] = isNaN(yz[i] = +y(nodes[i], i, nodes)) ? 0 : +strength(nodes[i], i, nodes);\n    }\n  }\n\n  force.initialize = function(_) {\n    nodes = _;\n    initialize();\n  };\n\n  force.strength = function(_) {\n    return arguments.length ? (strength = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : strength;\n  };\n\n  force.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), initialize(), force) : y;\n  };\n\n  return force;\n}\n","// Adds floating point numbers with twice the normal precision.\n// Reference: J. R. Shewchuk, Adaptive Precision Floating-Point Arithmetic and\n// Fast Robust Geometric Predicates, Discrete & Computational Geometry 18(3)\n// 305–363 (1997).\n// Code adapted from GeographicLib by Charles F. F. Karney,\n// http://geographiclib.sourceforge.net/\n\nexport default function() {\n  return new Adder;\n}\n\nfunction Adder() {\n  this.reset();\n}\n\nAdder.prototype = {\n  constructor: Adder,\n  reset: function() {\n    this.s = // rounded value\n    this.t = 0; // exact error\n  },\n  add: function(y) {\n    add(temp, y, this.t);\n    add(this, temp.s, this.s);\n    if (this.s) this.t += temp.t;\n    else this.s = temp.t;\n  },\n  valueOf: function() {\n    return this.s;\n  }\n};\n\nvar temp = new Adder;\n\nfunction add(adder, a, b) {\n  var x = adder.s = a + b,\n      bv = x - a,\n      av = x - bv;\n  adder.t = (a - av) + (b - bv);\n}\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function noop() {}\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import adder from \"./adder\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import adder from \"./adder\";\nimport {areaStream, areaRingSum} from \"./area\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport {abs, degrees, epsilon, radians} from \"./math\";\nimport stream from \"./stream\";\n\nvar lambda0, phi0, lambda1, phi1, // bounds\n    lambda2, // previous lambda-coordinate\n    lambda00, phi00, // first point\n    p0, // previous 3D point\n    deltaSum = adder(),\n    ranges,\n    range;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: boundsLineStart,\n  lineEnd: boundsLineEnd,\n  polygonStart: function() {\n    boundsStream.point = boundsRingPoint;\n    boundsStream.lineStart = boundsRingStart;\n    boundsStream.lineEnd = boundsRingEnd;\n    deltaSum.reset();\n    areaStream.polygonStart();\n  },\n  polygonEnd: function() {\n    areaStream.polygonEnd();\n    boundsStream.point = boundsPoint;\n    boundsStream.lineStart = boundsLineStart;\n    boundsStream.lineEnd = boundsLineEnd;\n    if (areaRingSum < 0) lambda0 = -(lambda1 = 180), phi0 = -(phi1 = 90);\n    else if (deltaSum > epsilon) phi1 = 90;\n    else if (deltaSum < -epsilon) phi0 = -90;\n    range[0] = lambda0, range[1] = lambda1;\n  }\n};\n\nfunction boundsPoint(lambda, phi) {\n  ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n}\n\nfunction linePoint(lambda, phi) {\n  var p = cartesian([lambda * radians, phi * radians]);\n  if (p0) {\n    var normal = cartesianCross(p0, p),\n        equatorial = [normal[1], -normal[0], 0],\n        inflection = cartesianCross(equatorial, normal);\n    cartesianNormalizeInPlace(inflection);\n    inflection = spherical(inflection);\n    var delta = lambda - lambda2,\n        sign = delta > 0 ? 1 : -1,\n        lambdai = inflection[0] * degrees * sign,\n        phii,\n        antimeridian = abs(delta) > 180;\n    if (antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = inflection[1] * degrees;\n      if (phii > phi1) phi1 = phii;\n    } else if (lambdai = (lambdai + 360) % 360 - 180, antimeridian ^ (sign * lambda2 < lambdai && lambdai < sign * lambda)) {\n      phii = -inflection[1] * degrees;\n      if (phii < phi0) phi0 = phii;\n    } else {\n      if (phi < phi0) phi0 = phi;\n      if (phi > phi1) phi1 = phi;\n    }\n    if (antimeridian) {\n      if (lambda < lambda2) {\n        if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n      } else {\n        if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n      }\n    } else {\n      if (lambda1 >= lambda0) {\n        if (lambda < lambda0) lambda0 = lambda;\n        if (lambda > lambda1) lambda1 = lambda;\n      } else {\n        if (lambda > lambda2) {\n          if (angle(lambda0, lambda) > angle(lambda0, lambda1)) lambda1 = lambda;\n        } else {\n          if (angle(lambda, lambda1) > angle(lambda0, lambda1)) lambda0 = lambda;\n        }\n      }\n    }\n  } else {\n    ranges.push(range = [lambda0 = lambda, lambda1 = lambda]);\n  }\n  if (phi < phi0) phi0 = phi;\n  if (phi > phi1) phi1 = phi;\n  p0 = p, lambda2 = lambda;\n}\n\nfunction boundsLineStart() {\n  boundsStream.point = linePoint;\n}\n\nfunction boundsLineEnd() {\n  range[0] = lambda0, range[1] = lambda1;\n  boundsStream.point = boundsPoint;\n  p0 = null;\n}\n\nfunction boundsRingPoint(lambda, phi) {\n  if (p0) {\n    var delta = lambda - lambda2;\n    deltaSum.add(abs(delta) > 180 ? delta + (delta > 0 ? 360 : -360) : delta);\n  } else {\n    lambda00 = lambda, phi00 = phi;\n  }\n  areaStream.point(lambda, phi);\n  linePoint(lambda, phi);\n}\n\nfunction boundsRingStart() {\n  areaStream.lineStart();\n}\n\nfunction boundsRingEnd() {\n  boundsRingPoint(lambda00, phi00);\n  areaStream.lineEnd();\n  if (abs(deltaSum) > epsilon) lambda0 = -(lambda1 = 180);\n  range[0] = lambda0, range[1] = lambda1;\n  p0 = null;\n}\n\n// Finds the left-right distance between two longitudes.\n// This is almost the same as (lambda1 - lambda0 + 360°) % 360°, except that we want\n// the distance between ±180° to be 360°.\nfunction angle(lambda0, lambda1) {\n  return (lambda1 -= lambda0) < 0 ? lambda1 + 360 : lambda1;\n}\n\nfunction rangeCompare(a, b) {\n  return a[0] - b[0];\n}\n\nfunction rangeContains(range, x) {\n  return range[0] <= range[1] ? range[0] <= x && x <= range[1] : x < range[0] || range[1] < x;\n}\n\nexport default function(feature) {\n  var i, n, a, b, merged, deltaMax, delta;\n\n  phi1 = lambda1 = -(lambda0 = phi0 = Infinity);\n  ranges = [];\n  stream(feature, boundsStream);\n\n  // First, sort ranges by their minimum longitudes.\n  if (n = ranges.length) {\n    ranges.sort(rangeCompare);\n\n    // Then, merge any ranges that overlap.\n    for (i = 1, a = ranges[0], merged = [a]; i < n; ++i) {\n      b = ranges[i];\n      if (rangeContains(a, b[0]) || rangeContains(a, b[1])) {\n        if (angle(a[0], b[1]) > angle(a[0], a[1])) a[1] = b[1];\n        if (angle(b[0], a[1]) > angle(a[0], a[1])) a[0] = b[0];\n      } else {\n        merged.push(a = b);\n      }\n    }\n\n    // Finally, find the largest gap between the merged ranges.\n    // The final bounding box will be the inverse of this gap.\n    for (deltaMax = -Infinity, n = merged.length - 1, i = 0, a = merged[n]; i <= n; a = b, ++i) {\n      b = merged[i];\n      if ((delta = angle(a[1], b[0])) > deltaMax) deltaMax = delta, lambda0 = b[0], lambda1 = a[1];\n    }\n  }\n\n  ranges = range = null;\n\n  return lambda0 === Infinity || phi0 === Infinity\n      ? [[NaN, NaN], [NaN, NaN]]\n      : [[lambda0, phi0], [lambda1, phi1]];\n}\n","import {asin, atan2, cos, degrees, epsilon, epsilon2, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar W0, W1,\n    X0, Y0, Z0,\n    X1, Y1, Z1,\n    X2, Y2, Z2,\n    lambda00, phi00, // first point\n    x0, y0, z0; // previous point\n\nvar centroidStream = {\n  sphere: noop,\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  }\n};\n\n// Arithmetic mean of Cartesian vectors.\nfunction centroidPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  centroidPointCartesian(cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi));\n}\n\nfunction centroidPointCartesian(x, y, z) {\n  ++W0;\n  X0 += (x - X0) / W0;\n  Y0 += (y - Y0) / W0;\n  Z0 += (z - Z0) / W0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidLinePointFirst;\n}\n\nfunction centroidLinePointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidStream.point = centroidLinePoint;\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLinePoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      w = atan2(sqrt((w = y0 * z - z0 * y) * w + (w = z0 * x - x0 * z) * w + (w = x0 * y - y0 * x) * w), x0 * x + y0 * y + z0 * z);\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\n// See J. E. Brock, The Inertia Tensor for a Spherical Triangle,\n// J. Applied Mechanics 42, 239 (1975).\nfunction centroidRingStart() {\n  centroidStream.point = centroidRingPointFirst;\n}\n\nfunction centroidRingEnd() {\n  centroidRingPoint(lambda00, phi00);\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingPointFirst(lambda, phi) {\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  centroidStream.point = centroidRingPoint;\n  var cosPhi = cos(phi);\n  x0 = cosPhi * cos(lambda);\n  y0 = cosPhi * sin(lambda);\n  z0 = sin(phi);\n  centroidPointCartesian(x0, y0, z0);\n}\n\nfunction centroidRingPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var cosPhi = cos(phi),\n      x = cosPhi * cos(lambda),\n      y = cosPhi * sin(lambda),\n      z = sin(phi),\n      cx = y0 * z - z0 * y,\n      cy = z0 * x - x0 * z,\n      cz = x0 * y - y0 * x,\n      m = sqrt(cx * cx + cy * cy + cz * cz),\n      w = asin(m), // line weight = angle\n      v = m && -w / m; // area weight multiplier\n  X2 += v * cx;\n  Y2 += v * cy;\n  Z2 += v * cz;\n  W1 += w;\n  X1 += w * (x0 + (x0 = x));\n  Y1 += w * (y0 + (y0 = y));\n  Z1 += w * (z0 + (z0 = z));\n  centroidPointCartesian(x0, y0, z0);\n}\n\nexport default function(object) {\n  W0 = W1 =\n  X0 = Y0 = Z0 =\n  X1 = Y1 = Z1 =\n  X2 = Y2 = Z2 = 0;\n  stream(object, centroidStream);\n\n  var x = X2,\n      y = Y2,\n      z = Z2,\n      m = x * x + y * y + z * z;\n\n  // If the area-weighted ccentroid is undefined, fall back to length-weighted ccentroid.\n  if (m < epsilon2) {\n    x = X1, y = Y1, z = Z1;\n    // If the feature has zero length, fall back to arithmetic mean of point vectors.\n    if (W1 < epsilon) x = X0, y = Y0, z = Z0;\n    m = x * x + y * y + z * z;\n    // If the feature still has an undefined ccentroid, then return.\n    if (m < epsilon2) return [NaN, NaN];\n  }\n\n  return [atan2(y, x) * degrees, asin(z / sqrt(m)) * degrees];\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose\";\nimport {asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math\";\n\nfunction rotationIdentity(lambda, phi) {\n  return [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    return lambda += deltaLambda, [lambda > pi ? lambda - tau : lambda < -pi ? lambda + tau : lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian\";\nimport constant from \"./constant\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math\";\nimport {rotateRadians} from \"./rotation\";\n\n// Generates a circle centered at [0°, 0°], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import noop from \"../noop\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y) {\n      line.push([x, y]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    // If the first and last points of a segment are coincident, then treat as a\n    // closed ring. TODO if all rings are closed, then the winding order of the\n    // exterior ring should be checked.\n    if (pointEqual(p0, p1)) {\n      stream.lineStart();\n      for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n      stream.lineEnd();\n      return;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","import adder from \"./adder\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian\";\nimport {asin, atan2, cos, epsilon, pi, quarterPi, sin, tau} from \"./math\";\n\nvar sum = adder();\n\nexport default function(polygon, point) {\n  var lambda = point[0],\n      phi = point[1],\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  sum.reset();\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = point0[0],\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = point1[0],\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point’s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon) ^ (winding & 1);\n}\n","import clipBuffer from \"./buffer\";\nimport clipRejoin from \"./rejoin\";\nimport {epsilon, halfPi} from \"../math\";\nimport polygonContains from \"../polygonContains\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian\";\nimport {circleStream} from \"../circle\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math\";\nimport pointEqual from \"../pointEqual\";\nimport clip from \"./index\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        // Handle degeneracies.\n        // TODO ignore if not clipping polygons.\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2)) {\n            point1[0] += epsilon;\n            point1[1] += epsilon;\n            v = visible(point1[0], point1[1]);\n          }\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1]);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 ⨯ n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {abs, epsilon} from \"../math\";\nimport clipBuffer from \"./buffer\";\nimport clipLine from \"./line\";\nimport clipRejoin from \"./rejoin\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon’s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","import clipRectangle from \"./rectangle\";\n\nexport default function() {\n  var x0 = 0,\n      y0 = 0,\n      x1 = 960,\n      y1 = 500,\n      cache,\n      cacheStream,\n      clip;\n\n  return clip = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = clipRectangle(x0, y0, x1, y1)(cacheStream = stream);\n    },\n    extent: function(_) {\n      return arguments.length ? (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1], cache = cacheStream = null, clip) : [[x0, y0], [x1, y1]];\n    }\n  };\n}\n","import adder from \"./adder\";\nimport {abs, atan2, cos, radians, sin, sqrt} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nvar lengthSum = adder(),\n    lambda0,\n    sinPhi0,\n    cosPhi0;\n\nvar lengthStream = {\n  sphere: noop,\n  point: noop,\n  lineStart: lengthLineStart,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop\n};\n\nfunction lengthLineStart() {\n  lengthStream.point = lengthPointFirst;\n  lengthStream.lineEnd = lengthLineEnd;\n}\n\nfunction lengthLineEnd() {\n  lengthStream.point = lengthStream.lineEnd = noop;\n}\n\nfunction lengthPointFirst(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, sinPhi0 = sin(phi), cosPhi0 = cos(phi);\n  lengthStream.point = lengthPoint;\n}\n\nfunction lengthPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  var sinPhi = sin(phi),\n      cosPhi = cos(phi),\n      delta = abs(lambda - lambda0),\n      cosDelta = cos(delta),\n      sinDelta = sin(delta),\n      x = cosPhi * sinDelta,\n      y = cosPhi0 * sinPhi - sinPhi0 * cosPhi * cosDelta,\n      z = sinPhi0 * sinPhi + cosPhi0 * cosPhi * cosDelta;\n  lengthSum.add(atan2(sqrt(x * x + y * y), z));\n  lambda0 = lambda, sinPhi0 = sinPhi, cosPhi0 = cosPhi;\n}\n\nexport default function(object) {\n  lengthSum.reset();\n  stream(object, lengthStream);\n  return +lengthSum;\n}\n","import length from \"./length\";\n\nvar coordinates = [null, null],\n    object = {type: \"LineString\", coordinates: coordinates};\n\nexport default function(a, b) {\n  coordinates[0] = a;\n  coordinates[1] = b;\n  return length(object);\n}\n","import {default as polygonContains} from \"./polygonContains\";\nimport {default as distance} from \"./distance\";\nimport {epsilon, radians} from \"./math\";\n\nvar containsObjectType = {\n  Feature: function(object, point) {\n    return containsGeometry(object.geometry, point);\n  },\n  FeatureCollection: function(object, point) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) if (containsGeometry(features[i].geometry, point)) return true;\n    return false;\n  }\n};\n\nvar containsGeometryType = {\n  Sphere: function() {\n    return true;\n  },\n  Point: function(object, point) {\n    return containsPoint(object.coordinates, point);\n  },\n  MultiPoint: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPoint(coordinates[i], point)) return true;\n    return false;\n  },\n  LineString: function(object, point) {\n    return containsLine(object.coordinates, point);\n  },\n  MultiLineString: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsLine(coordinates[i], point)) return true;\n    return false;\n  },\n  Polygon: function(object, point) {\n    return containsPolygon(object.coordinates, point);\n  },\n  MultiPolygon: function(object, point) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) if (containsPolygon(coordinates[i], point)) return true;\n    return false;\n  },\n  GeometryCollection: function(object, point) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) if (containsGeometry(geometries[i], point)) return true;\n    return false;\n  }\n};\n\nfunction containsGeometry(geometry, point) {\n  return geometry && containsGeometryType.hasOwnProperty(geometry.type)\n      ? containsGeometryType[geometry.type](geometry, point)\n      : false;\n}\n\nfunction containsPoint(coordinates, point) {\n  return distance(coordinates, point) === 0;\n}\n\nfunction containsLine(coordinates, point) {\n  var ab = distance(coordinates[0], coordinates[1]),\n      ao = distance(coordinates[0], point),\n      ob = distance(point, coordinates[1]);\n  return ao + ob <= ab + epsilon;\n}\n\nfunction containsPolygon(coordinates, point) {\n  return !!polygonContains(coordinates.map(ringRadians), pointRadians(point));\n}\n\nfunction ringRadians(ring) {\n  return ring = ring.map(pointRadians), ring.pop(), ring;\n}\n\nfunction pointRadians(point) {\n  return [point[0] * radians, point[1] * radians];\n}\n\nexport default function(object, point) {\n  return (object && containsObjectType.hasOwnProperty(object.type)\n      ? containsObjectType[object.type]\n      : containsGeometry)(object, point);\n}\n","import {range} from \"d3-array\";\nimport {abs, ceil, epsilon} from \"./math\";\n\nfunction graticuleX(y0, y1, dy) {\n  var y = range(y0, y1 - epsilon, dy).concat(y1);\n  return function(x) { return y.map(function(y) { return [x, y]; }); };\n}\n\nfunction graticuleY(x0, x1, dx) {\n  var x = range(x0, x1 - epsilon, dx).concat(x1);\n  return function(y) { return x.map(function(x) { return [x, y]; }); };\n}\n\nexport default function graticule() {\n  var x1, x0, X1, X0,\n      y1, y0, Y1, Y0,\n      dx = 10, dy = dx, DX = 90, DY = 360,\n      x, y, X, Y,\n      precision = 2.5;\n\n  function graticule() {\n    return {type: \"MultiLineString\", coordinates: lines()};\n  }\n\n  function lines() {\n    return range(ceil(X0 / DX) * DX, X1, DX).map(X)\n        .concat(range(ceil(Y0 / DY) * DY, Y1, DY).map(Y))\n        .concat(range(ceil(x0 / dx) * dx, x1, dx).filter(function(x) { return abs(x % DX) > epsilon; }).map(x))\n        .concat(range(ceil(y0 / dy) * dy, y1, dy).filter(function(y) { return abs(y % DY) > epsilon; }).map(y));\n  }\n\n  graticule.lines = function() {\n    return lines().map(function(coordinates) { return {type: \"LineString\", coordinates: coordinates}; });\n  };\n\n  graticule.outline = function() {\n    return {\n      type: \"Polygon\",\n      coordinates: [\n        X(X0).concat(\n        Y(Y1).slice(1),\n        X(X1).reverse().slice(1),\n        Y(Y0).reverse().slice(1))\n      ]\n    };\n  };\n\n  graticule.extent = function(_) {\n    if (!arguments.length) return graticule.extentMinor();\n    return graticule.extentMajor(_).extentMinor(_);\n  };\n\n  graticule.extentMajor = function(_) {\n    if (!arguments.length) return [[X0, Y0], [X1, Y1]];\n    X0 = +_[0][0], X1 = +_[1][0];\n    Y0 = +_[0][1], Y1 = +_[1][1];\n    if (X0 > X1) _ = X0, X0 = X1, X1 = _;\n    if (Y0 > Y1) _ = Y0, Y0 = Y1, Y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.extentMinor = function(_) {\n    if (!arguments.length) return [[x0, y0], [x1, y1]];\n    x0 = +_[0][0], x1 = +_[1][0];\n    y0 = +_[0][1], y1 = +_[1][1];\n    if (x0 > x1) _ = x0, x0 = x1, x1 = _;\n    if (y0 > y1) _ = y0, y0 = y1, y1 = _;\n    return graticule.precision(precision);\n  };\n\n  graticule.step = function(_) {\n    if (!arguments.length) return graticule.stepMinor();\n    return graticule.stepMajor(_).stepMinor(_);\n  };\n\n  graticule.stepMajor = function(_) {\n    if (!arguments.length) return [DX, DY];\n    DX = +_[0], DY = +_[1];\n    return graticule;\n  };\n\n  graticule.stepMinor = function(_) {\n    if (!arguments.length) return [dx, dy];\n    dx = +_[0], dy = +_[1];\n    return graticule;\n  };\n\n  graticule.precision = function(_) {\n    if (!arguments.length) return precision;\n    precision = +_;\n    x = graticuleX(y0, y1, 90);\n    y = graticuleY(x0, x1, precision);\n    X = graticuleX(Y0, Y1, 90);\n    Y = graticuleY(X0, X1, precision);\n    return graticule;\n  };\n\n  return graticule\n      .extentMajor([[-180, -90 + epsilon], [180, 90 - epsilon]])\n      .extentMinor([[-180, -80 - epsilon], [180, 80 + epsilon]]);\n}\n\nexport function graticule10() {\n  return graticule()();\n}\n","import {asin, atan2, cos, degrees, haversin, radians, sin, sqrt} from \"./math\";\n\nexport default function(a, b) {\n  var x0 = a[0] * radians,\n      y0 = a[1] * radians,\n      x1 = b[0] * radians,\n      y1 = b[1] * radians,\n      cy0 = cos(y0),\n      sy0 = sin(y0),\n      cy1 = cos(y1),\n      sy1 = sin(y1),\n      kx0 = cy0 * cos(x0),\n      ky0 = cy0 * sin(x0),\n      kx1 = cy1 * cos(x1),\n      ky1 = cy1 * sin(x1),\n      d = 2 * asin(sqrt(haversin(y1 - y0) + cy0 * cy1 * haversin(x1 - x0))),\n      k = sin(d);\n\n  var interpolate = d ? function(t) {\n    var B = sin(t *= d) / k,\n        A = sin(d - t) / k,\n        x = A * kx0 + B * kx1,\n        y = A * ky0 + B * ky1,\n        z = A * sy0 + B * sy1;\n    return [\n      atan2(y, x) * degrees,\n      atan2(z, sqrt(x * x + y * y)) * degrees\n    ];\n  } : function() {\n    return [x0 * degrees, y0 * degrees];\n  };\n\n  interpolate.distance = d;\n\n  return interpolate;\n}\n","export default function(x) {\n  return x;\n}\n","import adder from \"../adder\";\nimport {abs} from \"../math\";\nimport noop from \"../noop\";\n\nvar areaSum = adder(),\n    areaRingSum = adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum.reset();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum.reset();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import {sqrt} from \"../math\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import noop from \"../noop\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {tau} from \"../math\";\nimport noop from \"../noop\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import adder from \"../adder\";\nimport {sqrt} from \"../math\";\nimport noop from \"../noop\";\n\nvar lengthSum = adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum.reset();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","export default function PathString() {\n  this._string = [];\n}\n\nPathString.prototype = {\n  _radius: 4.5,\n  _circle: circle(4.5),\n  pointRadius: function(_) {\n    if ((_ = +_) !== this._radius) this._radius = _, this._circle = null;\n    return this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._string.push(\"Z\");\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._string.push(\"M\", x, \",\", y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._string.push(\"L\", x, \",\", y);\n        break;\n      }\n      default: {\n        if (this._circle == null) this._circle = circle(this._radius);\n        this._string.push(\"M\", x, \",\", y, this._circle);\n        break;\n      }\n    }\n  },\n  result: function() {\n    if (this._string.length) {\n      var result = this._string.join(\"\");\n      this._string = [];\n      return result;\n    } else {\n      return null;\n    }\n  }\n};\n\nfunction circle(radius) {\n  return \"m0,\" + radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + -2 * radius\n      + \"a\" + radius + \",\" + radius + \" 0 1,1 0,\" + 2 * radius\n      + \"z\";\n}\n","import identity from \"../identity\";\nimport stream from \"../stream\";\nimport pathArea from \"./area\";\nimport pathBounds from \"./bounds\";\nimport pathCentroid from \"./centroid\";\nimport PathContext from \"./context\";\nimport pathMeasure from \"./measure\";\nimport PathString from \"./string\";\n\nexport default function(projection, context) {\n  var pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    return arguments.length ? (projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream, path) : projection;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  return path.projection(projection).context(context);\n}\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","import {default as geoStream} from \"../stream\";\nimport boundsStream from \"../path/bounds\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math\";\nimport {transformer} from \"../transform\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian\";\nimport clipCircle from \"../clip/circle\";\nimport clipRectangle from \"../clip/rectangle\";\nimport compose from \"../compose\";\nimport identity from \"../identity\";\nimport {degrees, radians, sqrt} from \"../math\";\nimport {rotateRadians} from \"../rotation\";\nimport {transformer} from \"../transform\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit\";\nimport resample from \"./resample\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      dx, dy, lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, projectRotate, // rotate\n      theta = null, preclip = clipAntimeridian, // clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // clip extent\n      delta2 = 0.5, projectResample = resample(projectTransform, delta2), // precision\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    point = projectRotate(point[0] * radians, point[1] * radians);\n    return [point[0] * k + dx, dy - point[1] * k];\n  }\n\n  function invert(point) {\n    point = projectRotate.invert((point[0] - dx) / k, (dy - point[1]) / k);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  function projectTransform(x, y) {\n    return x = project(x, y), [x[0] * k + dx, dy - x[1] * k];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    projectRotate = compose(rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma), project);\n    var center = project(lambda, phi);\n    dx = x - center[0] * k;\n    dy = y + center[1] * k;\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {degrees, pi, radians} from \"../math\";\nimport {projectionMutator} from \"./index\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n","import {abs, asin, atan2, cos, epsilon, sign, sin, sqrt} from \"../math\";\nimport {conicProjection} from \"./conic\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y;\n    return [atan2(x, abs(r0y)) / n * sign(r0y), asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n","import {asin, cos, sin} from \"../math\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n","import conicEqualArea from \"./conicEqualArea\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n","import {epsilon} from \"../math\";\nimport albers from \"./albers\";\nimport conicEqualArea from \"./conicEqualArea\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960×500. The projection also works quite well at 960×600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n","import {asin, atan2, cos, sin, sqrt} from \"../math\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n","import {asin, sqrt} from \"../math\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n","import {acos, sin} from \"../math\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math\";\nimport rotation from \"../rotation\";\nimport projection from \"./index\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {abs, atan, atan2, cos, epsilon, halfPi, log, pow, sign, sin, sqrt, tan} from \"../math\";\nimport {conicProjection} from \"./conic\";\nimport {mercatorRaw} from \"./mercator\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy);\n    return [atan2(x, abs(fy)) / n * sign(fy), 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n","import projection from \"./index\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n","import {abs, atan2, cos, epsilon, sign, sin, sqrt} from \"../math\";\nimport {conicProjection} from \"./conic\";\nimport {equirectangularRaw} from \"./equirectangular\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y;\n    return [atan2(x, abs(gy)) / n * sign(gy), g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n","import {atan, cos, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n","import clipRectangle from \"../clip/rectangle\";\nimport identity from \"../identity\";\nimport {transformer} from \"../transform\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit\";\n\nfunction scaleTranslate(kx, ky, tx, ty) {\n  return kx === 1 && ky === 1 && tx === 0 && ty === 0 ? identity : transformer({\n    point: function(x, y) {\n      this.stream.point(x * kx + tx, y * ky + ty);\n    }\n  });\n}\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, transform = identity, // scale, translate and reflect\n      x0 = null, y0, x1, y1, // clip extent\n      postclip = identity,\n      cache,\n      cacheStream,\n      projection;\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return projection = {\n    stream: function(stream) {\n      return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n    },\n    postclip: function(_) {\n      return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n    },\n    clipExtent: function(_) {\n      return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n    },\n    scale: function(_) {\n      return arguments.length ? (transform = scaleTranslate((k = +_) * sx, k * sy, tx, ty), reset()) : k;\n    },\n    translate: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * sy, tx = +_[0], ty = +_[1]), reset()) : [tx, ty];\n    },\n    reflectX: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * (sx = _ ? -1 : 1), k * sy, tx, ty), reset()) : sx < 0;\n    },\n    reflectY: function(_) {\n      return arguments.length ? (transform = scaleTranslate(k * sx, k * (sy = _ ? -1 : 1), tx, ty), reset()) : sy < 0;\n    },\n    fitExtent: function(extent, object) {\n      return fitExtent(projection, extent, object);\n    },\n    fitSize: function(size, object) {\n      return fitSize(projection, size, object);\n    },\n    fitWidth: function(width, object) {\n      return fitWidth(projection, width, object);\n    },\n    fitHeight: function(height, object) {\n      return fitHeight(projection, height, object);\n    }\n  };\n}\n","import projection from \"./index\";\nimport {abs, epsilon} from \"../math\";\n\nexport function naturalEarth1Raw(lambda, phi) {\n  var phi2 = phi * phi, phi4 = phi2 * phi2;\n  return [\n    lambda * (0.8707 - 0.131979 * phi2 + phi4 * (-0.013791 + phi4 * (0.003971 * phi2 - 0.001529 * phi4))),\n    phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4)))\n  ];\n}\n\nnaturalEarth1Raw.invert = function(x, y) {\n  var phi = y, i = 25, delta;\n  do {\n    var phi2 = phi * phi, phi4 = phi2 * phi2;\n    phi -= delta = (phi * (1.007226 + phi2 * (0.015085 + phi4 * (-0.044475 + 0.028874 * phi2 - 0.005916 * phi4))) - y) /\n        (1.007226 + phi2 * (0.015085 * 3 + phi4 * (-0.044475 * 7 + 0.028874 * 9 * phi2 - 0.005916 * 11 * phi4)));\n  } while (abs(delta) > epsilon && --i > 0);\n  return [\n    x / (0.8707 + (phi2 = phi * phi) * (-0.131979 + phi2 * (-0.013791 + phi2 * phi2 * phi2 * (0.003971 - 0.001529 * phi2)))),\n    phi\n  ];\n};\n\nexport default function() {\n  return projection(naturalEarth1Raw)\n      .scale(175.295);\n}\n","import {asin, cos, epsilon, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n","import {atan, cos, sin} from \"../math\";\nimport {azimuthalInvert} from \"./azimuthal\";\nimport projection from \"./index\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n","import {atan, exp, halfPi, log, tan} from \"../math\";\nimport {mercatorProjection} from \"./mercator\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(nb),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {basis} from \"./basis\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band().paddingInner(1));\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDefault from \"./formatDefault\";\nimport formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n}\n","import formatTypes from \"./formatTypes\";\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {map} from \"./array\";\nimport {linearish} from \"./linear\";\nimport number from \"./number\";\n\nexport default function identity() {\n  var domain = [0, 1];\n\n  function scale(x) {\n    return +x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = map.call(_, number), scale) : domain.slice();\n  };\n\n  scale.copy = function() {\n    return identity().domain(domain);\n  };\n\n  return linearish(scale);\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport constant from \"./constant\";\nimport nice from \"./nice\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction deinterpolate(a, b) {\n  return (b = Math.log(b / a))\n      ? function(x) { return Math.log(x / a) / b; }\n      : constant(b);\n}\n\nfunction reinterpolate(a, b) {\n  return a < 0\n      ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n      : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport default function log() {\n  var scale = continuous(deinterpolate, reinterpolate).domain([1, 10]),\n      domain = scale.domain,\n      base = 10,\n      logs = logp(10),\n      pows = powp(10);\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  scale.copy = function() {\n    return copy(scale, log().base(base));\n  };\n\n  return scale;\n}\n","import constant from \"./constant\";\nimport {linearish} from \"./linear\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction raise(x, exponent) {\n  return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n}\n\nexport default function pow() {\n  var exponent = 1,\n      scale = continuous(deinterpolate, reinterpolate),\n      domain = scale.domain;\n\n  function deinterpolate(a, b) {\n    return (b = raise(b, exponent) - (a = raise(a, exponent)))\n        ? function(x) { return (raise(x, exponent) - a) / b; }\n        : constant(b);\n  }\n\n  function reinterpolate(a, b) {\n    b = raise(b, exponent) - (a = raise(a, exponent));\n    return function(t) { return raise(a + b * t, 1 / exponent); };\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n  };\n\n  scale.copy = function() {\n    return copy(scale, pow().exponent(exponent));\n  };\n\n  return linearish(scale);\n}\n\nexport function sqrt() {\n  return pow().exponent(0.5);\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [];\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1];\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range);\n  };\n\n  return linearish(scale);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      n = 1;\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(new Date(+start)); while (offseti(start, step), floori(start), start < stop)\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {bisector, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(deinterpolate, reinterpolate),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = tickStep(start, stop, interval);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n}\n","import {calendar} from \"./time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond} from \"d3-time\";\n\nexport default function() {\n  return calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n}\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import {linearish} from \"./linear\";\n\nexport default function sequential(interpolator) {\n  var x0 = 0,\n      x1 = 1,\n      clamp = false;\n\n  function scale(x) {\n    var t = (x - x0) / (x1 - x0);\n    return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n  };\n\n  return linearish(scale);\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id]) || schedule.state > CREATED) throw new Error(\"too late\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id]) || schedule.state > STARTING) throw new Error(\"too late\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"too late\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      // Dispatch the interrupt event.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions. No interrupt event is dispatched\n      // because the cancelled transitions never started. Note that this also\n      // removes this transition from the pending list!\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(null, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    if (active) schedule.on.call(\"interrupt\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttribute(name);\n    value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value + \"\"));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrTweenNS(fullname, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttributeNS(fullname.space, fullname.local, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttribute(name, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","function styleTween(name, value, priority) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.style.setProperty(name, i(t), priority);\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleRemove(name, interpolate) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction styleRemoveEnd(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = value(this);\n    if (value1 == null) value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n          .styleTween(name, styleRemove(name, i))\n          .on(\"end.style.\" + name, styleRemoveEnd(name))\n      : this.styleTween(name, typeof value === \"function\"\n          ? styleFunction(name, i, tweenValue(this, \"style.\" + name, value))\n          : styleConstant(name, i, value + \"\"), priority);\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {Transition} from \"./transition/index\";\nimport {SCHEDULED} from \"./transition/schedule\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","// This file can be required in Browserify and Node.js for automatic polyfill\n// To use it:  require('es6-promise/auto');\n'use strict';\nmodule.exports = require('./').polyfill();\n","/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   4.1.1\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n\ttypeof define === 'function' && define.amd ? define(factory) :\n\t(global.ES6Promise = factory());\n}(this, (function () { 'use strict';\n\nfunction objectOrFunction(x) {\n  var type = typeof x;\n  return x !== null && (type === 'object' || type === 'function');\n}\n\nfunction isFunction(x) {\n  return typeof x === 'function';\n}\n\nvar _isArray = undefined;\nif (Array.isArray) {\n  _isArray = Array.isArray;\n} else {\n  _isArray = function (x) {\n    return Object.prototype.toString.call(x) === '[object Array]';\n  };\n}\n\nvar isArray = _isArray;\n\nvar len = 0;\nvar vertxNext = undefined;\nvar customSchedulerFn = undefined;\n\nvar asap = function asap(callback, arg) {\n  queue[len] = callback;\n  queue[len + 1] = arg;\n  len += 2;\n  if (len === 2) {\n    // If len is 2, that means that we need to schedule an async flush.\n    // If additional callbacks are queued before the queue is flushed, they\n    // will be processed by this flush that we are scheduling.\n    if (customSchedulerFn) {\n      customSchedulerFn(flush);\n    } else {\n      scheduleFlush();\n    }\n  }\n};\n\nfunction setScheduler(scheduleFn) {\n  customSchedulerFn = scheduleFn;\n}\n\nfunction setAsap(asapFn) {\n  asap = asapFn;\n}\n\nvar browserWindow = typeof window !== 'undefined' ? window : undefined;\nvar browserGlobal = browserWindow || {};\nvar BrowserMutationObserver = browserGlobal.MutationObserver || browserGlobal.WebKitMutationObserver;\nvar isNode = typeof self === 'undefined' && typeof process !== 'undefined' && ({}).toString.call(process) === '[object process]';\n\n// test for web worker but not in IE10\nvar isWorker = typeof Uint8ClampedArray !== 'undefined' && typeof importScripts !== 'undefined' && typeof MessageChannel !== 'undefined';\n\n// node\nfunction useNextTick() {\n  // node version 0.10.x displays a deprecation warning when nextTick is used recursively\n  // see https://github.com/cujojs/when/issues/410 for details\n  return function () {\n    return process.nextTick(flush);\n  };\n}\n\n// vertx\nfunction useVertxTimer() {\n  if (typeof vertxNext !== 'undefined') {\n    return function () {\n      vertxNext(flush);\n    };\n  }\n\n  return useSetTimeout();\n}\n\nfunction useMutationObserver() {\n  var iterations = 0;\n  var observer = new BrowserMutationObserver(flush);\n  var node = document.createTextNode('');\n  observer.observe(node, { characterData: true });\n\n  return function () {\n    node.data = iterations = ++iterations % 2;\n  };\n}\n\n// web worker\nfunction useMessageChannel() {\n  var channel = new MessageChannel();\n  channel.port1.onmessage = flush;\n  return function () {\n    return channel.port2.postMessage(0);\n  };\n}\n\nfunction useSetTimeout() {\n  // Store setTimeout reference so es6-promise will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var globalSetTimeout = setTimeout;\n  return function () {\n    return globalSetTimeout(flush, 1);\n  };\n}\n\nvar queue = new Array(1000);\nfunction flush() {\n  for (var i = 0; i < len; i += 2) {\n    var callback = queue[i];\n    var arg = queue[i + 1];\n\n    callback(arg);\n\n    queue[i] = undefined;\n    queue[i + 1] = undefined;\n  }\n\n  len = 0;\n}\n\nfunction attemptVertx() {\n  try {\n    var r = require;\n    var vertx = r('vertx');\n    vertxNext = vertx.runOnLoop || vertx.runOnContext;\n    return useVertxTimer();\n  } catch (e) {\n    return useSetTimeout();\n  }\n}\n\nvar scheduleFlush = undefined;\n// Decide what async method to use to triggering processing of queued callbacks:\nif (isNode) {\n  scheduleFlush = useNextTick();\n} else if (BrowserMutationObserver) {\n  scheduleFlush = useMutationObserver();\n} else if (isWorker) {\n  scheduleFlush = useMessageChannel();\n} else if (browserWindow === undefined && typeof require === 'function') {\n  scheduleFlush = attemptVertx();\n} else {\n  scheduleFlush = useSetTimeout();\n}\n\nfunction then(onFulfillment, onRejection) {\n  var _arguments = arguments;\n\n  var parent = this;\n\n  var child = new this.constructor(noop);\n\n  if (child[PROMISE_ID] === undefined) {\n    makePromise(child);\n  }\n\n  var _state = parent._state;\n\n  if (_state) {\n    (function () {\n      var callback = _arguments[_state - 1];\n      asap(function () {\n        return invokeCallback(_state, child, callback, parent._result);\n      });\n    })();\n  } else {\n    subscribe(parent, child, onFulfillment, onRejection);\n  }\n\n  return child;\n}\n\n/**\n  `Promise.resolve` returns a promise that will become resolved with the\n  passed `value`. It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    resolve(1);\n  });\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.resolve(1);\n\n  promise.then(function(value){\n    // value === 1\n  });\n  ```\n\n  @method resolve\n  @static\n  @param {Any} value value that the returned promise will be resolved with\n  Useful for tooling.\n  @return {Promise} a promise that will become fulfilled with the given\n  `value`\n*/\nfunction resolve$1(object) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (object && typeof object === 'object' && object.constructor === Constructor) {\n    return object;\n  }\n\n  var promise = new Constructor(noop);\n  resolve(promise, object);\n  return promise;\n}\n\nvar PROMISE_ID = Math.random().toString(36).substring(16);\n\nfunction noop() {}\n\nvar PENDING = void 0;\nvar FULFILLED = 1;\nvar REJECTED = 2;\n\nvar GET_THEN_ERROR = new ErrorObject();\n\nfunction selfFulfillment() {\n  return new TypeError(\"You cannot resolve a promise with itself\");\n}\n\nfunction cannotReturnOwn() {\n  return new TypeError('A promises callback cannot return that same promise.');\n}\n\nfunction getThen(promise) {\n  try {\n    return promise.then;\n  } catch (error) {\n    GET_THEN_ERROR.error = error;\n    return GET_THEN_ERROR;\n  }\n}\n\nfunction tryThen(then$$1, value, fulfillmentHandler, rejectionHandler) {\n  try {\n    then$$1.call(value, fulfillmentHandler, rejectionHandler);\n  } catch (e) {\n    return e;\n  }\n}\n\nfunction handleForeignThenable(promise, thenable, then$$1) {\n  asap(function (promise) {\n    var sealed = false;\n    var error = tryThen(then$$1, thenable, function (value) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n      if (thenable !== value) {\n        resolve(promise, value);\n      } else {\n        fulfill(promise, value);\n      }\n    }, function (reason) {\n      if (sealed) {\n        return;\n      }\n      sealed = true;\n\n      reject(promise, reason);\n    }, 'Settle: ' + (promise._label || ' unknown promise'));\n\n    if (!sealed && error) {\n      sealed = true;\n      reject(promise, error);\n    }\n  }, promise);\n}\n\nfunction handleOwnThenable(promise, thenable) {\n  if (thenable._state === FULFILLED) {\n    fulfill(promise, thenable._result);\n  } else if (thenable._state === REJECTED) {\n    reject(promise, thenable._result);\n  } else {\n    subscribe(thenable, undefined, function (value) {\n      return resolve(promise, value);\n    }, function (reason) {\n      return reject(promise, reason);\n    });\n  }\n}\n\nfunction handleMaybeThenable(promise, maybeThenable, then$$1) {\n  if (maybeThenable.constructor === promise.constructor && then$$1 === then && maybeThenable.constructor.resolve === resolve$1) {\n    handleOwnThenable(promise, maybeThenable);\n  } else {\n    if (then$$1 === GET_THEN_ERROR) {\n      reject(promise, GET_THEN_ERROR.error);\n      GET_THEN_ERROR.error = null;\n    } else if (then$$1 === undefined) {\n      fulfill(promise, maybeThenable);\n    } else if (isFunction(then$$1)) {\n      handleForeignThenable(promise, maybeThenable, then$$1);\n    } else {\n      fulfill(promise, maybeThenable);\n    }\n  }\n}\n\nfunction resolve(promise, value) {\n  if (promise === value) {\n    reject(promise, selfFulfillment());\n  } else if (objectOrFunction(value)) {\n    handleMaybeThenable(promise, value, getThen(value));\n  } else {\n    fulfill(promise, value);\n  }\n}\n\nfunction publishRejection(promise) {\n  if (promise._onerror) {\n    promise._onerror(promise._result);\n  }\n\n  publish(promise);\n}\n\nfunction fulfill(promise, value) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n\n  promise._result = value;\n  promise._state = FULFILLED;\n\n  if (promise._subscribers.length !== 0) {\n    asap(publish, promise);\n  }\n}\n\nfunction reject(promise, reason) {\n  if (promise._state !== PENDING) {\n    return;\n  }\n  promise._state = REJECTED;\n  promise._result = reason;\n\n  asap(publishRejection, promise);\n}\n\nfunction subscribe(parent, child, onFulfillment, onRejection) {\n  var _subscribers = parent._subscribers;\n  var length = _subscribers.length;\n\n  parent._onerror = null;\n\n  _subscribers[length] = child;\n  _subscribers[length + FULFILLED] = onFulfillment;\n  _subscribers[length + REJECTED] = onRejection;\n\n  if (length === 0 && parent._state) {\n    asap(publish, parent);\n  }\n}\n\nfunction publish(promise) {\n  var subscribers = promise._subscribers;\n  var settled = promise._state;\n\n  if (subscribers.length === 0) {\n    return;\n  }\n\n  var child = undefined,\n      callback = undefined,\n      detail = promise._result;\n\n  for (var i = 0; i < subscribers.length; i += 3) {\n    child = subscribers[i];\n    callback = subscribers[i + settled];\n\n    if (child) {\n      invokeCallback(settled, child, callback, detail);\n    } else {\n      callback(detail);\n    }\n  }\n\n  promise._subscribers.length = 0;\n}\n\nfunction ErrorObject() {\n  this.error = null;\n}\n\nvar TRY_CATCH_ERROR = new ErrorObject();\n\nfunction tryCatch(callback, detail) {\n  try {\n    return callback(detail);\n  } catch (e) {\n    TRY_CATCH_ERROR.error = e;\n    return TRY_CATCH_ERROR;\n  }\n}\n\nfunction invokeCallback(settled, promise, callback, detail) {\n  var hasCallback = isFunction(callback),\n      value = undefined,\n      error = undefined,\n      succeeded = undefined,\n      failed = undefined;\n\n  if (hasCallback) {\n    value = tryCatch(callback, detail);\n\n    if (value === TRY_CATCH_ERROR) {\n      failed = true;\n      error = value.error;\n      value.error = null;\n    } else {\n      succeeded = true;\n    }\n\n    if (promise === value) {\n      reject(promise, cannotReturnOwn());\n      return;\n    }\n  } else {\n    value = detail;\n    succeeded = true;\n  }\n\n  if (promise._state !== PENDING) {\n    // noop\n  } else if (hasCallback && succeeded) {\n      resolve(promise, value);\n    } else if (failed) {\n      reject(promise, error);\n    } else if (settled === FULFILLED) {\n      fulfill(promise, value);\n    } else if (settled === REJECTED) {\n      reject(promise, value);\n    }\n}\n\nfunction initializePromise(promise, resolver) {\n  try {\n    resolver(function resolvePromise(value) {\n      resolve(promise, value);\n    }, function rejectPromise(reason) {\n      reject(promise, reason);\n    });\n  } catch (e) {\n    reject(promise, e);\n  }\n}\n\nvar id = 0;\nfunction nextId() {\n  return id++;\n}\n\nfunction makePromise(promise) {\n  promise[PROMISE_ID] = id++;\n  promise._state = undefined;\n  promise._result = undefined;\n  promise._subscribers = [];\n}\n\nfunction Enumerator$1(Constructor, input) {\n  this._instanceConstructor = Constructor;\n  this.promise = new Constructor(noop);\n\n  if (!this.promise[PROMISE_ID]) {\n    makePromise(this.promise);\n  }\n\n  if (isArray(input)) {\n    this.length = input.length;\n    this._remaining = input.length;\n\n    this._result = new Array(this.length);\n\n    if (this.length === 0) {\n      fulfill(this.promise, this._result);\n    } else {\n      this.length = this.length || 0;\n      this._enumerate(input);\n      if (this._remaining === 0) {\n        fulfill(this.promise, this._result);\n      }\n    }\n  } else {\n    reject(this.promise, validationError());\n  }\n}\n\nfunction validationError() {\n  return new Error('Array Methods must be provided an Array');\n}\n\nEnumerator$1.prototype._enumerate = function (input) {\n  for (var i = 0; this._state === PENDING && i < input.length; i++) {\n    this._eachEntry(input[i], i);\n  }\n};\n\nEnumerator$1.prototype._eachEntry = function (entry, i) {\n  var c = this._instanceConstructor;\n  var resolve$$1 = c.resolve;\n\n  if (resolve$$1 === resolve$1) {\n    var _then = getThen(entry);\n\n    if (_then === then && entry._state !== PENDING) {\n      this._settledAt(entry._state, i, entry._result);\n    } else if (typeof _then !== 'function') {\n      this._remaining--;\n      this._result[i] = entry;\n    } else if (c === Promise$2) {\n      var promise = new c(noop);\n      handleMaybeThenable(promise, entry, _then);\n      this._willSettleAt(promise, i);\n    } else {\n      this._willSettleAt(new c(function (resolve$$1) {\n        return resolve$$1(entry);\n      }), i);\n    }\n  } else {\n    this._willSettleAt(resolve$$1(entry), i);\n  }\n};\n\nEnumerator$1.prototype._settledAt = function (state, i, value) {\n  var promise = this.promise;\n\n  if (promise._state === PENDING) {\n    this._remaining--;\n\n    if (state === REJECTED) {\n      reject(promise, value);\n    } else {\n      this._result[i] = value;\n    }\n  }\n\n  if (this._remaining === 0) {\n    fulfill(promise, this._result);\n  }\n};\n\nEnumerator$1.prototype._willSettleAt = function (promise, i) {\n  var enumerator = this;\n\n  subscribe(promise, undefined, function (value) {\n    return enumerator._settledAt(FULFILLED, i, value);\n  }, function (reason) {\n    return enumerator._settledAt(REJECTED, i, reason);\n  });\n};\n\n/**\n  `Promise.all` accepts an array of promises, and returns a new promise which\n  is fulfilled with an array of fulfillment values for the passed promises, or\n  rejected with the reason of the first passed promise to be rejected. It casts all\n  elements of the passed iterable to promises as it runs this algorithm.\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = resolve(2);\n  let promise3 = resolve(3);\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // The array here would be [ 1, 2, 3 ];\n  });\n  ```\n\n  If any of the `promises` given to `all` are rejected, the first promise\n  that is rejected will be given as an argument to the returned promises's\n  rejection handler. For example:\n\n  Example:\n\n  ```javascript\n  let promise1 = resolve(1);\n  let promise2 = reject(new Error(\"2\"));\n  let promise3 = reject(new Error(\"3\"));\n  let promises = [ promise1, promise2, promise3 ];\n\n  Promise.all(promises).then(function(array){\n    // Code here never runs because there are rejected promises!\n  }, function(error) {\n    // error.message === \"2\"\n  });\n  ```\n\n  @method all\n  @static\n  @param {Array} entries array of promises\n  @param {String} label optional string for labeling the promise.\n  Useful for tooling.\n  @return {Promise} promise that is fulfilled when all `promises` have been\n  fulfilled, or rejected if any of them become rejected.\n  @static\n*/\nfunction all$1(entries) {\n  return new Enumerator$1(this, entries).promise;\n}\n\n/**\n  `Promise.race` returns a new promise which is settled in the same way as the\n  first passed promise to settle.\n\n  Example:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 2');\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // result === 'promise 2' because it was resolved before promise1\n    // was resolved.\n  });\n  ```\n\n  `Promise.race` is deterministic in that only the state of the first\n  settled promise matters. For example, even if other promises given to the\n  `promises` array argument are resolved, but the first settled promise has\n  become rejected before the other promises became fulfilled, the returned\n  promise will become rejected:\n\n  ```javascript\n  let promise1 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      resolve('promise 1');\n    }, 200);\n  });\n\n  let promise2 = new Promise(function(resolve, reject){\n    setTimeout(function(){\n      reject(new Error('promise 2'));\n    }, 100);\n  });\n\n  Promise.race([promise1, promise2]).then(function(result){\n    // Code here never runs\n  }, function(reason){\n    // reason.message === 'promise 2' because promise 2 became rejected before\n    // promise 1 became fulfilled\n  });\n  ```\n\n  An example real-world use case is implementing timeouts:\n\n  ```javascript\n  Promise.race([ajax('foo.json'), timeout(5000)])\n  ```\n\n  @method race\n  @static\n  @param {Array} promises array of promises to observe\n  Useful for tooling.\n  @return {Promise} a promise which settles in the same way as the first passed\n  promise to settle.\n*/\nfunction race$1(entries) {\n  /*jshint validthis:true */\n  var Constructor = this;\n\n  if (!isArray(entries)) {\n    return new Constructor(function (_, reject) {\n      return reject(new TypeError('You must pass an array to race.'));\n    });\n  } else {\n    return new Constructor(function (resolve, reject) {\n      var length = entries.length;\n      for (var i = 0; i < length; i++) {\n        Constructor.resolve(entries[i]).then(resolve, reject);\n      }\n    });\n  }\n}\n\n/**\n  `Promise.reject` returns a promise rejected with the passed `reason`.\n  It is shorthand for the following:\n\n  ```javascript\n  let promise = new Promise(function(resolve, reject){\n    reject(new Error('WHOOPS'));\n  });\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  Instead of writing the above, your code now simply becomes the following:\n\n  ```javascript\n  let promise = Promise.reject(new Error('WHOOPS'));\n\n  promise.then(function(value){\n    // Code here doesn't run because the promise is rejected!\n  }, function(reason){\n    // reason.message === 'WHOOPS'\n  });\n  ```\n\n  @method reject\n  @static\n  @param {Any} reason value that the returned promise will be rejected with.\n  Useful for tooling.\n  @return {Promise} a promise rejected with the given `reason`.\n*/\nfunction reject$1(reason) {\n  /*jshint validthis:true */\n  var Constructor = this;\n  var promise = new Constructor(noop);\n  reject(promise, reason);\n  return promise;\n}\n\nfunction needsResolver() {\n  throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\n}\n\nfunction needsNew() {\n  throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\n}\n\n/**\n  Promise objects represent the eventual result of an asynchronous operation. The\n  primary way of interacting with a promise is through its `then` method, which\n  registers callbacks to receive either a promise's eventual value or the reason\n  why the promise cannot be fulfilled.\n\n  Terminology\n  -----------\n\n  - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\n  - `thenable` is an object or function that defines a `then` method.\n  - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\n  - `exception` is a value that is thrown using the throw statement.\n  - `reason` is a value that indicates why a promise was rejected.\n  - `settled` the final resting state of a promise, fulfilled or rejected.\n\n  A promise can be in one of three states: pending, fulfilled, or rejected.\n\n  Promises that are fulfilled have a fulfillment value and are in the fulfilled\n  state.  Promises that are rejected have a rejection reason and are in the\n  rejected state.  A fulfillment value is never a thenable.\n\n  Promises can also be said to *resolve* a value.  If this value is also a\n  promise, then the original promise's settled state will match the value's\n  settled state.  So a promise that *resolves* a promise that rejects will\n  itself reject, and a promise that *resolves* a promise that fulfills will\n  itself fulfill.\n\n\n  Basic Usage:\n  ------------\n\n  ```js\n  let promise = new Promise(function(resolve, reject) {\n    // on success\n    resolve(value);\n\n    // on failure\n    reject(reason);\n  });\n\n  promise.then(function(value) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Advanced Usage:\n  ---------------\n\n  Promises shine when abstracting away asynchronous interactions such as\n  `XMLHttpRequest`s.\n\n  ```js\n  function getJSON(url) {\n    return new Promise(function(resolve, reject){\n      let xhr = new XMLHttpRequest();\n\n      xhr.open('GET', url);\n      xhr.onreadystatechange = handler;\n      xhr.responseType = 'json';\n      xhr.setRequestHeader('Accept', 'application/json');\n      xhr.send();\n\n      function handler() {\n        if (this.readyState === this.DONE) {\n          if (this.status === 200) {\n            resolve(this.response);\n          } else {\n            reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\n          }\n        }\n      };\n    });\n  }\n\n  getJSON('/posts.json').then(function(json) {\n    // on fulfillment\n  }, function(reason) {\n    // on rejection\n  });\n  ```\n\n  Unlike callbacks, promises are great composable primitives.\n\n  ```js\n  Promise.all([\n    getJSON('/posts'),\n    getJSON('/comments')\n  ]).then(function(values){\n    values[0] // => postsJSON\n    values[1] // => commentsJSON\n\n    return values;\n  });\n  ```\n\n  @class Promise\n  @param {function} resolver\n  Useful for tooling.\n  @constructor\n*/\nfunction Promise$2(resolver) {\n  this[PROMISE_ID] = nextId();\n  this._result = this._state = undefined;\n  this._subscribers = [];\n\n  if (noop !== resolver) {\n    typeof resolver !== 'function' && needsResolver();\n    this instanceof Promise$2 ? initializePromise(this, resolver) : needsNew();\n  }\n}\n\nPromise$2.all = all$1;\nPromise$2.race = race$1;\nPromise$2.resolve = resolve$1;\nPromise$2.reject = reject$1;\nPromise$2._setScheduler = setScheduler;\nPromise$2._setAsap = setAsap;\nPromise$2._asap = asap;\n\nPromise$2.prototype = {\n  constructor: Promise$2,\n\n  /**\n    The primary way of interacting with a promise is through its `then` method,\n    which registers callbacks to receive either a promise's eventual value or the\n    reason why the promise cannot be fulfilled.\n  \n    ```js\n    findUser().then(function(user){\n      // user is available\n    }, function(reason){\n      // user is unavailable, and you are given the reason why\n    });\n    ```\n  \n    Chaining\n    --------\n  \n    The return value of `then` is itself a promise.  This second, 'downstream'\n    promise is resolved with the return value of the first promise's fulfillment\n    or rejection handler, or rejected if the handler throws an exception.\n  \n    ```js\n    findUser().then(function (user) {\n      return user.name;\n    }, function (reason) {\n      return 'default name';\n    }).then(function (userName) {\n      // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\n      // will be `'default name'`\n    });\n  \n    findUser().then(function (user) {\n      throw new Error('Found user, but still unhappy');\n    }, function (reason) {\n      throw new Error('`findUser` rejected and we're unhappy');\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\n      // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\n    });\n    ```\n    If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\n  \n    ```js\n    findUser().then(function (user) {\n      throw new PedagogicalException('Upstream error');\n    }).then(function (value) {\n      // never reached\n    }).then(function (value) {\n      // never reached\n    }, function (reason) {\n      // The `PedgagocialException` is propagated all the way down to here\n    });\n    ```\n  \n    Assimilation\n    ------------\n  \n    Sometimes the value you want to propagate to a downstream promise can only be\n    retrieved asynchronously. This can be achieved by returning a promise in the\n    fulfillment or rejection handler. The downstream promise will then be pending\n    until the returned promise is settled. This is called *assimilation*.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // The user's comments are now available\n    });\n    ```\n  \n    If the assimliated promise rejects, then the downstream promise will also reject.\n  \n    ```js\n    findUser().then(function (user) {\n      return findCommentsByAuthor(user);\n    }).then(function (comments) {\n      // If `findCommentsByAuthor` fulfills, we'll have the value here\n    }, function (reason) {\n      // If `findCommentsByAuthor` rejects, we'll have the reason here\n    });\n    ```\n  \n    Simple Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let result;\n  \n    try {\n      result = findResult();\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n    findResult(function(result, err){\n      if (err) {\n        // failure\n      } else {\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findResult().then(function(result){\n      // success\n    }, function(reason){\n      // failure\n    });\n    ```\n  \n    Advanced Example\n    --------------\n  \n    Synchronous Example\n  \n    ```javascript\n    let author, books;\n  \n    try {\n      author = findAuthor();\n      books  = findBooksByAuthor(author);\n      // success\n    } catch(reason) {\n      // failure\n    }\n    ```\n  \n    Errback Example\n  \n    ```js\n  \n    function foundBooks(books) {\n  \n    }\n  \n    function failure(reason) {\n  \n    }\n  \n    findAuthor(function(author, err){\n      if (err) {\n        failure(err);\n        // failure\n      } else {\n        try {\n          findBoooksByAuthor(author, function(books, err) {\n            if (err) {\n              failure(err);\n            } else {\n              try {\n                foundBooks(books);\n              } catch(reason) {\n                failure(reason);\n              }\n            }\n          });\n        } catch(error) {\n          failure(err);\n        }\n        // success\n      }\n    });\n    ```\n  \n    Promise Example;\n  \n    ```javascript\n    findAuthor().\n      then(findBooksByAuthor).\n      then(function(books){\n        // found books\n    }).catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method then\n    @param {Function} onFulfilled\n    @param {Function} onRejected\n    Useful for tooling.\n    @return {Promise}\n  */\n  then: then,\n\n  /**\n    `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\n    as the catch block of a try/catch statement.\n  \n    ```js\n    function findAuthor(){\n      throw new Error('couldn't find that author');\n    }\n  \n    // synchronous\n    try {\n      findAuthor();\n    } catch(reason) {\n      // something went wrong\n    }\n  \n    // async with promises\n    findAuthor().catch(function(reason){\n      // something went wrong\n    });\n    ```\n  \n    @method catch\n    @param {Function} onRejection\n    Useful for tooling.\n    @return {Promise}\n  */\n  'catch': function _catch(onRejection) {\n    return this.then(null, onRejection);\n  }\n};\n\n/*global self*/\nfunction polyfill$1() {\n    var local = undefined;\n\n    if (typeof global !== 'undefined') {\n        local = global;\n    } else if (typeof self !== 'undefined') {\n        local = self;\n    } else {\n        try {\n            local = Function('return this')();\n        } catch (e) {\n            throw new Error('polyfill failed because global object is unavailable in this environment');\n        }\n    }\n\n    var P = local.Promise;\n\n    if (P) {\n        var promiseToString = null;\n        try {\n            promiseToString = Object.prototype.toString.call(P.resolve());\n        } catch (e) {\n            // silently ignored\n        }\n\n        if (promiseToString === '[object Promise]' && !P.cast) {\n            return;\n        }\n    }\n\n    local.Promise = Promise$2;\n}\n\n// Strange compat..\nPromise$2.polyfill = polyfill$1;\nPromise$2.Promise = Promise$2;\n\nreturn Promise$2;\n\n})));\n\n//# sourceMappingURL=es6-promise.map\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global.Immutable = factory());\n}(this, function () { 'use strict';var SLICE$0 = Array.prototype.slice;\n\n  function createClass(ctor, superClass) {\n    if (superClass) {\n      ctor.prototype = Object.create(superClass.prototype);\n    }\n    ctor.prototype.constructor = ctor;\n  }\n\n  function Iterable(value) {\n      return isIterable(value) ? value : Seq(value);\n    }\n\n\n  createClass(KeyedIterable, Iterable);\n    function KeyedIterable(value) {\n      return isKeyed(value) ? value : KeyedSeq(value);\n    }\n\n\n  createClass(IndexedIterable, Iterable);\n    function IndexedIterable(value) {\n      return isIndexed(value) ? value : IndexedSeq(value);\n    }\n\n\n  createClass(SetIterable, Iterable);\n    function SetIterable(value) {\n      return isIterable(value) && !isAssociative(value) ? value : SetSeq(value);\n    }\n\n\n\n  function isIterable(maybeIterable) {\n    return !!(maybeIterable && maybeIterable[IS_ITERABLE_SENTINEL]);\n  }\n\n  function isKeyed(maybeKeyed) {\n    return !!(maybeKeyed && maybeKeyed[IS_KEYED_SENTINEL]);\n  }\n\n  function isIndexed(maybeIndexed) {\n    return !!(maybeIndexed && maybeIndexed[IS_INDEXED_SENTINEL]);\n  }\n\n  function isAssociative(maybeAssociative) {\n    return isKeyed(maybeAssociative) || isIndexed(maybeAssociative);\n  }\n\n  function isOrdered(maybeOrdered) {\n    return !!(maybeOrdered && maybeOrdered[IS_ORDERED_SENTINEL]);\n  }\n\n  Iterable.isIterable = isIterable;\n  Iterable.isKeyed = isKeyed;\n  Iterable.isIndexed = isIndexed;\n  Iterable.isAssociative = isAssociative;\n  Iterable.isOrdered = isOrdered;\n\n  Iterable.Keyed = KeyedIterable;\n  Iterable.Indexed = IndexedIterable;\n  Iterable.Set = SetIterable;\n\n\n  var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  // Used for setting prototype methods that IE8 chokes on.\n  var DELETE = 'delete';\n\n  // Constants describing the size of trie nodes.\n  var SHIFT = 5; // Resulted in best performance after ______?\n  var SIZE = 1 << SHIFT;\n  var MASK = SIZE - 1;\n\n  // A consistent shared value representing \"not set\" which equals nothing other\n  // than itself, and nothing that could be provided externally.\n  var NOT_SET = {};\n\n  // Boolean references, Rough equivalent of `bool &`.\n  var CHANGE_LENGTH = { value: false };\n  var DID_ALTER = { value: false };\n\n  function MakeRef(ref) {\n    ref.value = false;\n    return ref;\n  }\n\n  function SetRef(ref) {\n    ref && (ref.value = true);\n  }\n\n  // A function which returns a value representing an \"owner\" for transient writes\n  // to tries. The return value will only ever equal itself, and will not equal\n  // the return of any subsequent call of this function.\n  function OwnerID() {}\n\n  // http://jsperf.com/copy-array-inline\n  function arrCopy(arr, offset) {\n    offset = offset || 0;\n    var len = Math.max(0, arr.length - offset);\n    var newArr = new Array(len);\n    for (var ii = 0; ii < len; ii++) {\n      newArr[ii] = arr[ii + offset];\n    }\n    return newArr;\n  }\n\n  function ensureSize(iter) {\n    if (iter.size === undefined) {\n      iter.size = iter.__iterate(returnTrue);\n    }\n    return iter.size;\n  }\n\n  function wrapIndex(iter, index) {\n    // This implements \"is array index\" which the ECMAString spec defines as:\n    //\n    //     A String property name P is an array index if and only if\n    //     ToString(ToUint32(P)) is equal to P and ToUint32(P) is not equal\n    //     to 2^32−1.\n    //\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-array-exotic-objects\n    if (typeof index !== 'number') {\n      var uint32Index = index >>> 0; // N >>> 0 is shorthand for ToUint32\n      if ('' + uint32Index !== index || uint32Index === 4294967295) {\n        return NaN;\n      }\n      index = uint32Index;\n    }\n    return index < 0 ? ensureSize(iter) + index : index;\n  }\n\n  function returnTrue() {\n    return true;\n  }\n\n  function wholeSlice(begin, end, size) {\n    return (begin === 0 || (size !== undefined && begin <= -size)) &&\n      (end === undefined || (size !== undefined && end >= size));\n  }\n\n  function resolveBegin(begin, size) {\n    return resolveIndex(begin, size, 0);\n  }\n\n  function resolveEnd(end, size) {\n    return resolveIndex(end, size, size);\n  }\n\n  function resolveIndex(index, size, defaultIndex) {\n    return index === undefined ?\n      defaultIndex :\n      index < 0 ?\n        Math.max(0, size + index) :\n        size === undefined ?\n          index :\n          Math.min(size, index);\n  }\n\n  /* global Symbol */\n\n  var ITERATE_KEYS = 0;\n  var ITERATE_VALUES = 1;\n  var ITERATE_ENTRIES = 2;\n\n  var REAL_ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator';\n\n  var ITERATOR_SYMBOL = REAL_ITERATOR_SYMBOL || FAUX_ITERATOR_SYMBOL;\n\n\n  function Iterator(next) {\n      this.next = next;\n    }\n\n    Iterator.prototype.toString = function() {\n      return '[Iterator]';\n    };\n\n\n  Iterator.KEYS = ITERATE_KEYS;\n  Iterator.VALUES = ITERATE_VALUES;\n  Iterator.ENTRIES = ITERATE_ENTRIES;\n\n  Iterator.prototype.inspect =\n  Iterator.prototype.toSource = function () { return this.toString(); }\n  Iterator.prototype[ITERATOR_SYMBOL] = function () {\n    return this;\n  };\n\n\n  function iteratorValue(type, k, v, iteratorResult) {\n    var value = type === 0 ? k : type === 1 ? v : [k, v];\n    iteratorResult ? (iteratorResult.value = value) : (iteratorResult = {\n      value: value, done: false\n    });\n    return iteratorResult;\n  }\n\n  function iteratorDone() {\n    return { value: undefined, done: true };\n  }\n\n  function hasIterator(maybeIterable) {\n    return !!getIteratorFn(maybeIterable);\n  }\n\n  function isIterator(maybeIterator) {\n    return maybeIterator && typeof maybeIterator.next === 'function';\n  }\n\n  function getIterator(iterable) {\n    var iteratorFn = getIteratorFn(iterable);\n    return iteratorFn && iteratorFn.call(iterable);\n  }\n\n  function getIteratorFn(iterable) {\n    var iteratorFn = iterable && (\n      (REAL_ITERATOR_SYMBOL && iterable[REAL_ITERATOR_SYMBOL]) ||\n      iterable[FAUX_ITERATOR_SYMBOL]\n    );\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  function isArrayLike(value) {\n    return value && typeof value.length === 'number';\n  }\n\n  createClass(Seq, Iterable);\n    function Seq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        isIterable(value) ? value.toSeq() : seqFromValue(value);\n    }\n\n    Seq.of = function(/*...values*/) {\n      return Seq(arguments);\n    };\n\n    Seq.prototype.toSeq = function() {\n      return this;\n    };\n\n    Seq.prototype.toString = function() {\n      return this.__toString('Seq {', '}');\n    };\n\n    Seq.prototype.cacheResult = function() {\n      if (!this._cache && this.__iterateUncached) {\n        this._cache = this.entrySeq().toArray();\n        this.size = this._cache.length;\n      }\n      return this;\n    };\n\n    // abstract __iterateUncached(fn, reverse)\n\n    Seq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, true);\n    };\n\n    // abstract __iteratorUncached(type, reverse)\n\n    Seq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, true);\n    };\n\n\n\n  createClass(KeyedSeq, Seq);\n    function KeyedSeq(value) {\n      return value === null || value === undefined ?\n        emptySequence().toKeyedSeq() :\n        isIterable(value) ?\n          (isKeyed(value) ? value.toSeq() : value.fromEntrySeq()) :\n          keyedSeqFromValue(value);\n    }\n\n    KeyedSeq.prototype.toKeyedSeq = function() {\n      return this;\n    };\n\n\n\n  createClass(IndexedSeq, Seq);\n    function IndexedSeq(value) {\n      return value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value.toIndexedSeq();\n    }\n\n    IndexedSeq.of = function(/*...values*/) {\n      return IndexedSeq(arguments);\n    };\n\n    IndexedSeq.prototype.toIndexedSeq = function() {\n      return this;\n    };\n\n    IndexedSeq.prototype.toString = function() {\n      return this.__toString('Seq [', ']');\n    };\n\n    IndexedSeq.prototype.__iterate = function(fn, reverse) {\n      return seqIterate(this, fn, reverse, false);\n    };\n\n    IndexedSeq.prototype.__iterator = function(type, reverse) {\n      return seqIterator(this, type, reverse, false);\n    };\n\n\n\n  createClass(SetSeq, Seq);\n    function SetSeq(value) {\n      return (\n        value === null || value === undefined ? emptySequence() :\n        !isIterable(value) ? indexedSeqFromValue(value) :\n        isKeyed(value) ? value.entrySeq() : value\n      ).toSetSeq();\n    }\n\n    SetSeq.of = function(/*...values*/) {\n      return SetSeq(arguments);\n    };\n\n    SetSeq.prototype.toSetSeq = function() {\n      return this;\n    };\n\n\n\n  Seq.isSeq = isSeq;\n  Seq.Keyed = KeyedSeq;\n  Seq.Set = SetSeq;\n  Seq.Indexed = IndexedSeq;\n\n  var IS_SEQ_SENTINEL = '@@__IMMUTABLE_SEQ__@@';\n\n  Seq.prototype[IS_SEQ_SENTINEL] = true;\n\n\n\n  createClass(ArraySeq, IndexedSeq);\n    function ArraySeq(array) {\n      this._array = array;\n      this.size = array.length;\n    }\n\n    ArraySeq.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._array[wrapIndex(this, index)] : notSetValue;\n    };\n\n    ArraySeq.prototype.__iterate = function(fn, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(array[reverse ? maxIndex - ii : ii], ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ArraySeq.prototype.__iterator = function(type, reverse) {\n      var array = this._array;\n      var maxIndex = array.length - 1;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, ii, array[reverse ? maxIndex - ii++ : ii++])}\n      );\n    };\n\n\n\n  createClass(ObjectSeq, KeyedSeq);\n    function ObjectSeq(object) {\n      var keys = Object.keys(object);\n      this._object = object;\n      this._keys = keys;\n      this.size = keys.length;\n    }\n\n    ObjectSeq.prototype.get = function(key, notSetValue) {\n      if (notSetValue !== undefined && !this.has(key)) {\n        return notSetValue;\n      }\n      return this._object[key];\n    };\n\n    ObjectSeq.prototype.has = function(key) {\n      return this._object.hasOwnProperty(key);\n    };\n\n    ObjectSeq.prototype.__iterate = function(fn, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        if (fn(object[key], key, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    ObjectSeq.prototype.__iterator = function(type, reverse) {\n      var object = this._object;\n      var keys = this._keys;\n      var maxIndex = keys.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var key = keys[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, key, object[key]);\n      });\n    };\n\n  ObjectSeq.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(IterableSeq, IndexedSeq);\n    function IterableSeq(iterable) {\n      this._iterable = iterable;\n      this.size = iterable.length || iterable.size;\n    }\n\n    IterableSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      var iterations = 0;\n      if (isIterator(iterator)) {\n        var step;\n        while (!(step = iterator.next()).done) {\n          if (fn(step.value, iterations++, this) === false) {\n            break;\n          }\n        }\n      }\n      return iterations;\n    };\n\n    IterableSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterable = this._iterable;\n      var iterator = getIterator(iterable);\n      if (!isIterator(iterator)) {\n        return new Iterator(iteratorDone);\n      }\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step : iteratorValue(type, iterations++, step.value);\n      });\n    };\n\n\n\n  createClass(IteratorSeq, IndexedSeq);\n    function IteratorSeq(iterator) {\n      this._iterator = iterator;\n      this._iteratorCache = [];\n    }\n\n    IteratorSeq.prototype.__iterateUncached = function(fn, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      while (iterations < cache.length) {\n        if (fn(cache[iterations], iterations++, this) === false) {\n          return iterations;\n        }\n      }\n      var step;\n      while (!(step = iterator.next()).done) {\n        var val = step.value;\n        cache[iterations] = val;\n        if (fn(val, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n\n    IteratorSeq.prototype.__iteratorUncached = function(type, reverse) {\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = this._iterator;\n      var cache = this._iteratorCache;\n      var iterations = 0;\n      return new Iterator(function()  {\n        if (iterations >= cache.length) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          cache[iterations] = step.value;\n        }\n        return iteratorValue(type, iterations, cache[iterations++]);\n      });\n    };\n\n\n\n\n  // # pragma Helper functions\n\n  function isSeq(maybeSeq) {\n    return !!(maybeSeq && maybeSeq[IS_SEQ_SENTINEL]);\n  }\n\n  var EMPTY_SEQ;\n\n  function emptySequence() {\n    return EMPTY_SEQ || (EMPTY_SEQ = new ArraySeq([]));\n  }\n\n  function keyedSeqFromValue(value) {\n    var seq =\n      Array.isArray(value) ? new ArraySeq(value).fromEntrySeq() :\n      isIterator(value) ? new IteratorSeq(value).fromEntrySeq() :\n      hasIterator(value) ? new IterableSeq(value).fromEntrySeq() :\n      typeof value === 'object' ? new ObjectSeq(value) :\n      undefined;\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of [k, v] entries, '+\n        'or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function indexedSeqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value);\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function seqFromValue(value) {\n    var seq = maybeIndexedSeqFromValue(value) ||\n      (typeof value === 'object' && new ObjectSeq(value));\n    if (!seq) {\n      throw new TypeError(\n        'Expected Array or iterable object of values, or keyed object: ' + value\n      );\n    }\n    return seq;\n  }\n\n  function maybeIndexedSeqFromValue(value) {\n    return (\n      isArrayLike(value) ? new ArraySeq(value) :\n      isIterator(value) ? new IteratorSeq(value) :\n      hasIterator(value) ? new IterableSeq(value) :\n      undefined\n    );\n  }\n\n  function seqIterate(seq, fn, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        if (fn(entry[1], useKeys ? entry[0] : ii, seq) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    }\n    return seq.__iterateUncached(fn, reverse);\n  }\n\n  function seqIterator(seq, type, reverse, useKeys) {\n    var cache = seq._cache;\n    if (cache) {\n      var maxIndex = cache.length - 1;\n      var ii = 0;\n      return new Iterator(function()  {\n        var entry = cache[reverse ? maxIndex - ii : ii];\n        return ii++ > maxIndex ?\n          iteratorDone() :\n          iteratorValue(type, useKeys ? entry[0] : ii - 1, entry[1]);\n      });\n    }\n    return seq.__iteratorUncached(type, reverse);\n  }\n\n  function fromJS(json, converter) {\n    return converter ?\n      fromJSWith(converter, json, '', {'': json}) :\n      fromJSDefault(json);\n  }\n\n  function fromJSWith(converter, json, key, parentJSON) {\n    if (Array.isArray(json)) {\n      return converter.call(parentJSON, key, IndexedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    if (isPlainObj(json)) {\n      return converter.call(parentJSON, key, KeyedSeq(json).map(function(v, k)  {return fromJSWith(converter, v, k, json)}));\n    }\n    return json;\n  }\n\n  function fromJSDefault(json) {\n    if (Array.isArray(json)) {\n      return IndexedSeq(json).map(fromJSDefault).toList();\n    }\n    if (isPlainObj(json)) {\n      return KeyedSeq(json).map(fromJSDefault).toMap();\n    }\n    return json;\n  }\n\n  function isPlainObj(value) {\n    return value && (value.constructor === Object || value.constructor === undefined);\n  }\n\n  /**\n   * An extension of the \"same-value\" algorithm as [described for use by ES6 Map\n   * and Set](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map#Key_equality)\n   *\n   * NaN is considered the same as NaN, however -0 and 0 are considered the same\n   * value, which is different from the algorithm described by\n   * [`Object.is`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is).\n   *\n   * This is extended further to allow Objects to describe the values they\n   * represent, by way of `valueOf` or `equals` (and `hashCode`).\n   *\n   * Note: because of this extension, the key equality of Immutable.Map and the\n   * value equality of Immutable.Set will differ from ES6 Map and Set.\n   *\n   * ### Defining custom values\n   *\n   * The easiest way to describe the value an object represents is by implementing\n   * `valueOf`. For example, `Date` represents a value by returning a unix\n   * timestamp for `valueOf`:\n   *\n   *     var date1 = new Date(1234567890000); // Fri Feb 13 2009 ...\n   *     var date2 = new Date(1234567890000);\n   *     date1.valueOf(); // 1234567890000\n   *     assert( date1 !== date2 );\n   *     assert( Immutable.is( date1, date2 ) );\n   *\n   * Note: overriding `valueOf` may have other implications if you use this object\n   * where JavaScript expects a primitive, such as implicit string coercion.\n   *\n   * For more complex types, especially collections, implementing `valueOf` may\n   * not be performant. An alternative is to implement `equals` and `hashCode`.\n   *\n   * `equals` takes another object, presumably of similar type, and returns true\n   * if the it is equal. Equality is symmetrical, so the same result should be\n   * returned if this and the argument are flipped.\n   *\n   *     assert( a.equals(b) === b.equals(a) );\n   *\n   * `hashCode` returns a 32bit integer number representing the object which will\n   * be used to determine how to store the value object in a Map or Set. You must\n   * provide both or neither methods, one must not exist without the other.\n   *\n   * Also, an important relationship between these methods must be upheld: if two\n   * values are equal, they *must* return the same hashCode. If the values are not\n   * equal, they might have the same hashCode; this is called a hash collision,\n   * and while undesirable for performance reasons, it is acceptable.\n   *\n   *     if (a.equals(b)) {\n   *       assert( a.hashCode() === b.hashCode() );\n   *     }\n   *\n   * All Immutable collections implement `equals` and `hashCode`.\n   *\n   */\n  function is(valueA, valueB) {\n    if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n      return true;\n    }\n    if (!valueA || !valueB) {\n      return false;\n    }\n    if (typeof valueA.valueOf === 'function' &&\n        typeof valueB.valueOf === 'function') {\n      valueA = valueA.valueOf();\n      valueB = valueB.valueOf();\n      if (valueA === valueB || (valueA !== valueA && valueB !== valueB)) {\n        return true;\n      }\n      if (!valueA || !valueB) {\n        return false;\n      }\n    }\n    if (typeof valueA.equals === 'function' &&\n        typeof valueB.equals === 'function' &&\n        valueA.equals(valueB)) {\n      return true;\n    }\n    return false;\n  }\n\n  function deepEqual(a, b) {\n    if (a === b) {\n      return true;\n    }\n\n    if (\n      !isIterable(b) ||\n      a.size !== undefined && b.size !== undefined && a.size !== b.size ||\n      a.__hash !== undefined && b.__hash !== undefined && a.__hash !== b.__hash ||\n      isKeyed(a) !== isKeyed(b) ||\n      isIndexed(a) !== isIndexed(b) ||\n      isOrdered(a) !== isOrdered(b)\n    ) {\n      return false;\n    }\n\n    if (a.size === 0 && b.size === 0) {\n      return true;\n    }\n\n    var notAssociative = !isAssociative(a);\n\n    if (isOrdered(a)) {\n      var entries = a.entries();\n      return b.every(function(v, k)  {\n        var entry = entries.next().value;\n        return entry && is(entry[1], v) && (notAssociative || is(entry[0], k));\n      }) && entries.next().done;\n    }\n\n    var flipped = false;\n\n    if (a.size === undefined) {\n      if (b.size === undefined) {\n        if (typeof a.cacheResult === 'function') {\n          a.cacheResult();\n        }\n      } else {\n        flipped = true;\n        var _ = a;\n        a = b;\n        b = _;\n      }\n    }\n\n    var allEqual = true;\n    var bSize = b.__iterate(function(v, k)  {\n      if (notAssociative ? !a.has(v) :\n          flipped ? !is(v, a.get(k, NOT_SET)) : !is(a.get(k, NOT_SET), v)) {\n        allEqual = false;\n        return false;\n      }\n    });\n\n    return allEqual && a.size === bSize;\n  }\n\n  createClass(Repeat, IndexedSeq);\n\n    function Repeat(value, times) {\n      if (!(this instanceof Repeat)) {\n        return new Repeat(value, times);\n      }\n      this._value = value;\n      this.size = times === undefined ? Infinity : Math.max(0, times);\n      if (this.size === 0) {\n        if (EMPTY_REPEAT) {\n          return EMPTY_REPEAT;\n        }\n        EMPTY_REPEAT = this;\n      }\n    }\n\n    Repeat.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Repeat []';\n      }\n      return 'Repeat [ ' + this._value + ' ' + this.size + ' times ]';\n    };\n\n    Repeat.prototype.get = function(index, notSetValue) {\n      return this.has(index) ? this._value : notSetValue;\n    };\n\n    Repeat.prototype.includes = function(searchValue) {\n      return is(this._value, searchValue);\n    };\n\n    Repeat.prototype.slice = function(begin, end) {\n      var size = this.size;\n      return wholeSlice(begin, end, size) ? this :\n        new Repeat(this._value, resolveEnd(end, size) - resolveBegin(begin, size));\n    };\n\n    Repeat.prototype.reverse = function() {\n      return this;\n    };\n\n    Repeat.prototype.indexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return 0;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.lastIndexOf = function(searchValue) {\n      if (is(this._value, searchValue)) {\n        return this.size;\n      }\n      return -1;\n    };\n\n    Repeat.prototype.__iterate = function(fn, reverse) {\n      for (var ii = 0; ii < this.size; ii++) {\n        if (fn(this._value, ii, this) === false) {\n          return ii + 1;\n        }\n      }\n      return ii;\n    };\n\n    Repeat.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      var ii = 0;\n      return new Iterator(function() \n        {return ii < this$0.size ? iteratorValue(type, ii++, this$0._value) : iteratorDone()}\n      );\n    };\n\n    Repeat.prototype.equals = function(other) {\n      return other instanceof Repeat ?\n        is(this._value, other._value) :\n        deepEqual(other);\n    };\n\n\n  var EMPTY_REPEAT;\n\n  function invariant(condition, error) {\n    if (!condition) throw new Error(error);\n  }\n\n  createClass(Range, IndexedSeq);\n\n    function Range(start, end, step) {\n      if (!(this instanceof Range)) {\n        return new Range(start, end, step);\n      }\n      invariant(step !== 0, 'Cannot step a Range by 0');\n      start = start || 0;\n      if (end === undefined) {\n        end = Infinity;\n      }\n      step = step === undefined ? 1 : Math.abs(step);\n      if (end < start) {\n        step = -step;\n      }\n      this._start = start;\n      this._end = end;\n      this._step = step;\n      this.size = Math.max(0, Math.ceil((end - start) / step - 1) + 1);\n      if (this.size === 0) {\n        if (EMPTY_RANGE) {\n          return EMPTY_RANGE;\n        }\n        EMPTY_RANGE = this;\n      }\n    }\n\n    Range.prototype.toString = function() {\n      if (this.size === 0) {\n        return 'Range []';\n      }\n      return 'Range [ ' +\n        this._start + '...' + this._end +\n        (this._step !== 1 ? ' by ' + this._step : '') +\n      ' ]';\n    };\n\n    Range.prototype.get = function(index, notSetValue) {\n      return this.has(index) ?\n        this._start + wrapIndex(this, index) * this._step :\n        notSetValue;\n    };\n\n    Range.prototype.includes = function(searchValue) {\n      var possibleIndex = (searchValue - this._start) / this._step;\n      return possibleIndex >= 0 &&\n        possibleIndex < this.size &&\n        possibleIndex === Math.floor(possibleIndex);\n    };\n\n    Range.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      begin = resolveBegin(begin, this.size);\n      end = resolveEnd(end, this.size);\n      if (end <= begin) {\n        return new Range(0, 0);\n      }\n      return new Range(this.get(begin, this._end), this.get(end, this._end), this._step);\n    };\n\n    Range.prototype.indexOf = function(searchValue) {\n      var offsetValue = searchValue - this._start;\n      if (offsetValue % this._step === 0) {\n        var index = offsetValue / this._step;\n        if (index >= 0 && index < this.size) {\n          return index\n        }\n      }\n      return -1;\n    };\n\n    Range.prototype.lastIndexOf = function(searchValue) {\n      return this.indexOf(searchValue);\n    };\n\n    Range.prototype.__iterate = function(fn, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      for (var ii = 0; ii <= maxIndex; ii++) {\n        if (fn(value, ii, this) === false) {\n          return ii + 1;\n        }\n        value += reverse ? -step : step;\n      }\n      return ii;\n    };\n\n    Range.prototype.__iterator = function(type, reverse) {\n      var maxIndex = this.size - 1;\n      var step = this._step;\n      var value = reverse ? this._start + maxIndex * step : this._start;\n      var ii = 0;\n      return new Iterator(function()  {\n        var v = value;\n        value += reverse ? -step : step;\n        return ii > maxIndex ? iteratorDone() : iteratorValue(type, ii++, v);\n      });\n    };\n\n    Range.prototype.equals = function(other) {\n      return other instanceof Range ?\n        this._start === other._start &&\n        this._end === other._end &&\n        this._step === other._step :\n        deepEqual(this, other);\n    };\n\n\n  var EMPTY_RANGE;\n\n  createClass(Collection, Iterable);\n    function Collection() {\n      throw TypeError('Abstract');\n    }\n\n\n  createClass(KeyedCollection, Collection);function KeyedCollection() {}\n\n  createClass(IndexedCollection, Collection);function IndexedCollection() {}\n\n  createClass(SetCollection, Collection);function SetCollection() {}\n\n\n  Collection.Keyed = KeyedCollection;\n  Collection.Indexed = IndexedCollection;\n  Collection.Set = SetCollection;\n\n  var imul =\n    typeof Math.imul === 'function' && Math.imul(0xffffffff, 2) === -2 ?\n    Math.imul :\n    function imul(a, b) {\n      a = a | 0; // int\n      b = b | 0; // int\n      var c = a & 0xffff;\n      var d = b & 0xffff;\n      // Shift by 0 fixes the sign on the high part.\n      return (c * d) + ((((a >>> 16) * d + c * (b >>> 16)) << 16) >>> 0) | 0; // int\n    };\n\n  // v8 has an optimization for storing 31-bit signed numbers.\n  // Values which have either 00 or 11 as the high order bits qualify.\n  // This function drops the highest order bit in a signed number, maintaining\n  // the sign bit.\n  function smi(i32) {\n    return ((i32 >>> 1) & 0x40000000) | (i32 & 0xBFFFFFFF);\n  }\n\n  function hash(o) {\n    if (o === false || o === null || o === undefined) {\n      return 0;\n    }\n    if (typeof o.valueOf === 'function') {\n      o = o.valueOf();\n      if (o === false || o === null || o === undefined) {\n        return 0;\n      }\n    }\n    if (o === true) {\n      return 1;\n    }\n    var type = typeof o;\n    if (type === 'number') {\n      if (o !== o || o === Infinity) {\n        return 0;\n      }\n      var h = o | 0;\n      if (h !== o) {\n        h ^= o * 0xFFFFFFFF;\n      }\n      while (o > 0xFFFFFFFF) {\n        o /= 0xFFFFFFFF;\n        h ^= o;\n      }\n      return smi(h);\n    }\n    if (type === 'string') {\n      return o.length > STRING_HASH_CACHE_MIN_STRLEN ? cachedHashString(o) : hashString(o);\n    }\n    if (typeof o.hashCode === 'function') {\n      return o.hashCode();\n    }\n    if (type === 'object') {\n      return hashJSObj(o);\n    }\n    if (typeof o.toString === 'function') {\n      return hashString(o.toString());\n    }\n    throw new Error('Value type ' + type + ' cannot be hashed.');\n  }\n\n  function cachedHashString(string) {\n    var hash = stringHashCache[string];\n    if (hash === undefined) {\n      hash = hashString(string);\n      if (STRING_HASH_CACHE_SIZE === STRING_HASH_CACHE_MAX_SIZE) {\n        STRING_HASH_CACHE_SIZE = 0;\n        stringHashCache = {};\n      }\n      STRING_HASH_CACHE_SIZE++;\n      stringHashCache[string] = hash;\n    }\n    return hash;\n  }\n\n  // http://jsperf.com/hashing-strings\n  function hashString(string) {\n    // This is the hash from JVM\n    // The hash code for a string is computed as\n    // s[0] * 31 ^ (n - 1) + s[1] * 31 ^ (n - 2) + ... + s[n - 1],\n    // where s[i] is the ith character of the string and n is the length of\n    // the string. We \"mod\" the result to make it between 0 (inclusive) and 2^31\n    // (exclusive) by dropping high bits.\n    var hash = 0;\n    for (var ii = 0; ii < string.length; ii++) {\n      hash = 31 * hash + string.charCodeAt(ii) | 0;\n    }\n    return smi(hash);\n  }\n\n  function hashJSObj(obj) {\n    var hash;\n    if (usingWeakMap) {\n      hash = weakMap.get(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = obj[UID_HASH_KEY];\n    if (hash !== undefined) {\n      return hash;\n    }\n\n    if (!canDefineProperty) {\n      hash = obj.propertyIsEnumerable && obj.propertyIsEnumerable[UID_HASH_KEY];\n      if (hash !== undefined) {\n        return hash;\n      }\n\n      hash = getIENodeHash(obj);\n      if (hash !== undefined) {\n        return hash;\n      }\n    }\n\n    hash = ++objHashUID;\n    if (objHashUID & 0x40000000) {\n      objHashUID = 0;\n    }\n\n    if (usingWeakMap) {\n      weakMap.set(obj, hash);\n    } else if (isExtensible !== undefined && isExtensible(obj) === false) {\n      throw new Error('Non-extensible objects are not allowed as keys.');\n    } else if (canDefineProperty) {\n      Object.defineProperty(obj, UID_HASH_KEY, {\n        'enumerable': false,\n        'configurable': false,\n        'writable': false,\n        'value': hash\n      });\n    } else if (obj.propertyIsEnumerable !== undefined &&\n               obj.propertyIsEnumerable === obj.constructor.prototype.propertyIsEnumerable) {\n      // Since we can't define a non-enumerable property on the object\n      // we'll hijack one of the less-used non-enumerable properties to\n      // save our hash on it. Since this is a function it will not show up in\n      // `JSON.stringify` which is what we want.\n      obj.propertyIsEnumerable = function() {\n        return this.constructor.prototype.propertyIsEnumerable.apply(this, arguments);\n      };\n      obj.propertyIsEnumerable[UID_HASH_KEY] = hash;\n    } else if (obj.nodeType !== undefined) {\n      // At this point we couldn't get the IE `uniqueID` to use as a hash\n      // and we couldn't use a non-enumerable property to exploit the\n      // dontEnum bug so we simply add the `UID_HASH_KEY` on the node\n      // itself.\n      obj[UID_HASH_KEY] = hash;\n    } else {\n      throw new Error('Unable to set a non-enumerable property on object.');\n    }\n\n    return hash;\n  }\n\n  // Get references to ES5 object methods.\n  var isExtensible = Object.isExtensible;\n\n  // True if Object.defineProperty works as expected. IE8 fails this test.\n  var canDefineProperty = (function() {\n    try {\n      Object.defineProperty({}, '@', {});\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }());\n\n  // IE has a `uniqueID` property on DOM nodes. We can construct the hash from it\n  // and avoid memory leaks from the IE cloneNode bug.\n  function getIENodeHash(node) {\n    if (node && node.nodeType > 0) {\n      switch (node.nodeType) {\n        case 1: // Element\n          return node.uniqueID;\n        case 9: // Document\n          return node.documentElement && node.documentElement.uniqueID;\n      }\n    }\n  }\n\n  // If possible, use a WeakMap.\n  var usingWeakMap = typeof WeakMap === 'function';\n  var weakMap;\n  if (usingWeakMap) {\n    weakMap = new WeakMap();\n  }\n\n  var objHashUID = 0;\n\n  var UID_HASH_KEY = '__immutablehash__';\n  if (typeof Symbol === 'function') {\n    UID_HASH_KEY = Symbol(UID_HASH_KEY);\n  }\n\n  var STRING_HASH_CACHE_MIN_STRLEN = 16;\n  var STRING_HASH_CACHE_MAX_SIZE = 255;\n  var STRING_HASH_CACHE_SIZE = 0;\n  var stringHashCache = {};\n\n  function assertNotInfinite(size) {\n    invariant(\n      size !== Infinity,\n      'Cannot perform this action with an infinite size.'\n    );\n  }\n\n  createClass(Map, KeyedCollection);\n\n    // @pragma Construction\n\n    function Map(value) {\n      return value === null || value === undefined ? emptyMap() :\n        isMap(value) && !isOrdered(value) ? value :\n        emptyMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    Map.of = function() {var keyValues = SLICE$0.call(arguments, 0);\n      return emptyMap().withMutations(function(map ) {\n        for (var i = 0; i < keyValues.length; i += 2) {\n          if (i + 1 >= keyValues.length) {\n            throw new Error('Missing value for key: ' + keyValues[i]);\n          }\n          map.set(keyValues[i], keyValues[i + 1]);\n        }\n      });\n    };\n\n    Map.prototype.toString = function() {\n      return this.__toString('Map {', '}');\n    };\n\n    // @pragma Access\n\n    Map.prototype.get = function(k, notSetValue) {\n      return this._root ?\n        this._root.get(0, undefined, k, notSetValue) :\n        notSetValue;\n    };\n\n    // @pragma Modification\n\n    Map.prototype.set = function(k, v) {\n      return updateMap(this, k, v);\n    };\n\n    Map.prototype.setIn = function(keyPath, v) {\n      return this.updateIn(keyPath, NOT_SET, function()  {return v});\n    };\n\n    Map.prototype.remove = function(k) {\n      return updateMap(this, k, NOT_SET);\n    };\n\n    Map.prototype.deleteIn = function(keyPath) {\n      return this.updateIn(keyPath, function()  {return NOT_SET});\n    };\n\n    Map.prototype.update = function(k, notSetValue, updater) {\n      return arguments.length === 1 ?\n        k(this) :\n        this.updateIn([k], notSetValue, updater);\n    };\n\n    Map.prototype.updateIn = function(keyPath, notSetValue, updater) {\n      if (!updater) {\n        updater = notSetValue;\n        notSetValue = undefined;\n      }\n      var updatedValue = updateInDeepMap(\n        this,\n        forceIterator(keyPath),\n        notSetValue,\n        updater\n      );\n      return updatedValue === NOT_SET ? undefined : updatedValue;\n    };\n\n    Map.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._root = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyMap();\n    };\n\n    // @pragma Composition\n\n    Map.prototype.merge = function(/*...iters*/) {\n      return mergeIntoMapWith(this, undefined, arguments);\n    };\n\n    Map.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, merger, iters);\n    };\n\n    Map.prototype.mergeIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.merge === 'function' ?\n          m.merge.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoMapWith(this, deepMerger, arguments);\n    };\n\n    Map.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoMapWith(this, deepMergerWith(merger), iters);\n    };\n\n    Map.prototype.mergeDeepIn = function(keyPath) {var iters = SLICE$0.call(arguments, 1);\n      return this.updateIn(\n        keyPath,\n        emptyMap(),\n        function(m ) {return typeof m.mergeDeep === 'function' ?\n          m.mergeDeep.apply(m, iters) :\n          iters[iters.length - 1]}\n      );\n    };\n\n    Map.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator));\n    };\n\n    Map.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedMap(sortFactory(this, comparator, mapper));\n    };\n\n    // @pragma Mutability\n\n    Map.prototype.withMutations = function(fn) {\n      var mutable = this.asMutable();\n      fn(mutable);\n      return mutable.wasAltered() ? mutable.__ensureOwner(this.__ownerID) : this;\n    };\n\n    Map.prototype.asMutable = function() {\n      return this.__ownerID ? this : this.__ensureOwner(new OwnerID());\n    };\n\n    Map.prototype.asImmutable = function() {\n      return this.__ensureOwner();\n    };\n\n    Map.prototype.wasAltered = function() {\n      return this.__altered;\n    };\n\n    Map.prototype.__iterator = function(type, reverse) {\n      return new MapIterator(this, type, reverse);\n    };\n\n    Map.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      this._root && this._root.iterate(function(entry ) {\n        iterations++;\n        return fn(entry[1], entry[0], this$0);\n      }, reverse);\n      return iterations;\n    };\n\n    Map.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeMap(this.size, this._root, ownerID, this.__hash);\n    };\n\n\n  function isMap(maybeMap) {\n    return !!(maybeMap && maybeMap[IS_MAP_SENTINEL]);\n  }\n\n  Map.isMap = isMap;\n\n  var IS_MAP_SENTINEL = '@@__IMMUTABLE_MAP__@@';\n\n  var MapPrototype = Map.prototype;\n  MapPrototype[IS_MAP_SENTINEL] = true;\n  MapPrototype[DELETE] = MapPrototype.remove;\n  MapPrototype.removeIn = MapPrototype.deleteIn;\n\n\n  // #pragma Trie Nodes\n\n\n\n    function ArrayMapNode(ownerID, entries) {\n      this.ownerID = ownerID;\n      this.entries = entries;\n    }\n\n    ArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    ArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && entries.length === 1) {\n        return; // undefined\n      }\n\n      if (!exists && !removed && entries.length >= MAX_ARRAY_MAP_SIZE) {\n        return createNodes(ownerID, entries, key, value);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new ArrayMapNode(ownerID, newEntries);\n    };\n\n\n\n\n    function BitmapIndexedNode(ownerID, bitmap, nodes) {\n      this.ownerID = ownerID;\n      this.bitmap = bitmap;\n      this.nodes = nodes;\n    }\n\n    BitmapIndexedNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var bit = (1 << ((shift === 0 ? keyHash : keyHash >>> shift) & MASK));\n      var bitmap = this.bitmap;\n      return (bitmap & bit) === 0 ? notSetValue :\n        this.nodes[popCount(bitmap & (bit - 1))].get(shift + SHIFT, keyHash, key, notSetValue);\n    };\n\n    BitmapIndexedNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var keyHashFrag = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var bit = 1 << keyHashFrag;\n      var bitmap = this.bitmap;\n      var exists = (bitmap & bit) !== 0;\n\n      if (!exists && value === NOT_SET) {\n        return this;\n      }\n\n      var idx = popCount(bitmap & (bit - 1));\n      var nodes = this.nodes;\n      var node = exists ? nodes[idx] : undefined;\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n\n      if (newNode === node) {\n        return this;\n      }\n\n      if (!exists && newNode && nodes.length >= MAX_BITMAP_INDEXED_SIZE) {\n        return expandNodes(ownerID, nodes, bitmap, keyHashFrag, newNode);\n      }\n\n      if (exists && !newNode && nodes.length === 2 && isLeafNode(nodes[idx ^ 1])) {\n        return nodes[idx ^ 1];\n      }\n\n      if (exists && newNode && nodes.length === 1 && isLeafNode(newNode)) {\n        return newNode;\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newBitmap = exists ? newNode ? bitmap : bitmap ^ bit : bitmap | bit;\n      var newNodes = exists ? newNode ?\n        setIn(nodes, idx, newNode, isEditable) :\n        spliceOut(nodes, idx, isEditable) :\n        spliceIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.bitmap = newBitmap;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new BitmapIndexedNode(ownerID, newBitmap, newNodes);\n    };\n\n\n\n\n    function HashArrayMapNode(ownerID, count, nodes) {\n      this.ownerID = ownerID;\n      this.count = count;\n      this.nodes = nodes;\n    }\n\n    HashArrayMapNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var node = this.nodes[idx];\n      return node ? node.get(shift + SHIFT, keyHash, key, notSetValue) : notSetValue;\n    };\n\n    HashArrayMapNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n      var idx = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n      var removed = value === NOT_SET;\n      var nodes = this.nodes;\n      var node = nodes[idx];\n\n      if (removed && !node) {\n        return this;\n      }\n\n      var newNode = updateNode(node, ownerID, shift + SHIFT, keyHash, key, value, didChangeSize, didAlter);\n      if (newNode === node) {\n        return this;\n      }\n\n      var newCount = this.count;\n      if (!node) {\n        newCount++;\n      } else if (!newNode) {\n        newCount--;\n        if (newCount < MIN_HASH_ARRAY_MAP_SIZE) {\n          return packNodes(ownerID, nodes, newCount, idx);\n        }\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newNodes = setIn(nodes, idx, newNode, isEditable);\n\n      if (isEditable) {\n        this.count = newCount;\n        this.nodes = newNodes;\n        return this;\n      }\n\n      return new HashArrayMapNode(ownerID, newCount, newNodes);\n    };\n\n\n\n\n    function HashCollisionNode(ownerID, keyHash, entries) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entries = entries;\n    }\n\n    HashCollisionNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      var entries = this.entries;\n      for (var ii = 0, len = entries.length; ii < len; ii++) {\n        if (is(key, entries[ii][0])) {\n          return entries[ii][1];\n        }\n      }\n      return notSetValue;\n    };\n\n    HashCollisionNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      if (keyHash === undefined) {\n        keyHash = hash(key);\n      }\n\n      var removed = value === NOT_SET;\n\n      if (keyHash !== this.keyHash) {\n        if (removed) {\n          return this;\n        }\n        SetRef(didAlter);\n        SetRef(didChangeSize);\n        return mergeIntoNode(this, ownerID, shift, keyHash, [key, value]);\n      }\n\n      var entries = this.entries;\n      var idx = 0;\n      for (var len = entries.length; idx < len; idx++) {\n        if (is(key, entries[idx][0])) {\n          break;\n        }\n      }\n      var exists = idx < len;\n\n      if (exists ? entries[idx][1] === value : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n      (removed || !exists) && SetRef(didChangeSize);\n\n      if (removed && len === 2) {\n        return new ValueNode(ownerID, this.keyHash, entries[idx ^ 1]);\n      }\n\n      var isEditable = ownerID && ownerID === this.ownerID;\n      var newEntries = isEditable ? entries : arrCopy(entries);\n\n      if (exists) {\n        if (removed) {\n          idx === len - 1 ? newEntries.pop() : (newEntries[idx] = newEntries.pop());\n        } else {\n          newEntries[idx] = [key, value];\n        }\n      } else {\n        newEntries.push([key, value]);\n      }\n\n      if (isEditable) {\n        this.entries = newEntries;\n        return this;\n      }\n\n      return new HashCollisionNode(ownerID, this.keyHash, newEntries);\n    };\n\n\n\n\n    function ValueNode(ownerID, keyHash, entry) {\n      this.ownerID = ownerID;\n      this.keyHash = keyHash;\n      this.entry = entry;\n    }\n\n    ValueNode.prototype.get = function(shift, keyHash, key, notSetValue) {\n      return is(key, this.entry[0]) ? this.entry[1] : notSetValue;\n    };\n\n    ValueNode.prototype.update = function(ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n      var removed = value === NOT_SET;\n      var keyMatch = is(key, this.entry[0]);\n      if (keyMatch ? value === this.entry[1] : removed) {\n        return this;\n      }\n\n      SetRef(didAlter);\n\n      if (removed) {\n        SetRef(didChangeSize);\n        return; // undefined\n      }\n\n      if (keyMatch) {\n        if (ownerID && ownerID === this.ownerID) {\n          this.entry[1] = value;\n          return this;\n        }\n        return new ValueNode(ownerID, this.keyHash, [key, value]);\n      }\n\n      SetRef(didChangeSize);\n      return mergeIntoNode(this, ownerID, shift, hash(key), [key, value]);\n    };\n\n\n\n  // #pragma Iterators\n\n  ArrayMapNode.prototype.iterate =\n  HashCollisionNode.prototype.iterate = function (fn, reverse) {\n    var entries = this.entries;\n    for (var ii = 0, maxIndex = entries.length - 1; ii <= maxIndex; ii++) {\n      if (fn(entries[reverse ? maxIndex - ii : ii]) === false) {\n        return false;\n      }\n    }\n  }\n\n  BitmapIndexedNode.prototype.iterate =\n  HashArrayMapNode.prototype.iterate = function (fn, reverse) {\n    var nodes = this.nodes;\n    for (var ii = 0, maxIndex = nodes.length - 1; ii <= maxIndex; ii++) {\n      var node = nodes[reverse ? maxIndex - ii : ii];\n      if (node && node.iterate(fn, reverse) === false) {\n        return false;\n      }\n    }\n  }\n\n  ValueNode.prototype.iterate = function (fn, reverse) {\n    return fn(this.entry);\n  }\n\n  createClass(MapIterator, Iterator);\n\n    function MapIterator(map, type, reverse) {\n      this._type = type;\n      this._reverse = reverse;\n      this._stack = map._root && mapIteratorFrame(map._root);\n    }\n\n    MapIterator.prototype.next = function() {\n      var type = this._type;\n      var stack = this._stack;\n      while (stack) {\n        var node = stack.node;\n        var index = stack.index++;\n        var maxIndex;\n        if (node.entry) {\n          if (index === 0) {\n            return mapIteratorValue(type, node.entry);\n          }\n        } else if (node.entries) {\n          maxIndex = node.entries.length - 1;\n          if (index <= maxIndex) {\n            return mapIteratorValue(type, node.entries[this._reverse ? maxIndex - index : index]);\n          }\n        } else {\n          maxIndex = node.nodes.length - 1;\n          if (index <= maxIndex) {\n            var subNode = node.nodes[this._reverse ? maxIndex - index : index];\n            if (subNode) {\n              if (subNode.entry) {\n                return mapIteratorValue(type, subNode.entry);\n              }\n              stack = this._stack = mapIteratorFrame(subNode, stack);\n            }\n            continue;\n          }\n        }\n        stack = this._stack = this._stack.__prev;\n      }\n      return iteratorDone();\n    };\n\n\n  function mapIteratorValue(type, entry) {\n    return iteratorValue(type, entry[0], entry[1]);\n  }\n\n  function mapIteratorFrame(node, prev) {\n    return {\n      node: node,\n      index: 0,\n      __prev: prev\n    };\n  }\n\n  function makeMap(size, root, ownerID, hash) {\n    var map = Object.create(MapPrototype);\n    map.size = size;\n    map._root = root;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_MAP;\n  function emptyMap() {\n    return EMPTY_MAP || (EMPTY_MAP = makeMap(0));\n  }\n\n  function updateMap(map, k, v) {\n    var newRoot;\n    var newSize;\n    if (!map._root) {\n      if (v === NOT_SET) {\n        return map;\n      }\n      newSize = 1;\n      newRoot = new ArrayMapNode(map.__ownerID, [[k, v]]);\n    } else {\n      var didChangeSize = MakeRef(CHANGE_LENGTH);\n      var didAlter = MakeRef(DID_ALTER);\n      newRoot = updateNode(map._root, map.__ownerID, 0, undefined, k, v, didChangeSize, didAlter);\n      if (!didAlter.value) {\n        return map;\n      }\n      newSize = map.size + (didChangeSize.value ? v === NOT_SET ? -1 : 1 : 0);\n    }\n    if (map.__ownerID) {\n      map.size = newSize;\n      map._root = newRoot;\n      map.__hash = undefined;\n      map.__altered = true;\n      return map;\n    }\n    return newRoot ? makeMap(newSize, newRoot) : emptyMap();\n  }\n\n  function updateNode(node, ownerID, shift, keyHash, key, value, didChangeSize, didAlter) {\n    if (!node) {\n      if (value === NOT_SET) {\n        return node;\n      }\n      SetRef(didAlter);\n      SetRef(didChangeSize);\n      return new ValueNode(ownerID, keyHash, [key, value]);\n    }\n    return node.update(ownerID, shift, keyHash, key, value, didChangeSize, didAlter);\n  }\n\n  function isLeafNode(node) {\n    return node.constructor === ValueNode || node.constructor === HashCollisionNode;\n  }\n\n  function mergeIntoNode(node, ownerID, shift, keyHash, entry) {\n    if (node.keyHash === keyHash) {\n      return new HashCollisionNode(ownerID, keyHash, [node.entry, entry]);\n    }\n\n    var idx1 = (shift === 0 ? node.keyHash : node.keyHash >>> shift) & MASK;\n    var idx2 = (shift === 0 ? keyHash : keyHash >>> shift) & MASK;\n\n    var newNode;\n    var nodes = idx1 === idx2 ?\n      [mergeIntoNode(node, ownerID, shift + SHIFT, keyHash, entry)] :\n      ((newNode = new ValueNode(ownerID, keyHash, entry)), idx1 < idx2 ? [node, newNode] : [newNode, node]);\n\n    return new BitmapIndexedNode(ownerID, (1 << idx1) | (1 << idx2), nodes);\n  }\n\n  function createNodes(ownerID, entries, key, value) {\n    if (!ownerID) {\n      ownerID = new OwnerID();\n    }\n    var node = new ValueNode(ownerID, hash(key), [key, value]);\n    for (var ii = 0; ii < entries.length; ii++) {\n      var entry = entries[ii];\n      node = node.update(ownerID, 0, undefined, entry[0], entry[1]);\n    }\n    return node;\n  }\n\n  function packNodes(ownerID, nodes, count, excluding) {\n    var bitmap = 0;\n    var packedII = 0;\n    var packedNodes = new Array(count);\n    for (var ii = 0, bit = 1, len = nodes.length; ii < len; ii++, bit <<= 1) {\n      var node = nodes[ii];\n      if (node !== undefined && ii !== excluding) {\n        bitmap |= bit;\n        packedNodes[packedII++] = node;\n      }\n    }\n    return new BitmapIndexedNode(ownerID, bitmap, packedNodes);\n  }\n\n  function expandNodes(ownerID, nodes, bitmap, including, node) {\n    var count = 0;\n    var expandedNodes = new Array(SIZE);\n    for (var ii = 0; bitmap !== 0; ii++, bitmap >>>= 1) {\n      expandedNodes[ii] = bitmap & 1 ? nodes[count++] : undefined;\n    }\n    expandedNodes[including] = node;\n    return new HashArrayMapNode(ownerID, count + 1, expandedNodes);\n  }\n\n  function mergeIntoMapWith(map, merger, iterables) {\n    var iters = [];\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = KeyedIterable(value);\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    return mergeIntoCollectionWith(map, merger, iters);\n  }\n\n  function deepMerger(existing, value, key) {\n    return existing && existing.mergeDeep && isIterable(value) ?\n      existing.mergeDeep(value) :\n      is(existing, value) ? existing : value;\n  }\n\n  function deepMergerWith(merger) {\n    return function(existing, value, key)  {\n      if (existing && existing.mergeDeepWith && isIterable(value)) {\n        return existing.mergeDeepWith(merger, value);\n      }\n      var nextValue = merger(existing, value, key);\n      return is(existing, nextValue) ? existing : nextValue;\n    };\n  }\n\n  function mergeIntoCollectionWith(collection, merger, iters) {\n    iters = iters.filter(function(x ) {return x.size !== 0});\n    if (iters.length === 0) {\n      return collection;\n    }\n    if (collection.size === 0 && !collection.__ownerID && iters.length === 1) {\n      return collection.constructor(iters[0]);\n    }\n    return collection.withMutations(function(collection ) {\n      var mergeIntoMap = merger ?\n        function(value, key)  {\n          collection.update(key, NOT_SET, function(existing )\n            {return existing === NOT_SET ? value : merger(existing, value, key)}\n          );\n        } :\n        function(value, key)  {\n          collection.set(key, value);\n        }\n      for (var ii = 0; ii < iters.length; ii++) {\n        iters[ii].forEach(mergeIntoMap);\n      }\n    });\n  }\n\n  function updateInDeepMap(existing, keyPathIter, notSetValue, updater) {\n    var isNotSet = existing === NOT_SET;\n    var step = keyPathIter.next();\n    if (step.done) {\n      var existingValue = isNotSet ? notSetValue : existing;\n      var newValue = updater(existingValue);\n      return newValue === existingValue ? existing : newValue;\n    }\n    invariant(\n      isNotSet || (existing && existing.set),\n      'invalid keyPath'\n    );\n    var key = step.value;\n    var nextExisting = isNotSet ? NOT_SET : existing.get(key, NOT_SET);\n    var nextUpdated = updateInDeepMap(\n      nextExisting,\n      keyPathIter,\n      notSetValue,\n      updater\n    );\n    return nextUpdated === nextExisting ? existing :\n      nextUpdated === NOT_SET ? existing.remove(key) :\n      (isNotSet ? emptyMap() : existing).set(key, nextUpdated);\n  }\n\n  function popCount(x) {\n    x = x - ((x >> 1) & 0x55555555);\n    x = (x & 0x33333333) + ((x >> 2) & 0x33333333);\n    x = (x + (x >> 4)) & 0x0f0f0f0f;\n    x = x + (x >> 8);\n    x = x + (x >> 16);\n    return x & 0x7f;\n  }\n\n  function setIn(array, idx, val, canEdit) {\n    var newArray = canEdit ? array : arrCopy(array);\n    newArray[idx] = val;\n    return newArray;\n  }\n\n  function spliceIn(array, idx, val, canEdit) {\n    var newLen = array.length + 1;\n    if (canEdit && idx + 1 === newLen) {\n      array[idx] = val;\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        newArray[ii] = val;\n        after = -1;\n      } else {\n        newArray[ii] = array[ii + after];\n      }\n    }\n    return newArray;\n  }\n\n  function spliceOut(array, idx, canEdit) {\n    var newLen = array.length - 1;\n    if (canEdit && idx === newLen) {\n      array.pop();\n      return array;\n    }\n    var newArray = new Array(newLen);\n    var after = 0;\n    for (var ii = 0; ii < newLen; ii++) {\n      if (ii === idx) {\n        after = 1;\n      }\n      newArray[ii] = array[ii + after];\n    }\n    return newArray;\n  }\n\n  var MAX_ARRAY_MAP_SIZE = SIZE / 4;\n  var MAX_BITMAP_INDEXED_SIZE = SIZE / 2;\n  var MIN_HASH_ARRAY_MAP_SIZE = SIZE / 4;\n\n  createClass(List, IndexedCollection);\n\n    // @pragma Construction\n\n    function List(value) {\n      var empty = emptyList();\n      if (value === null || value === undefined) {\n        return empty;\n      }\n      if (isList(value)) {\n        return value;\n      }\n      var iter = IndexedIterable(value);\n      var size = iter.size;\n      if (size === 0) {\n        return empty;\n      }\n      assertNotInfinite(size);\n      if (size > 0 && size < SIZE) {\n        return makeList(0, size, SHIFT, null, new VNode(iter.toArray()));\n      }\n      return empty.withMutations(function(list ) {\n        list.setSize(size);\n        iter.forEach(function(v, i)  {return list.set(i, v)});\n      });\n    }\n\n    List.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    List.prototype.toString = function() {\n      return this.__toString('List [', ']');\n    };\n\n    // @pragma Access\n\n    List.prototype.get = function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      if (index >= 0 && index < this.size) {\n        index += this._origin;\n        var node = listNodeFor(this, index);\n        return node && node.array[index & MASK];\n      }\n      return notSetValue;\n    };\n\n    // @pragma Modification\n\n    List.prototype.set = function(index, value) {\n      return updateList(this, index, value);\n    };\n\n    List.prototype.remove = function(index) {\n      return !this.has(index) ? this :\n        index === 0 ? this.shift() :\n        index === this.size - 1 ? this.pop() :\n        this.splice(index, 1);\n    };\n\n    List.prototype.insert = function(index, value) {\n      return this.splice(index, 0, value);\n    };\n\n    List.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = this._origin = this._capacity = 0;\n        this._level = SHIFT;\n        this._root = this._tail = null;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyList();\n    };\n\n    List.prototype.push = function(/*...values*/) {\n      var values = arguments;\n      var oldSize = this.size;\n      return this.withMutations(function(list ) {\n        setListBounds(list, 0, oldSize + values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(oldSize + ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.pop = function() {\n      return setListBounds(this, 0, -1);\n    };\n\n    List.prototype.unshift = function(/*...values*/) {\n      var values = arguments;\n      return this.withMutations(function(list ) {\n        setListBounds(list, -values.length);\n        for (var ii = 0; ii < values.length; ii++) {\n          list.set(ii, values[ii]);\n        }\n      });\n    };\n\n    List.prototype.shift = function() {\n      return setListBounds(this, 1);\n    };\n\n    // @pragma Composition\n\n    List.prototype.merge = function(/*...iters*/) {\n      return mergeIntoListWith(this, undefined, arguments);\n    };\n\n    List.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, merger, iters);\n    };\n\n    List.prototype.mergeDeep = function(/*...iters*/) {\n      return mergeIntoListWith(this, deepMerger, arguments);\n    };\n\n    List.prototype.mergeDeepWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return mergeIntoListWith(this, deepMergerWith(merger), iters);\n    };\n\n    List.prototype.setSize = function(size) {\n      return setListBounds(this, 0, size);\n    };\n\n    // @pragma Iteration\n\n    List.prototype.slice = function(begin, end) {\n      var size = this.size;\n      if (wholeSlice(begin, end, size)) {\n        return this;\n      }\n      return setListBounds(\n        this,\n        resolveBegin(begin, size),\n        resolveEnd(end, size)\n      );\n    };\n\n    List.prototype.__iterator = function(type, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      return new Iterator(function()  {\n        var value = values();\n        return value === DONE ?\n          iteratorDone() :\n          iteratorValue(type, index++, value);\n      });\n    };\n\n    List.prototype.__iterate = function(fn, reverse) {\n      var index = 0;\n      var values = iterateList(this, reverse);\n      var value;\n      while ((value = values()) !== DONE) {\n        if (fn(value, index++, this) === false) {\n          break;\n        }\n      }\n      return index;\n    };\n\n    List.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        return this;\n      }\n      return makeList(this._origin, this._capacity, this._level, this._root, this._tail, ownerID, this.__hash);\n    };\n\n\n  function isList(maybeList) {\n    return !!(maybeList && maybeList[IS_LIST_SENTINEL]);\n  }\n\n  List.isList = isList;\n\n  var IS_LIST_SENTINEL = '@@__IMMUTABLE_LIST__@@';\n\n  var ListPrototype = List.prototype;\n  ListPrototype[IS_LIST_SENTINEL] = true;\n  ListPrototype[DELETE] = ListPrototype.remove;\n  ListPrototype.setIn = MapPrototype.setIn;\n  ListPrototype.deleteIn =\n  ListPrototype.removeIn = MapPrototype.removeIn;\n  ListPrototype.update = MapPrototype.update;\n  ListPrototype.updateIn = MapPrototype.updateIn;\n  ListPrototype.mergeIn = MapPrototype.mergeIn;\n  ListPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  ListPrototype.withMutations = MapPrototype.withMutations;\n  ListPrototype.asMutable = MapPrototype.asMutable;\n  ListPrototype.asImmutable = MapPrototype.asImmutable;\n  ListPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n\n    function VNode(array, ownerID) {\n      this.array = array;\n      this.ownerID = ownerID;\n    }\n\n    // TODO: seems like these methods are very similar\n\n    VNode.prototype.removeBefore = function(ownerID, level, index) {\n      if (index === level ? 1 << level : 0 || this.array.length === 0) {\n        return this;\n      }\n      var originIndex = (index >>> level) & MASK;\n      if (originIndex >= this.array.length) {\n        return new VNode([], ownerID);\n      }\n      var removingFirst = originIndex === 0;\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[originIndex];\n        newChild = oldChild && oldChild.removeBefore(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && removingFirst) {\n          return this;\n        }\n      }\n      if (removingFirst && !newChild) {\n        return this;\n      }\n      var editable = editableVNode(this, ownerID);\n      if (!removingFirst) {\n        for (var ii = 0; ii < originIndex; ii++) {\n          editable.array[ii] = undefined;\n        }\n      }\n      if (newChild) {\n        editable.array[originIndex] = newChild;\n      }\n      return editable;\n    };\n\n    VNode.prototype.removeAfter = function(ownerID, level, index) {\n      if (index === (level ? 1 << level : 0) || this.array.length === 0) {\n        return this;\n      }\n      var sizeIndex = ((index - 1) >>> level) & MASK;\n      if (sizeIndex >= this.array.length) {\n        return this;\n      }\n\n      var newChild;\n      if (level > 0) {\n        var oldChild = this.array[sizeIndex];\n        newChild = oldChild && oldChild.removeAfter(ownerID, level - SHIFT, index);\n        if (newChild === oldChild && sizeIndex === this.array.length - 1) {\n          return this;\n        }\n      }\n\n      var editable = editableVNode(this, ownerID);\n      editable.array.splice(sizeIndex + 1);\n      if (newChild) {\n        editable.array[sizeIndex] = newChild;\n      }\n      return editable;\n    };\n\n\n\n  var DONE = {};\n\n  function iterateList(list, reverse) {\n    var left = list._origin;\n    var right = list._capacity;\n    var tailPos = getTailOffset(right);\n    var tail = list._tail;\n\n    return iterateNodeOrLeaf(list._root, list._level, 0);\n\n    function iterateNodeOrLeaf(node, level, offset) {\n      return level === 0 ?\n        iterateLeaf(node, offset) :\n        iterateNode(node, level, offset);\n    }\n\n    function iterateLeaf(node, offset) {\n      var array = offset === tailPos ? tail && tail.array : node && node.array;\n      var from = offset > left ? 0 : left - offset;\n      var to = right - offset;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        if (from === to) {\n          return DONE;\n        }\n        var idx = reverse ? --to : from++;\n        return array && array[idx];\n      };\n    }\n\n    function iterateNode(node, level, offset) {\n      var values;\n      var array = node && node.array;\n      var from = offset > left ? 0 : (left - offset) >> level;\n      var to = ((right - offset) >> level) + 1;\n      if (to > SIZE) {\n        to = SIZE;\n      }\n      return function()  {\n        do {\n          if (values) {\n            var value = values();\n            if (value !== DONE) {\n              return value;\n            }\n            values = null;\n          }\n          if (from === to) {\n            return DONE;\n          }\n          var idx = reverse ? --to : from++;\n          values = iterateNodeOrLeaf(\n            array && array[idx], level - SHIFT, offset + (idx << level)\n          );\n        } while (true);\n      };\n    }\n  }\n\n  function makeList(origin, capacity, level, root, tail, ownerID, hash) {\n    var list = Object.create(ListPrototype);\n    list.size = capacity - origin;\n    list._origin = origin;\n    list._capacity = capacity;\n    list._level = level;\n    list._root = root;\n    list._tail = tail;\n    list.__ownerID = ownerID;\n    list.__hash = hash;\n    list.__altered = false;\n    return list;\n  }\n\n  var EMPTY_LIST;\n  function emptyList() {\n    return EMPTY_LIST || (EMPTY_LIST = makeList(0, 0, SHIFT));\n  }\n\n  function updateList(list, index, value) {\n    index = wrapIndex(list, index);\n\n    if (index !== index) {\n      return list;\n    }\n\n    if (index >= list.size || index < 0) {\n      return list.withMutations(function(list ) {\n        index < 0 ?\n          setListBounds(list, index).set(0, value) :\n          setListBounds(list, 0, index + 1).set(index, value)\n      });\n    }\n\n    index += list._origin;\n\n    var newTail = list._tail;\n    var newRoot = list._root;\n    var didAlter = MakeRef(DID_ALTER);\n    if (index >= getTailOffset(list._capacity)) {\n      newTail = updateVNode(newTail, list.__ownerID, 0, index, value, didAlter);\n    } else {\n      newRoot = updateVNode(newRoot, list.__ownerID, list._level, index, value, didAlter);\n    }\n\n    if (!didAlter.value) {\n      return list;\n    }\n\n    if (list.__ownerID) {\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(list._origin, list._capacity, list._level, newRoot, newTail);\n  }\n\n  function updateVNode(node, ownerID, level, index, value, didAlter) {\n    var idx = (index >>> level) & MASK;\n    var nodeHas = node && idx < node.array.length;\n    if (!nodeHas && value === undefined) {\n      return node;\n    }\n\n    var newNode;\n\n    if (level > 0) {\n      var lowerNode = node && node.array[idx];\n      var newLowerNode = updateVNode(lowerNode, ownerID, level - SHIFT, index, value, didAlter);\n      if (newLowerNode === lowerNode) {\n        return node;\n      }\n      newNode = editableVNode(node, ownerID);\n      newNode.array[idx] = newLowerNode;\n      return newNode;\n    }\n\n    if (nodeHas && node.array[idx] === value) {\n      return node;\n    }\n\n    SetRef(didAlter);\n\n    newNode = editableVNode(node, ownerID);\n    if (value === undefined && idx === newNode.array.length - 1) {\n      newNode.array.pop();\n    } else {\n      newNode.array[idx] = value;\n    }\n    return newNode;\n  }\n\n  function editableVNode(node, ownerID) {\n    if (ownerID && node && ownerID === node.ownerID) {\n      return node;\n    }\n    return new VNode(node ? node.array.slice() : [], ownerID);\n  }\n\n  function listNodeFor(list, rawIndex) {\n    if (rawIndex >= getTailOffset(list._capacity)) {\n      return list._tail;\n    }\n    if (rawIndex < 1 << (list._level + SHIFT)) {\n      var node = list._root;\n      var level = list._level;\n      while (node && level > 0) {\n        node = node.array[(rawIndex >>> level) & MASK];\n        level -= SHIFT;\n      }\n      return node;\n    }\n  }\n\n  function setListBounds(list, begin, end) {\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      end = end | 0;\n    }\n    var owner = list.__ownerID || new OwnerID();\n    var oldOrigin = list._origin;\n    var oldCapacity = list._capacity;\n    var newOrigin = oldOrigin + begin;\n    var newCapacity = end === undefined ? oldCapacity : end < 0 ? oldCapacity + end : oldOrigin + end;\n    if (newOrigin === oldOrigin && newCapacity === oldCapacity) {\n      return list;\n    }\n\n    // If it's going to end after it starts, it's empty.\n    if (newOrigin >= newCapacity) {\n      return list.clear();\n    }\n\n    var newLevel = list._level;\n    var newRoot = list._root;\n\n    // New origin might need creating a higher root.\n    var offsetShift = 0;\n    while (newOrigin + offsetShift < 0) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [undefined, newRoot] : [], owner);\n      newLevel += SHIFT;\n      offsetShift += 1 << newLevel;\n    }\n    if (offsetShift) {\n      newOrigin += offsetShift;\n      oldOrigin += offsetShift;\n      newCapacity += offsetShift;\n      oldCapacity += offsetShift;\n    }\n\n    var oldTailOffset = getTailOffset(oldCapacity);\n    var newTailOffset = getTailOffset(newCapacity);\n\n    // New size might need creating a higher root.\n    while (newTailOffset >= 1 << (newLevel + SHIFT)) {\n      newRoot = new VNode(newRoot && newRoot.array.length ? [newRoot] : [], owner);\n      newLevel += SHIFT;\n    }\n\n    // Locate or create the new tail.\n    var oldTail = list._tail;\n    var newTail = newTailOffset < oldTailOffset ?\n      listNodeFor(list, newCapacity - 1) :\n      newTailOffset > oldTailOffset ? new VNode([], owner) : oldTail;\n\n    // Merge Tail into tree.\n    if (oldTail && newTailOffset > oldTailOffset && newOrigin < oldCapacity && oldTail.array.length) {\n      newRoot = editableVNode(newRoot, owner);\n      var node = newRoot;\n      for (var level = newLevel; level > SHIFT; level -= SHIFT) {\n        var idx = (oldTailOffset >>> level) & MASK;\n        node = node.array[idx] = editableVNode(node.array[idx], owner);\n      }\n      node.array[(oldTailOffset >>> SHIFT) & MASK] = oldTail;\n    }\n\n    // If the size has been reduced, there's a chance the tail needs to be trimmed.\n    if (newCapacity < oldCapacity) {\n      newTail = newTail && newTail.removeAfter(owner, 0, newCapacity);\n    }\n\n    // If the new origin is within the tail, then we do not need a root.\n    if (newOrigin >= newTailOffset) {\n      newOrigin -= newTailOffset;\n      newCapacity -= newTailOffset;\n      newLevel = SHIFT;\n      newRoot = null;\n      newTail = newTail && newTail.removeBefore(owner, 0, newOrigin);\n\n    // Otherwise, if the root has been trimmed, garbage collect.\n    } else if (newOrigin > oldOrigin || newTailOffset < oldTailOffset) {\n      offsetShift = 0;\n\n      // Identify the new top root node of the subtree of the old root.\n      while (newRoot) {\n        var beginIndex = (newOrigin >>> newLevel) & MASK;\n        if (beginIndex !== (newTailOffset >>> newLevel) & MASK) {\n          break;\n        }\n        if (beginIndex) {\n          offsetShift += (1 << newLevel) * beginIndex;\n        }\n        newLevel -= SHIFT;\n        newRoot = newRoot.array[beginIndex];\n      }\n\n      // Trim the new sides of the new root.\n      if (newRoot && newOrigin > oldOrigin) {\n        newRoot = newRoot.removeBefore(owner, newLevel, newOrigin - offsetShift);\n      }\n      if (newRoot && newTailOffset < oldTailOffset) {\n        newRoot = newRoot.removeAfter(owner, newLevel, newTailOffset - offsetShift);\n      }\n      if (offsetShift) {\n        newOrigin -= offsetShift;\n        newCapacity -= offsetShift;\n      }\n    }\n\n    if (list.__ownerID) {\n      list.size = newCapacity - newOrigin;\n      list._origin = newOrigin;\n      list._capacity = newCapacity;\n      list._level = newLevel;\n      list._root = newRoot;\n      list._tail = newTail;\n      list.__hash = undefined;\n      list.__altered = true;\n      return list;\n    }\n    return makeList(newOrigin, newCapacity, newLevel, newRoot, newTail);\n  }\n\n  function mergeIntoListWith(list, merger, iterables) {\n    var iters = [];\n    var maxSize = 0;\n    for (var ii = 0; ii < iterables.length; ii++) {\n      var value = iterables[ii];\n      var iter = IndexedIterable(value);\n      if (iter.size > maxSize) {\n        maxSize = iter.size;\n      }\n      if (!isIterable(value)) {\n        iter = iter.map(function(v ) {return fromJS(v)});\n      }\n      iters.push(iter);\n    }\n    if (maxSize > list.size) {\n      list = list.setSize(maxSize);\n    }\n    return mergeIntoCollectionWith(list, merger, iters);\n  }\n\n  function getTailOffset(size) {\n    return size < SIZE ? 0 : (((size - 1) >>> SHIFT) << SHIFT);\n  }\n\n  createClass(OrderedMap, Map);\n\n    // @pragma Construction\n\n    function OrderedMap(value) {\n      return value === null || value === undefined ? emptyOrderedMap() :\n        isOrderedMap(value) ? value :\n        emptyOrderedMap().withMutations(function(map ) {\n          var iter = KeyedIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v, k)  {return map.set(k, v)});\n        });\n    }\n\n    OrderedMap.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedMap.prototype.toString = function() {\n      return this.__toString('OrderedMap {', '}');\n    };\n\n    // @pragma Access\n\n    OrderedMap.prototype.get = function(k, notSetValue) {\n      var index = this._map.get(k);\n      return index !== undefined ? this._list.get(index)[1] : notSetValue;\n    };\n\n    // @pragma Modification\n\n    OrderedMap.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._map.clear();\n        this._list.clear();\n        return this;\n      }\n      return emptyOrderedMap();\n    };\n\n    OrderedMap.prototype.set = function(k, v) {\n      return updateOrderedMap(this, k, v);\n    };\n\n    OrderedMap.prototype.remove = function(k) {\n      return updateOrderedMap(this, k, NOT_SET);\n    };\n\n    OrderedMap.prototype.wasAltered = function() {\n      return this._map.wasAltered() || this._list.wasAltered();\n    };\n\n    OrderedMap.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._list.__iterate(\n        function(entry ) {return entry && fn(entry[1], entry[0], this$0)},\n        reverse\n      );\n    };\n\n    OrderedMap.prototype.__iterator = function(type, reverse) {\n      return this._list.fromEntrySeq().__iterator(type, reverse);\n    };\n\n    OrderedMap.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      var newList = this._list.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        this._list = newList;\n        return this;\n      }\n      return makeOrderedMap(newMap, newList, ownerID, this.__hash);\n    };\n\n\n  function isOrderedMap(maybeOrderedMap) {\n    return isMap(maybeOrderedMap) && isOrdered(maybeOrderedMap);\n  }\n\n  OrderedMap.isOrderedMap = isOrderedMap;\n\n  OrderedMap.prototype[IS_ORDERED_SENTINEL] = true;\n  OrderedMap.prototype[DELETE] = OrderedMap.prototype.remove;\n\n\n\n  function makeOrderedMap(map, list, ownerID, hash) {\n    var omap = Object.create(OrderedMap.prototype);\n    omap.size = map ? map.size : 0;\n    omap._map = map;\n    omap._list = list;\n    omap.__ownerID = ownerID;\n    omap.__hash = hash;\n    return omap;\n  }\n\n  var EMPTY_ORDERED_MAP;\n  function emptyOrderedMap() {\n    return EMPTY_ORDERED_MAP || (EMPTY_ORDERED_MAP = makeOrderedMap(emptyMap(), emptyList()));\n  }\n\n  function updateOrderedMap(omap, k, v) {\n    var map = omap._map;\n    var list = omap._list;\n    var i = map.get(k);\n    var has = i !== undefined;\n    var newMap;\n    var newList;\n    if (v === NOT_SET) { // removed\n      if (!has) {\n        return omap;\n      }\n      if (list.size >= SIZE && list.size >= map.size * 2) {\n        newList = list.filter(function(entry, idx)  {return entry !== undefined && i !== idx});\n        newMap = newList.toKeyedSeq().map(function(entry ) {return entry[0]}).flip().toMap();\n        if (omap.__ownerID) {\n          newMap.__ownerID = newList.__ownerID = omap.__ownerID;\n        }\n      } else {\n        newMap = map.remove(k);\n        newList = i === list.size - 1 ? list.pop() : list.set(i, undefined);\n      }\n    } else {\n      if (has) {\n        if (v === list.get(i)[1]) {\n          return omap;\n        }\n        newMap = map;\n        newList = list.set(i, [k, v]);\n      } else {\n        newMap = map.set(k, list.size);\n        newList = list.set(list.size, [k, v]);\n      }\n    }\n    if (omap.__ownerID) {\n      omap.size = newMap.size;\n      omap._map = newMap;\n      omap._list = newList;\n      omap.__hash = undefined;\n      return omap;\n    }\n    return makeOrderedMap(newMap, newList);\n  }\n\n  createClass(ToKeyedSequence, KeyedSeq);\n    function ToKeyedSequence(indexed, useKeys) {\n      this._iter = indexed;\n      this._useKeys = useKeys;\n      this.size = indexed.size;\n    }\n\n    ToKeyedSequence.prototype.get = function(key, notSetValue) {\n      return this._iter.get(key, notSetValue);\n    };\n\n    ToKeyedSequence.prototype.has = function(key) {\n      return this._iter.has(key);\n    };\n\n    ToKeyedSequence.prototype.valueSeq = function() {\n      return this._iter.valueSeq();\n    };\n\n    ToKeyedSequence.prototype.reverse = function() {var this$0 = this;\n      var reversedSequence = reverseFactory(this, true);\n      if (!this._useKeys) {\n        reversedSequence.valueSeq = function()  {return this$0._iter.toSeq().reverse()};\n      }\n      return reversedSequence;\n    };\n\n    ToKeyedSequence.prototype.map = function(mapper, context) {var this$0 = this;\n      var mappedSequence = mapFactory(this, mapper, context);\n      if (!this._useKeys) {\n        mappedSequence.valueSeq = function()  {return this$0._iter.toSeq().map(mapper, context)};\n      }\n      return mappedSequence;\n    };\n\n    ToKeyedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var ii;\n      return this._iter.__iterate(\n        this._useKeys ?\n          function(v, k)  {return fn(v, k, this$0)} :\n          ((ii = reverse ? resolveSize(this) : 0),\n            function(v ) {return fn(v, reverse ? --ii : ii++, this$0)}),\n        reverse\n      );\n    };\n\n    ToKeyedSequence.prototype.__iterator = function(type, reverse) {\n      if (this._useKeys) {\n        return this._iter.__iterator(type, reverse);\n      }\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var ii = reverse ? resolveSize(this) : 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, reverse ? --ii : ii++, step.value, step);\n      });\n    };\n\n  ToKeyedSequence.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n  createClass(ToIndexedSequence, IndexedSeq);\n    function ToIndexedSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToIndexedSequence.prototype.includes = function(value) {\n      return this._iter.includes(value);\n    };\n\n    ToIndexedSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      return this._iter.__iterate(function(v ) {return fn(v, iterations++, this$0)}, reverse);\n    };\n\n    ToIndexedSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, iterations++, step.value, step)\n      });\n    };\n\n\n\n  createClass(ToSetSequence, SetSeq);\n    function ToSetSequence(iter) {\n      this._iter = iter;\n      this.size = iter.size;\n    }\n\n    ToSetSequence.prototype.has = function(key) {\n      return this._iter.includes(key);\n    };\n\n    ToSetSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(v ) {return fn(v, v, this$0)}, reverse);\n    };\n\n    ToSetSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        return step.done ? step :\n          iteratorValue(type, step.value, step.value, step);\n      });\n    };\n\n\n\n  createClass(FromEntriesSequence, KeyedSeq);\n    function FromEntriesSequence(entries) {\n      this._iter = entries;\n      this.size = entries.size;\n    }\n\n    FromEntriesSequence.prototype.entrySeq = function() {\n      return this._iter.toSeq();\n    };\n\n    FromEntriesSequence.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._iter.__iterate(function(entry ) {\n        // Check if entry exists first so array access doesn't throw for holes\n        // in the parent iteration.\n        if (entry) {\n          validateEntry(entry);\n          var indexedIterable = isIterable(entry);\n          return fn(\n            indexedIterable ? entry.get(1) : entry[1],\n            indexedIterable ? entry.get(0) : entry[0],\n            this$0\n          );\n        }\n      }, reverse);\n    };\n\n    FromEntriesSequence.prototype.__iterator = function(type, reverse) {\n      var iterator = this._iter.__iterator(ITERATE_VALUES, reverse);\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          // Check if entry exists first so array access doesn't throw for holes\n          // in the parent iteration.\n          if (entry) {\n            validateEntry(entry);\n            var indexedIterable = isIterable(entry);\n            return iteratorValue(\n              type,\n              indexedIterable ? entry.get(0) : entry[0],\n              indexedIterable ? entry.get(1) : entry[1],\n              step\n            );\n          }\n        }\n      });\n    };\n\n\n  ToIndexedSequence.prototype.cacheResult =\n  ToKeyedSequence.prototype.cacheResult =\n  ToSetSequence.prototype.cacheResult =\n  FromEntriesSequence.prototype.cacheResult =\n    cacheResultThrough;\n\n\n  function flipFactory(iterable) {\n    var flipSequence = makeSequence(iterable);\n    flipSequence._iter = iterable;\n    flipSequence.size = iterable.size;\n    flipSequence.flip = function()  {return iterable};\n    flipSequence.reverse = function () {\n      var reversedSequence = iterable.reverse.apply(this); // super.reverse()\n      reversedSequence.flip = function()  {return iterable.reverse()};\n      return reversedSequence;\n    };\n    flipSequence.has = function(key ) {return iterable.includes(key)};\n    flipSequence.includes = function(key ) {return iterable.has(key)};\n    flipSequence.cacheResult = cacheResultThrough;\n    flipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(k, v, this$0) !== false}, reverse);\n    }\n    flipSequence.__iteratorUncached = function(type, reverse) {\n      if (type === ITERATE_ENTRIES) {\n        var iterator = iterable.__iterator(type, reverse);\n        return new Iterator(function()  {\n          var step = iterator.next();\n          if (!step.done) {\n            var k = step.value[0];\n            step.value[0] = step.value[1];\n            step.value[1] = k;\n          }\n          return step;\n        });\n      }\n      return iterable.__iterator(\n        type === ITERATE_VALUES ? ITERATE_KEYS : ITERATE_VALUES,\n        reverse\n      );\n    }\n    return flipSequence;\n  }\n\n\n  function mapFactory(iterable, mapper, context) {\n    var mappedSequence = makeSequence(iterable);\n    mappedSequence.size = iterable.size;\n    mappedSequence.has = function(key ) {return iterable.has(key)};\n    mappedSequence.get = function(key, notSetValue)  {\n      var v = iterable.get(key, NOT_SET);\n      return v === NOT_SET ?\n        notSetValue :\n        mapper.call(context, v, key, iterable);\n    };\n    mappedSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(\n        function(v, k, c)  {return fn(mapper.call(context, v, k, c), k, this$0) !== false},\n        reverse\n      );\n    }\n    mappedSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      return new Iterator(function()  {\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var key = entry[0];\n        return iteratorValue(\n          type,\n          key,\n          mapper.call(context, entry[1], key, iterable),\n          step\n        );\n      });\n    }\n    return mappedSequence;\n  }\n\n\n  function reverseFactory(iterable, useKeys) {\n    var reversedSequence = makeSequence(iterable);\n    reversedSequence._iter = iterable;\n    reversedSequence.size = iterable.size;\n    reversedSequence.reverse = function()  {return iterable};\n    if (iterable.flip) {\n      reversedSequence.flip = function () {\n        var flipSequence = flipFactory(iterable);\n        flipSequence.reverse = function()  {return iterable.flip()};\n        return flipSequence;\n      };\n    }\n    reversedSequence.get = function(key, notSetValue) \n      {return iterable.get(useKeys ? key : -1 - key, notSetValue)};\n    reversedSequence.has = function(key )\n      {return iterable.has(useKeys ? key : -1 - key)};\n    reversedSequence.includes = function(value ) {return iterable.includes(value)};\n    reversedSequence.cacheResult = cacheResultThrough;\n    reversedSequence.__iterate = function (fn, reverse) {var this$0 = this;\n      return iterable.__iterate(function(v, k)  {return fn(v, k, this$0)}, !reverse);\n    };\n    reversedSequence.__iterator =\n      function(type, reverse)  {return iterable.__iterator(type, !reverse)};\n    return reversedSequence;\n  }\n\n\n  function filterFactory(iterable, predicate, context, useKeys) {\n    var filterSequence = makeSequence(iterable);\n    if (useKeys) {\n      filterSequence.has = function(key ) {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && !!predicate.call(context, v, key, iterable);\n      };\n      filterSequence.get = function(key, notSetValue)  {\n        var v = iterable.get(key, NOT_SET);\n        return v !== NOT_SET && predicate.call(context, v, key, iterable) ?\n          v : notSetValue;\n      };\n    }\n    filterSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      }, reverse);\n      return iterations;\n    };\n    filterSequence.__iteratorUncached = function (type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (true) {\n          var step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n          var entry = step.value;\n          var key = entry[0];\n          var value = entry[1];\n          if (predicate.call(context, value, key, iterable)) {\n            return iteratorValue(type, useKeys ? key : iterations++, value, step);\n          }\n        }\n      });\n    }\n    return filterSequence;\n  }\n\n\n  function countByFactory(iterable, grouper, context) {\n    var groups = Map().asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        0,\n        function(a ) {return a + 1}\n      );\n    });\n    return groups.asImmutable();\n  }\n\n\n  function groupByFactory(iterable, grouper, context) {\n    var isKeyedIter = isKeyed(iterable);\n    var groups = (isOrdered(iterable) ? OrderedMap() : Map()).asMutable();\n    iterable.__iterate(function(v, k)  {\n      groups.update(\n        grouper.call(context, v, k, iterable),\n        function(a ) {return (a = a || [], a.push(isKeyedIter ? [k, v] : v), a)}\n      );\n    });\n    var coerce = iterableClass(iterable);\n    return groups.map(function(arr ) {return reify(iterable, coerce(arr))});\n  }\n\n\n  function sliceFactory(iterable, begin, end, useKeys) {\n    var originalSize = iterable.size;\n\n    // Sanitize begin & end using this shorthand for ToInt32(argument)\n    // http://www.ecma-international.org/ecma-262/6.0/#sec-toint32\n    if (begin !== undefined) {\n      begin = begin | 0;\n    }\n    if (end !== undefined) {\n      if (end === Infinity) {\n        end = originalSize;\n      } else {\n        end = end | 0;\n      }\n    }\n\n    if (wholeSlice(begin, end, originalSize)) {\n      return iterable;\n    }\n\n    var resolvedBegin = resolveBegin(begin, originalSize);\n    var resolvedEnd = resolveEnd(end, originalSize);\n\n    // begin or end will be NaN if they were provided as negative numbers and\n    // this iterable's size is unknown. In that case, cache first so there is\n    // a known size and these do not resolve to NaN.\n    if (resolvedBegin !== resolvedBegin || resolvedEnd !== resolvedEnd) {\n      return sliceFactory(iterable.toSeq().cacheResult(), begin, end, useKeys);\n    }\n\n    // Note: resolvedEnd is undefined when the original sequence's length is\n    // unknown and this slice did not supply an end and should contain all\n    // elements after resolvedBegin.\n    // In that case, resolvedSize will be NaN and sliceSize will remain undefined.\n    var resolvedSize = resolvedEnd - resolvedBegin;\n    var sliceSize;\n    if (resolvedSize === resolvedSize) {\n      sliceSize = resolvedSize < 0 ? 0 : resolvedSize;\n    }\n\n    var sliceSeq = makeSequence(iterable);\n\n    // If iterable.size is undefined, the size of the realized sliceSeq is\n    // unknown at this point unless the number of items to slice is 0\n    sliceSeq.size = sliceSize === 0 ? sliceSize : iterable.size && sliceSize || undefined;\n\n    if (!useKeys && isSeq(iterable) && sliceSize >= 0) {\n      sliceSeq.get = function (index, notSetValue) {\n        index = wrapIndex(this, index);\n        return index >= 0 && index < sliceSize ?\n          iterable.get(index + resolvedBegin, notSetValue) :\n          notSetValue;\n      }\n    }\n\n    sliceSeq.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (sliceSize === 0) {\n        return 0;\n      }\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var skipped = 0;\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k)  {\n        if (!(isSkipping && (isSkipping = skipped++ < resolvedBegin))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0) !== false &&\n                 iterations !== sliceSize;\n        }\n      });\n      return iterations;\n    };\n\n    sliceSeq.__iteratorUncached = function(type, reverse) {\n      if (sliceSize !== 0 && reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      // Don't bother instantiating parent iterator if taking 0.\n      var iterator = sliceSize !== 0 && iterable.__iterator(type, reverse);\n      var skipped = 0;\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (skipped++ < resolvedBegin) {\n          iterator.next();\n        }\n        if (++iterations > sliceSize) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (useKeys || type === ITERATE_VALUES) {\n          return step;\n        } else if (type === ITERATE_KEYS) {\n          return iteratorValue(type, iterations - 1, undefined, step);\n        } else {\n          return iteratorValue(type, iterations - 1, step.value[1], step);\n        }\n      });\n    }\n\n    return sliceSeq;\n  }\n\n\n  function takeWhileFactory(iterable, predicate, context) {\n    var takeSequence = makeSequence(iterable);\n    takeSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c) \n        {return predicate.call(context, v, k, c) && ++iterations && fn(v, k, this$0)}\n      );\n      return iterations;\n    };\n    takeSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var iterating = true;\n      return new Iterator(function()  {\n        if (!iterating) {\n          return iteratorDone();\n        }\n        var step = iterator.next();\n        if (step.done) {\n          return step;\n        }\n        var entry = step.value;\n        var k = entry[0];\n        var v = entry[1];\n        if (!predicate.call(context, v, k, this$0)) {\n          iterating = false;\n          return iteratorDone();\n        }\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return takeSequence;\n  }\n\n\n  function skipWhileFactory(iterable, predicate, context, useKeys) {\n    var skipSequence = makeSequence(iterable);\n    skipSequence.__iterateUncached = function (fn, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterate(fn, reverse);\n      }\n      var isSkipping = true;\n      var iterations = 0;\n      iterable.__iterate(function(v, k, c)  {\n        if (!(isSkipping && (isSkipping = predicate.call(context, v, k, c)))) {\n          iterations++;\n          return fn(v, useKeys ? k : iterations - 1, this$0);\n        }\n      });\n      return iterations;\n    };\n    skipSequence.__iteratorUncached = function(type, reverse) {var this$0 = this;\n      if (reverse) {\n        return this.cacheResult().__iterator(type, reverse);\n      }\n      var iterator = iterable.__iterator(ITERATE_ENTRIES, reverse);\n      var skipping = true;\n      var iterations = 0;\n      return new Iterator(function()  {\n        var step, k, v;\n        do {\n          step = iterator.next();\n          if (step.done) {\n            if (useKeys || type === ITERATE_VALUES) {\n              return step;\n            } else if (type === ITERATE_KEYS) {\n              return iteratorValue(type, iterations++, undefined, step);\n            } else {\n              return iteratorValue(type, iterations++, step.value[1], step);\n            }\n          }\n          var entry = step.value;\n          k = entry[0];\n          v = entry[1];\n          skipping && (skipping = predicate.call(context, v, k, this$0));\n        } while (skipping);\n        return type === ITERATE_ENTRIES ? step :\n          iteratorValue(type, k, v, step);\n      });\n    };\n    return skipSequence;\n  }\n\n\n  function concatFactory(iterable, values) {\n    var isKeyedIterable = isKeyed(iterable);\n    var iters = [iterable].concat(values).map(function(v ) {\n      if (!isIterable(v)) {\n        v = isKeyedIterable ?\n          keyedSeqFromValue(v) :\n          indexedSeqFromValue(Array.isArray(v) ? v : [v]);\n      } else if (isKeyedIterable) {\n        v = KeyedIterable(v);\n      }\n      return v;\n    }).filter(function(v ) {return v.size !== 0});\n\n    if (iters.length === 0) {\n      return iterable;\n    }\n\n    if (iters.length === 1) {\n      var singleton = iters[0];\n      if (singleton === iterable ||\n          isKeyedIterable && isKeyed(singleton) ||\n          isIndexed(iterable) && isIndexed(singleton)) {\n        return singleton;\n      }\n    }\n\n    var concatSeq = new ArraySeq(iters);\n    if (isKeyedIterable) {\n      concatSeq = concatSeq.toKeyedSeq();\n    } else if (!isIndexed(iterable)) {\n      concatSeq = concatSeq.toSetSeq();\n    }\n    concatSeq = concatSeq.flatten(true);\n    concatSeq.size = iters.reduce(\n      function(sum, seq)  {\n        if (sum !== undefined) {\n          var size = seq.size;\n          if (size !== undefined) {\n            return sum + size;\n          }\n        }\n      },\n      0\n    );\n    return concatSeq;\n  }\n\n\n  function flattenFactory(iterable, depth, useKeys) {\n    var flatSequence = makeSequence(iterable);\n    flatSequence.__iterateUncached = function(fn, reverse) {\n      var iterations = 0;\n      var stopped = false;\n      function flatDeep(iter, currentDepth) {var this$0 = this;\n        iter.__iterate(function(v, k)  {\n          if ((!depth || currentDepth < depth) && isIterable(v)) {\n            flatDeep(v, currentDepth + 1);\n          } else if (fn(v, useKeys ? k : iterations++, this$0) === false) {\n            stopped = true;\n          }\n          return !stopped;\n        }, reverse);\n      }\n      flatDeep(iterable, 0);\n      return iterations;\n    }\n    flatSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(type, reverse);\n      var stack = [];\n      var iterations = 0;\n      return new Iterator(function()  {\n        while (iterator) {\n          var step = iterator.next();\n          if (step.done !== false) {\n            iterator = stack.pop();\n            continue;\n          }\n          var v = step.value;\n          if (type === ITERATE_ENTRIES) {\n            v = v[1];\n          }\n          if ((!depth || stack.length < depth) && isIterable(v)) {\n            stack.push(iterator);\n            iterator = v.__iterator(type, reverse);\n          } else {\n            return useKeys ? step : iteratorValue(type, iterations++, v, step);\n          }\n        }\n        return iteratorDone();\n      });\n    }\n    return flatSequence;\n  }\n\n\n  function flatMapFactory(iterable, mapper, context) {\n    var coerce = iterableClass(iterable);\n    return iterable.toSeq().map(\n      function(v, k)  {return coerce(mapper.call(context, v, k, iterable))}\n    ).flatten(true);\n  }\n\n\n  function interposeFactory(iterable, separator) {\n    var interposedSequence = makeSequence(iterable);\n    interposedSequence.size = iterable.size && iterable.size * 2 -1;\n    interposedSequence.__iterateUncached = function(fn, reverse) {var this$0 = this;\n      var iterations = 0;\n      iterable.__iterate(function(v, k) \n        {return (!iterations || fn(separator, iterations++, this$0) !== false) &&\n        fn(v, iterations++, this$0) !== false},\n        reverse\n      );\n      return iterations;\n    };\n    interposedSequence.__iteratorUncached = function(type, reverse) {\n      var iterator = iterable.__iterator(ITERATE_VALUES, reverse);\n      var iterations = 0;\n      var step;\n      return new Iterator(function()  {\n        if (!step || iterations % 2) {\n          step = iterator.next();\n          if (step.done) {\n            return step;\n          }\n        }\n        return iterations % 2 ?\n          iteratorValue(type, iterations++, separator) :\n          iteratorValue(type, iterations++, step.value, step);\n      });\n    };\n    return interposedSequence;\n  }\n\n\n  function sortFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    var isKeyedIterable = isKeyed(iterable);\n    var index = 0;\n    var entries = iterable.toSeq().map(\n      function(v, k)  {return [k, v, index++, mapper ? mapper(v, k, iterable) : v]}\n    ).toArray();\n    entries.sort(function(a, b)  {return comparator(a[3], b[3]) || a[2] - b[2]}).forEach(\n      isKeyedIterable ?\n      function(v, i)  { entries[i].length = 2; } :\n      function(v, i)  { entries[i] = v[1]; }\n    );\n    return isKeyedIterable ? KeyedSeq(entries) :\n      isIndexed(iterable) ? IndexedSeq(entries) :\n      SetSeq(entries);\n  }\n\n\n  function maxFactory(iterable, comparator, mapper) {\n    if (!comparator) {\n      comparator = defaultComparator;\n    }\n    if (mapper) {\n      var entry = iterable.toSeq()\n        .map(function(v, k)  {return [v, mapper(v, k, iterable)]})\n        .reduce(function(a, b)  {return maxCompare(comparator, a[1], b[1]) ? b : a});\n      return entry && entry[0];\n    } else {\n      return iterable.reduce(function(a, b)  {return maxCompare(comparator, a, b) ? b : a});\n    }\n  }\n\n  function maxCompare(comparator, a, b) {\n    var comp = comparator(b, a);\n    // b is considered the new max if the comparator declares them equal, but\n    // they are not equal and b is in fact a nullish value.\n    return (comp === 0 && b !== a && (b === undefined || b === null || b !== b)) || comp > 0;\n  }\n\n\n  function zipWithFactory(keyIter, zipper, iters) {\n    var zipSequence = makeSequence(keyIter);\n    zipSequence.size = new ArraySeq(iters).map(function(i ) {return i.size}).min();\n    // Note: this a generic base implementation of __iterate in terms of\n    // __iterator which may be more generically useful in the future.\n    zipSequence.__iterate = function(fn, reverse) {\n      /* generic:\n      var iterator = this.__iterator(ITERATE_ENTRIES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        iterations++;\n        if (fn(step.value[1], step.value[0], this) === false) {\n          break;\n        }\n      }\n      return iterations;\n      */\n      // indexed:\n      var iterator = this.__iterator(ITERATE_VALUES, reverse);\n      var step;\n      var iterations = 0;\n      while (!(step = iterator.next()).done) {\n        if (fn(step.value, iterations++, this) === false) {\n          break;\n        }\n      }\n      return iterations;\n    };\n    zipSequence.__iteratorUncached = function(type, reverse) {\n      var iterators = iters.map(function(i )\n        {return (i = Iterable(i), getIterator(reverse ? i.reverse() : i))}\n      );\n      var iterations = 0;\n      var isDone = false;\n      return new Iterator(function()  {\n        var steps;\n        if (!isDone) {\n          steps = iterators.map(function(i ) {return i.next()});\n          isDone = steps.some(function(s ) {return s.done});\n        }\n        if (isDone) {\n          return iteratorDone();\n        }\n        return iteratorValue(\n          type,\n          iterations++,\n          zipper.apply(null, steps.map(function(s ) {return s.value}))\n        );\n      });\n    };\n    return zipSequence\n  }\n\n\n  // #pragma Helper Functions\n\n  function reify(iter, seq) {\n    return isSeq(iter) ? seq : iter.constructor(seq);\n  }\n\n  function validateEntry(entry) {\n    if (entry !== Object(entry)) {\n      throw new TypeError('Expected [K, V] tuple: ' + entry);\n    }\n  }\n\n  function resolveSize(iter) {\n    assertNotInfinite(iter.size);\n    return ensureSize(iter);\n  }\n\n  function iterableClass(iterable) {\n    return isKeyed(iterable) ? KeyedIterable :\n      isIndexed(iterable) ? IndexedIterable :\n      SetIterable;\n  }\n\n  function makeSequence(iterable) {\n    return Object.create(\n      (\n        isKeyed(iterable) ? KeyedSeq :\n        isIndexed(iterable) ? IndexedSeq :\n        SetSeq\n      ).prototype\n    );\n  }\n\n  function cacheResultThrough() {\n    if (this._iter.cacheResult) {\n      this._iter.cacheResult();\n      this.size = this._iter.size;\n      return this;\n    } else {\n      return Seq.prototype.cacheResult.call(this);\n    }\n  }\n\n  function defaultComparator(a, b) {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  function forceIterator(keyPath) {\n    var iter = getIterator(keyPath);\n    if (!iter) {\n      // Array might not be iterable in this environment, so we need a fallback\n      // to our wrapped type.\n      if (!isArrayLike(keyPath)) {\n        throw new TypeError('Expected iterable or array-like: ' + keyPath);\n      }\n      iter = getIterator(Iterable(keyPath));\n    }\n    return iter;\n  }\n\n  createClass(Record, KeyedCollection);\n\n    function Record(defaultValues, name) {\n      var hasInitialized;\n\n      var RecordType = function Record(values) {\n        if (values instanceof RecordType) {\n          return values;\n        }\n        if (!(this instanceof RecordType)) {\n          return new RecordType(values);\n        }\n        if (!hasInitialized) {\n          hasInitialized = true;\n          var keys = Object.keys(defaultValues);\n          setProps(RecordTypePrototype, keys);\n          RecordTypePrototype.size = keys.length;\n          RecordTypePrototype._name = name;\n          RecordTypePrototype._keys = keys;\n          RecordTypePrototype._defaultValues = defaultValues;\n        }\n        this._map = Map(values);\n      };\n\n      var RecordTypePrototype = RecordType.prototype = Object.create(RecordPrototype);\n      RecordTypePrototype.constructor = RecordType;\n\n      return RecordType;\n    }\n\n    Record.prototype.toString = function() {\n      return this.__toString(recordName(this) + ' {', '}');\n    };\n\n    // @pragma Access\n\n    Record.prototype.has = function(k) {\n      return this._defaultValues.hasOwnProperty(k);\n    };\n\n    Record.prototype.get = function(k, notSetValue) {\n      if (!this.has(k)) {\n        return notSetValue;\n      }\n      var defaultVal = this._defaultValues[k];\n      return this._map ? this._map.get(k, defaultVal) : defaultVal;\n    };\n\n    // @pragma Modification\n\n    Record.prototype.clear = function() {\n      if (this.__ownerID) {\n        this._map && this._map.clear();\n        return this;\n      }\n      var RecordType = this.constructor;\n      return RecordType._empty || (RecordType._empty = makeRecord(this, emptyMap()));\n    };\n\n    Record.prototype.set = function(k, v) {\n      if (!this.has(k)) {\n        throw new Error('Cannot set unknown key \"' + k + '\" on ' + recordName(this));\n      }\n      if (this._map && !this._map.has(k)) {\n        var defaultVal = this._defaultValues[k];\n        if (v === defaultVal) {\n          return this;\n        }\n      }\n      var newMap = this._map && this._map.set(k, v);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.remove = function(k) {\n      if (!this.has(k)) {\n        return this;\n      }\n      var newMap = this._map && this._map.remove(k);\n      if (this.__ownerID || newMap === this._map) {\n        return this;\n      }\n      return makeRecord(this, newMap);\n    };\n\n    Record.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Record.prototype.__iterator = function(type, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterator(type, reverse);\n    };\n\n    Record.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return KeyedIterable(this._defaultValues).map(function(_, k)  {return this$0.get(k)}).__iterate(fn, reverse);\n    };\n\n    Record.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map && this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return makeRecord(this, newMap, ownerID);\n    };\n\n\n  var RecordPrototype = Record.prototype;\n  RecordPrototype[DELETE] = RecordPrototype.remove;\n  RecordPrototype.deleteIn =\n  RecordPrototype.removeIn = MapPrototype.removeIn;\n  RecordPrototype.merge = MapPrototype.merge;\n  RecordPrototype.mergeWith = MapPrototype.mergeWith;\n  RecordPrototype.mergeIn = MapPrototype.mergeIn;\n  RecordPrototype.mergeDeep = MapPrototype.mergeDeep;\n  RecordPrototype.mergeDeepWith = MapPrototype.mergeDeepWith;\n  RecordPrototype.mergeDeepIn = MapPrototype.mergeDeepIn;\n  RecordPrototype.setIn = MapPrototype.setIn;\n  RecordPrototype.update = MapPrototype.update;\n  RecordPrototype.updateIn = MapPrototype.updateIn;\n  RecordPrototype.withMutations = MapPrototype.withMutations;\n  RecordPrototype.asMutable = MapPrototype.asMutable;\n  RecordPrototype.asImmutable = MapPrototype.asImmutable;\n\n\n  function makeRecord(likeRecord, map, ownerID) {\n    var record = Object.create(Object.getPrototypeOf(likeRecord));\n    record._map = map;\n    record.__ownerID = ownerID;\n    return record;\n  }\n\n  function recordName(record) {\n    return record._name || record.constructor.name || 'Record';\n  }\n\n  function setProps(prototype, names) {\n    try {\n      names.forEach(setProp.bind(undefined, prototype));\n    } catch (error) {\n      // Object.defineProperty failed. Probably IE8.\n    }\n  }\n\n  function setProp(prototype, name) {\n    Object.defineProperty(prototype, name, {\n      get: function() {\n        return this.get(name);\n      },\n      set: function(value) {\n        invariant(this.__ownerID, 'Cannot set on an immutable record.');\n        this.set(name, value);\n      }\n    });\n  }\n\n  createClass(Set, SetCollection);\n\n    // @pragma Construction\n\n    function Set(value) {\n      return value === null || value === undefined ? emptySet() :\n        isSet(value) && !isOrdered(value) ? value :\n        emptySet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    Set.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Set.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    Set.prototype.toString = function() {\n      return this.__toString('Set {', '}');\n    };\n\n    // @pragma Access\n\n    Set.prototype.has = function(value) {\n      return this._map.has(value);\n    };\n\n    // @pragma Modification\n\n    Set.prototype.add = function(value) {\n      return updateSet(this, this._map.set(value, true));\n    };\n\n    Set.prototype.remove = function(value) {\n      return updateSet(this, this._map.remove(value));\n    };\n\n    Set.prototype.clear = function() {\n      return updateSet(this, this._map.clear());\n    };\n\n    // @pragma Composition\n\n    Set.prototype.union = function() {var iters = SLICE$0.call(arguments, 0);\n      iters = iters.filter(function(x ) {return x.size !== 0});\n      if (iters.length === 0) {\n        return this;\n      }\n      if (this.size === 0 && !this.__ownerID && iters.length === 1) {\n        return this.constructor(iters[0]);\n      }\n      return this.withMutations(function(set ) {\n        for (var ii = 0; ii < iters.length; ii++) {\n          SetIterable(iters[ii]).forEach(function(value ) {return set.add(value)});\n        }\n      });\n    };\n\n    Set.prototype.intersect = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (!iters.every(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.subtract = function() {var iters = SLICE$0.call(arguments, 0);\n      if (iters.length === 0) {\n        return this;\n      }\n      iters = iters.map(function(iter ) {return SetIterable(iter)});\n      var originalSet = this;\n      return this.withMutations(function(set ) {\n        originalSet.forEach(function(value ) {\n          if (iters.some(function(iter ) {return iter.includes(value)})) {\n            set.remove(value);\n          }\n        });\n      });\n    };\n\n    Set.prototype.merge = function() {\n      return this.union.apply(this, arguments);\n    };\n\n    Set.prototype.mergeWith = function(merger) {var iters = SLICE$0.call(arguments, 1);\n      return this.union.apply(this, iters);\n    };\n\n    Set.prototype.sort = function(comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator));\n    };\n\n    Set.prototype.sortBy = function(mapper, comparator) {\n      // Late binding\n      return OrderedSet(sortFactory(this, comparator, mapper));\n    };\n\n    Set.prototype.wasAltered = function() {\n      return this._map.wasAltered();\n    };\n\n    Set.prototype.__iterate = function(fn, reverse) {var this$0 = this;\n      return this._map.__iterate(function(_, k)  {return fn(k, k, this$0)}, reverse);\n    };\n\n    Set.prototype.__iterator = function(type, reverse) {\n      return this._map.map(function(_, k)  {return k}).__iterator(type, reverse);\n    };\n\n    Set.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      var newMap = this._map.__ensureOwner(ownerID);\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this._map = newMap;\n        return this;\n      }\n      return this.__make(newMap, ownerID);\n    };\n\n\n  function isSet(maybeSet) {\n    return !!(maybeSet && maybeSet[IS_SET_SENTINEL]);\n  }\n\n  Set.isSet = isSet;\n\n  var IS_SET_SENTINEL = '@@__IMMUTABLE_SET__@@';\n\n  var SetPrototype = Set.prototype;\n  SetPrototype[IS_SET_SENTINEL] = true;\n  SetPrototype[DELETE] = SetPrototype.remove;\n  SetPrototype.mergeDeep = SetPrototype.merge;\n  SetPrototype.mergeDeepWith = SetPrototype.mergeWith;\n  SetPrototype.withMutations = MapPrototype.withMutations;\n  SetPrototype.asMutable = MapPrototype.asMutable;\n  SetPrototype.asImmutable = MapPrototype.asImmutable;\n\n  SetPrototype.__empty = emptySet;\n  SetPrototype.__make = makeSet;\n\n  function updateSet(set, newMap) {\n    if (set.__ownerID) {\n      set.size = newMap.size;\n      set._map = newMap;\n      return set;\n    }\n    return newMap === set._map ? set :\n      newMap.size === 0 ? set.__empty() :\n      set.__make(newMap);\n  }\n\n  function makeSet(map, ownerID) {\n    var set = Object.create(SetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_SET;\n  function emptySet() {\n    return EMPTY_SET || (EMPTY_SET = makeSet(emptyMap()));\n  }\n\n  createClass(OrderedSet, Set);\n\n    // @pragma Construction\n\n    function OrderedSet(value) {\n      return value === null || value === undefined ? emptyOrderedSet() :\n        isOrderedSet(value) ? value :\n        emptyOrderedSet().withMutations(function(set ) {\n          var iter = SetIterable(value);\n          assertNotInfinite(iter.size);\n          iter.forEach(function(v ) {return set.add(v)});\n        });\n    }\n\n    OrderedSet.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    OrderedSet.fromKeys = function(value) {\n      return this(KeyedIterable(value).keySeq());\n    };\n\n    OrderedSet.prototype.toString = function() {\n      return this.__toString('OrderedSet {', '}');\n    };\n\n\n  function isOrderedSet(maybeOrderedSet) {\n    return isSet(maybeOrderedSet) && isOrdered(maybeOrderedSet);\n  }\n\n  OrderedSet.isOrderedSet = isOrderedSet;\n\n  var OrderedSetPrototype = OrderedSet.prototype;\n  OrderedSetPrototype[IS_ORDERED_SENTINEL] = true;\n\n  OrderedSetPrototype.__empty = emptyOrderedSet;\n  OrderedSetPrototype.__make = makeOrderedSet;\n\n  function makeOrderedSet(map, ownerID) {\n    var set = Object.create(OrderedSetPrototype);\n    set.size = map ? map.size : 0;\n    set._map = map;\n    set.__ownerID = ownerID;\n    return set;\n  }\n\n  var EMPTY_ORDERED_SET;\n  function emptyOrderedSet() {\n    return EMPTY_ORDERED_SET || (EMPTY_ORDERED_SET = makeOrderedSet(emptyOrderedMap()));\n  }\n\n  createClass(Stack, IndexedCollection);\n\n    // @pragma Construction\n\n    function Stack(value) {\n      return value === null || value === undefined ? emptyStack() :\n        isStack(value) ? value :\n        emptyStack().unshiftAll(value);\n    }\n\n    Stack.of = function(/*...values*/) {\n      return this(arguments);\n    };\n\n    Stack.prototype.toString = function() {\n      return this.__toString('Stack [', ']');\n    };\n\n    // @pragma Access\n\n    Stack.prototype.get = function(index, notSetValue) {\n      var head = this._head;\n      index = wrapIndex(this, index);\n      while (head && index--) {\n        head = head.next;\n      }\n      return head ? head.value : notSetValue;\n    };\n\n    Stack.prototype.peek = function() {\n      return this._head && this._head.value;\n    };\n\n    // @pragma Modification\n\n    Stack.prototype.push = function(/*...values*/) {\n      if (arguments.length === 0) {\n        return this;\n      }\n      var newSize = this.size + arguments.length;\n      var head = this._head;\n      for (var ii = arguments.length - 1; ii >= 0; ii--) {\n        head = {\n          value: arguments[ii],\n          next: head\n        };\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pushAll = function(iter) {\n      iter = IndexedIterable(iter);\n      if (iter.size === 0) {\n        return this;\n      }\n      assertNotInfinite(iter.size);\n      var newSize = this.size;\n      var head = this._head;\n      iter.reverse().forEach(function(value ) {\n        newSize++;\n        head = {\n          value: value,\n          next: head\n        };\n      });\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    Stack.prototype.pop = function() {\n      return this.slice(1);\n    };\n\n    Stack.prototype.unshift = function(/*...values*/) {\n      return this.push.apply(this, arguments);\n    };\n\n    Stack.prototype.unshiftAll = function(iter) {\n      return this.pushAll(iter);\n    };\n\n    Stack.prototype.shift = function() {\n      return this.pop.apply(this, arguments);\n    };\n\n    Stack.prototype.clear = function() {\n      if (this.size === 0) {\n        return this;\n      }\n      if (this.__ownerID) {\n        this.size = 0;\n        this._head = undefined;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return emptyStack();\n    };\n\n    Stack.prototype.slice = function(begin, end) {\n      if (wholeSlice(begin, end, this.size)) {\n        return this;\n      }\n      var resolvedBegin = resolveBegin(begin, this.size);\n      var resolvedEnd = resolveEnd(end, this.size);\n      if (resolvedEnd !== this.size) {\n        // super.slice(begin, end);\n        return IndexedCollection.prototype.slice.call(this, begin, end);\n      }\n      var newSize = this.size - resolvedBegin;\n      var head = this._head;\n      while (resolvedBegin--) {\n        head = head.next;\n      }\n      if (this.__ownerID) {\n        this.size = newSize;\n        this._head = head;\n        this.__hash = undefined;\n        this.__altered = true;\n        return this;\n      }\n      return makeStack(newSize, head);\n    };\n\n    // @pragma Mutability\n\n    Stack.prototype.__ensureOwner = function(ownerID) {\n      if (ownerID === this.__ownerID) {\n        return this;\n      }\n      if (!ownerID) {\n        this.__ownerID = ownerID;\n        this.__altered = false;\n        return this;\n      }\n      return makeStack(this.size, this._head, ownerID, this.__hash);\n    };\n\n    // @pragma Iteration\n\n    Stack.prototype.__iterate = function(fn, reverse) {\n      if (reverse) {\n        return this.reverse().__iterate(fn);\n      }\n      var iterations = 0;\n      var node = this._head;\n      while (node) {\n        if (fn(node.value, iterations++, this) === false) {\n          break;\n        }\n        node = node.next;\n      }\n      return iterations;\n    };\n\n    Stack.prototype.__iterator = function(type, reverse) {\n      if (reverse) {\n        return this.reverse().__iterator(type);\n      }\n      var iterations = 0;\n      var node = this._head;\n      return new Iterator(function()  {\n        if (node) {\n          var value = node.value;\n          node = node.next;\n          return iteratorValue(type, iterations++, value);\n        }\n        return iteratorDone();\n      });\n    };\n\n\n  function isStack(maybeStack) {\n    return !!(maybeStack && maybeStack[IS_STACK_SENTINEL]);\n  }\n\n  Stack.isStack = isStack;\n\n  var IS_STACK_SENTINEL = '@@__IMMUTABLE_STACK__@@';\n\n  var StackPrototype = Stack.prototype;\n  StackPrototype[IS_STACK_SENTINEL] = true;\n  StackPrototype.withMutations = MapPrototype.withMutations;\n  StackPrototype.asMutable = MapPrototype.asMutable;\n  StackPrototype.asImmutable = MapPrototype.asImmutable;\n  StackPrototype.wasAltered = MapPrototype.wasAltered;\n\n\n  function makeStack(size, head, ownerID, hash) {\n    var map = Object.create(StackPrototype);\n    map.size = size;\n    map._head = head;\n    map.__ownerID = ownerID;\n    map.__hash = hash;\n    map.__altered = false;\n    return map;\n  }\n\n  var EMPTY_STACK;\n  function emptyStack() {\n    return EMPTY_STACK || (EMPTY_STACK = makeStack(0));\n  }\n\n  /**\n   * Contributes additional methods to a constructor\n   */\n  function mixin(ctor, methods) {\n    var keyCopier = function(key ) { ctor.prototype[key] = methods[key]; };\n    Object.keys(methods).forEach(keyCopier);\n    Object.getOwnPropertySymbols &&\n      Object.getOwnPropertySymbols(methods).forEach(keyCopier);\n    return ctor;\n  }\n\n  Iterable.Iterator = Iterator;\n\n  mixin(Iterable, {\n\n    // ### Conversion to other types\n\n    toArray: function() {\n      assertNotInfinite(this.size);\n      var array = new Array(this.size || 0);\n      this.valueSeq().__iterate(function(v, i)  { array[i] = v; });\n      return array;\n    },\n\n    toIndexedSeq: function() {\n      return new ToIndexedSequence(this);\n    },\n\n    toJS: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJS === 'function' ? value.toJS() : value}\n      ).__toJS();\n    },\n\n    toJSON: function() {\n      return this.toSeq().map(\n        function(value ) {return value && typeof value.toJSON === 'function' ? value.toJSON() : value}\n      ).__toJS();\n    },\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, true);\n    },\n\n    toMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Map(this.toKeyedSeq());\n    },\n\n    toObject: function() {\n      assertNotInfinite(this.size);\n      var object = {};\n      this.__iterate(function(v, k)  { object[k] = v; });\n      return object;\n    },\n\n    toOrderedMap: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedMap(this.toKeyedSeq());\n    },\n\n    toOrderedSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return OrderedSet(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSet: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Set(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toSetSeq: function() {\n      return new ToSetSequence(this);\n    },\n\n    toSeq: function() {\n      return isIndexed(this) ? this.toIndexedSeq() :\n        isKeyed(this) ? this.toKeyedSeq() :\n        this.toSetSeq();\n    },\n\n    toStack: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return Stack(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n    toList: function() {\n      // Use Late Binding here to solve the circular dependency.\n      return List(isKeyed(this) ? this.valueSeq() : this);\n    },\n\n\n    // ### Common JavaScript methods and properties\n\n    toString: function() {\n      return '[Iterable]';\n    },\n\n    __toString: function(head, tail) {\n      if (this.size === 0) {\n        return head + tail;\n      }\n      return head + ' ' + this.toSeq().map(this.__toStringMapper).join(', ') + ' ' + tail;\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    concat: function() {var values = SLICE$0.call(arguments, 0);\n      return reify(this, concatFactory(this, values));\n    },\n\n    includes: function(searchValue) {\n      return this.some(function(value ) {return is(value, searchValue)});\n    },\n\n    entries: function() {\n      return this.__iterator(ITERATE_ENTRIES);\n    },\n\n    every: function(predicate, context) {\n      assertNotInfinite(this.size);\n      var returnValue = true;\n      this.__iterate(function(v, k, c)  {\n        if (!predicate.call(context, v, k, c)) {\n          returnValue = false;\n          return false;\n        }\n      });\n      return returnValue;\n    },\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, true));\n    },\n\n    find: function(predicate, context, notSetValue) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[1] : notSetValue;\n    },\n\n    forEach: function(sideEffect, context) {\n      assertNotInfinite(this.size);\n      return this.__iterate(context ? sideEffect.bind(context) : sideEffect);\n    },\n\n    join: function(separator) {\n      assertNotInfinite(this.size);\n      separator = separator !== undefined ? '' + separator : ',';\n      var joined = '';\n      var isFirst = true;\n      this.__iterate(function(v ) {\n        isFirst ? (isFirst = false) : (joined += separator);\n        joined += v !== null && v !== undefined ? v.toString() : '';\n      });\n      return joined;\n    },\n\n    keys: function() {\n      return this.__iterator(ITERATE_KEYS);\n    },\n\n    map: function(mapper, context) {\n      return reify(this, mapFactory(this, mapper, context));\n    },\n\n    reduce: function(reducer, initialReduction, context) {\n      assertNotInfinite(this.size);\n      var reduction;\n      var useFirst;\n      if (arguments.length < 2) {\n        useFirst = true;\n      } else {\n        reduction = initialReduction;\n      }\n      this.__iterate(function(v, k, c)  {\n        if (useFirst) {\n          useFirst = false;\n          reduction = v;\n        } else {\n          reduction = reducer.call(context, reduction, v, k, c);\n        }\n      });\n      return reduction;\n    },\n\n    reduceRight: function(reducer, initialReduction, context) {\n      var reversed = this.toKeyedSeq().reverse();\n      return reversed.reduce.apply(reversed, arguments);\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, true));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, true));\n    },\n\n    some: function(predicate, context) {\n      return !this.every(not(predicate), context);\n    },\n\n    sort: function(comparator) {\n      return reify(this, sortFactory(this, comparator));\n    },\n\n    values: function() {\n      return this.__iterator(ITERATE_VALUES);\n    },\n\n\n    // ### More sequential methods\n\n    butLast: function() {\n      return this.slice(0, -1);\n    },\n\n    isEmpty: function() {\n      return this.size !== undefined ? this.size === 0 : !this.some(function()  {return true});\n    },\n\n    count: function(predicate, context) {\n      return ensureSize(\n        predicate ? this.toSeq().filter(predicate, context) : this\n      );\n    },\n\n    countBy: function(grouper, context) {\n      return countByFactory(this, grouper, context);\n    },\n\n    equals: function(other) {\n      return deepEqual(this, other);\n    },\n\n    entrySeq: function() {\n      var iterable = this;\n      if (iterable._cache) {\n        // We cache as an entries array, so we can just return the cache!\n        return new ArraySeq(iterable._cache);\n      }\n      var entriesSequence = iterable.toSeq().map(entryMapper).toIndexedSeq();\n      entriesSequence.fromEntrySeq = function()  {return iterable.toSeq()};\n      return entriesSequence;\n    },\n\n    filterNot: function(predicate, context) {\n      return this.filter(not(predicate), context);\n    },\n\n    findEntry: function(predicate, context, notSetValue) {\n      var found = notSetValue;\n      this.__iterate(function(v, k, c)  {\n        if (predicate.call(context, v, k, c)) {\n          found = [k, v];\n          return false;\n        }\n      });\n      return found;\n    },\n\n    findKey: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry && entry[0];\n    },\n\n    findLast: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().find(predicate, context, notSetValue);\n    },\n\n    findLastEntry: function(predicate, context, notSetValue) {\n      return this.toKeyedSeq().reverse().findEntry(predicate, context, notSetValue);\n    },\n\n    findLastKey: function(predicate, context) {\n      return this.toKeyedSeq().reverse().findKey(predicate, context);\n    },\n\n    first: function() {\n      return this.find(returnTrue);\n    },\n\n    flatMap: function(mapper, context) {\n      return reify(this, flatMapFactory(this, mapper, context));\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, true));\n    },\n\n    fromEntrySeq: function() {\n      return new FromEntriesSequence(this);\n    },\n\n    get: function(searchKey, notSetValue) {\n      return this.find(function(_, key)  {return is(key, searchKey)}, undefined, notSetValue);\n    },\n\n    getIn: function(searchKeyPath, notSetValue) {\n      var nested = this;\n      // Note: in an ES6 environment, we would prefer:\n      // for (var key of searchKeyPath) {\n      var iter = forceIterator(searchKeyPath);\n      var step;\n      while (!(step = iter.next()).done) {\n        var key = step.value;\n        nested = nested && nested.get ? nested.get(key, NOT_SET) : NOT_SET;\n        if (nested === NOT_SET) {\n          return notSetValue;\n        }\n      }\n      return nested;\n    },\n\n    groupBy: function(grouper, context) {\n      return groupByFactory(this, grouper, context);\n    },\n\n    has: function(searchKey) {\n      return this.get(searchKey, NOT_SET) !== NOT_SET;\n    },\n\n    hasIn: function(searchKeyPath) {\n      return this.getIn(searchKeyPath, NOT_SET) !== NOT_SET;\n    },\n\n    isSubset: function(iter) {\n      iter = typeof iter.includes === 'function' ? iter : Iterable(iter);\n      return this.every(function(value ) {return iter.includes(value)});\n    },\n\n    isSuperset: function(iter) {\n      iter = typeof iter.isSubset === 'function' ? iter : Iterable(iter);\n      return iter.isSubset(this);\n    },\n\n    keyOf: function(searchValue) {\n      return this.findKey(function(value ) {return is(value, searchValue)});\n    },\n\n    keySeq: function() {\n      return this.toSeq().map(keyMapper).toIndexedSeq();\n    },\n\n    last: function() {\n      return this.toSeq().reverse().first();\n    },\n\n    lastKeyOf: function(searchValue) {\n      return this.toKeyedSeq().reverse().keyOf(searchValue);\n    },\n\n    max: function(comparator) {\n      return maxFactory(this, comparator);\n    },\n\n    maxBy: function(mapper, comparator) {\n      return maxFactory(this, comparator, mapper);\n    },\n\n    min: function(comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator);\n    },\n\n    minBy: function(mapper, comparator) {\n      return maxFactory(this, comparator ? neg(comparator) : defaultNegComparator, mapper);\n    },\n\n    rest: function() {\n      return this.slice(1);\n    },\n\n    skip: function(amount) {\n      return this.slice(Math.max(0, amount));\n    },\n\n    skipLast: function(amount) {\n      return reify(this, this.toSeq().reverse().skip(amount).reverse());\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, true));\n    },\n\n    skipUntil: function(predicate, context) {\n      return this.skipWhile(not(predicate), context);\n    },\n\n    sortBy: function(mapper, comparator) {\n      return reify(this, sortFactory(this, comparator, mapper));\n    },\n\n    take: function(amount) {\n      return this.slice(0, Math.max(0, amount));\n    },\n\n    takeLast: function(amount) {\n      return reify(this, this.toSeq().reverse().take(amount).reverse());\n    },\n\n    takeWhile: function(predicate, context) {\n      return reify(this, takeWhileFactory(this, predicate, context));\n    },\n\n    takeUntil: function(predicate, context) {\n      return this.takeWhile(not(predicate), context);\n    },\n\n    valueSeq: function() {\n      return this.toIndexedSeq();\n    },\n\n\n    // ### Hashable Object\n\n    hashCode: function() {\n      return this.__hash || (this.__hash = hashIterable(this));\n    }\n\n\n    // ### Internal\n\n    // abstract __iterate(fn, reverse)\n\n    // abstract __iterator(type, reverse)\n  });\n\n  // var IS_ITERABLE_SENTINEL = '@@__IMMUTABLE_ITERABLE__@@';\n  // var IS_KEYED_SENTINEL = '@@__IMMUTABLE_KEYED__@@';\n  // var IS_INDEXED_SENTINEL = '@@__IMMUTABLE_INDEXED__@@';\n  // var IS_ORDERED_SENTINEL = '@@__IMMUTABLE_ORDERED__@@';\n\n  var IterablePrototype = Iterable.prototype;\n  IterablePrototype[IS_ITERABLE_SENTINEL] = true;\n  IterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.values;\n  IterablePrototype.__toJS = IterablePrototype.toArray;\n  IterablePrototype.__toStringMapper = quoteString;\n  IterablePrototype.inspect =\n  IterablePrototype.toSource = function() { return this.toString(); };\n  IterablePrototype.chain = IterablePrototype.flatMap;\n  IterablePrototype.contains = IterablePrototype.includes;\n\n  mixin(KeyedIterable, {\n\n    // ### More sequential methods\n\n    flip: function() {\n      return reify(this, flipFactory(this));\n    },\n\n    mapEntries: function(mapper, context) {var this$0 = this;\n      var iterations = 0;\n      return reify(this,\n        this.toSeq().map(\n          function(v, k)  {return mapper.call(context, [k, v], iterations++, this$0)}\n        ).fromEntrySeq()\n      );\n    },\n\n    mapKeys: function(mapper, context) {var this$0 = this;\n      return reify(this,\n        this.toSeq().flip().map(\n          function(k, v)  {return mapper.call(context, k, v, this$0)}\n        ).flip()\n      );\n    }\n\n  });\n\n  var KeyedIterablePrototype = KeyedIterable.prototype;\n  KeyedIterablePrototype[IS_KEYED_SENTINEL] = true;\n  KeyedIterablePrototype[ITERATOR_SYMBOL] = IterablePrototype.entries;\n  KeyedIterablePrototype.__toJS = IterablePrototype.toObject;\n  KeyedIterablePrototype.__toStringMapper = function(v, k)  {return JSON.stringify(k) + ': ' + quoteString(v)};\n\n\n\n  mixin(IndexedIterable, {\n\n    // ### Conversion to other types\n\n    toKeyedSeq: function() {\n      return new ToKeyedSequence(this, false);\n    },\n\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    filter: function(predicate, context) {\n      return reify(this, filterFactory(this, predicate, context, false));\n    },\n\n    findIndex: function(predicate, context) {\n      var entry = this.findEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    indexOf: function(searchValue) {\n      var key = this.keyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    lastIndexOf: function(searchValue) {\n      var key = this.lastKeyOf(searchValue);\n      return key === undefined ? -1 : key;\n    },\n\n    reverse: function() {\n      return reify(this, reverseFactory(this, false));\n    },\n\n    slice: function(begin, end) {\n      return reify(this, sliceFactory(this, begin, end, false));\n    },\n\n    splice: function(index, removeNum /*, ...values*/) {\n      var numArgs = arguments.length;\n      removeNum = Math.max(removeNum | 0, 0);\n      if (numArgs === 0 || (numArgs === 2 && !removeNum)) {\n        return this;\n      }\n      // If index is negative, it should resolve relative to the size of the\n      // collection. However size may be expensive to compute if not cached, so\n      // only call count() if the number is in fact negative.\n      index = resolveBegin(index, index < 0 ? this.count() : this.size);\n      var spliced = this.slice(0, index);\n      return reify(\n        this,\n        numArgs === 1 ?\n          spliced :\n          spliced.concat(arrCopy(arguments, 2), this.slice(index + removeNum))\n      );\n    },\n\n\n    // ### More collection methods\n\n    findLastIndex: function(predicate, context) {\n      var entry = this.findLastEntry(predicate, context);\n      return entry ? entry[0] : -1;\n    },\n\n    first: function() {\n      return this.get(0);\n    },\n\n    flatten: function(depth) {\n      return reify(this, flattenFactory(this, depth, false));\n    },\n\n    get: function(index, notSetValue) {\n      index = wrapIndex(this, index);\n      return (index < 0 || (this.size === Infinity ||\n          (this.size !== undefined && index > this.size))) ?\n        notSetValue :\n        this.find(function(_, key)  {return key === index}, undefined, notSetValue);\n    },\n\n    has: function(index) {\n      index = wrapIndex(this, index);\n      return index >= 0 && (this.size !== undefined ?\n        this.size === Infinity || index < this.size :\n        this.indexOf(index) !== -1\n      );\n    },\n\n    interpose: function(separator) {\n      return reify(this, interposeFactory(this, separator));\n    },\n\n    interleave: function(/*...iterables*/) {\n      var iterables = [this].concat(arrCopy(arguments));\n      var zipped = zipWithFactory(this.toSeq(), IndexedSeq.of, iterables);\n      var interleaved = zipped.flatten(true);\n      if (zipped.size) {\n        interleaved.size = zipped.size * iterables.length;\n      }\n      return reify(this, interleaved);\n    },\n\n    keySeq: function() {\n      return Range(0, this.size);\n    },\n\n    last: function() {\n      return this.get(-1);\n    },\n\n    skipWhile: function(predicate, context) {\n      return reify(this, skipWhileFactory(this, predicate, context, false));\n    },\n\n    zip: function(/*, ...iterables */) {\n      var iterables = [this].concat(arrCopy(arguments));\n      return reify(this, zipWithFactory(this, defaultZipper, iterables));\n    },\n\n    zipWith: function(zipper/*, ...iterables */) {\n      var iterables = arrCopy(arguments);\n      iterables[0] = this;\n      return reify(this, zipWithFactory(this, zipper, iterables));\n    }\n\n  });\n\n  IndexedIterable.prototype[IS_INDEXED_SENTINEL] = true;\n  IndexedIterable.prototype[IS_ORDERED_SENTINEL] = true;\n\n\n\n  mixin(SetIterable, {\n\n    // ### ES6 Collection methods (ES6 Array and Map)\n\n    get: function(value, notSetValue) {\n      return this.has(value) ? value : notSetValue;\n    },\n\n    includes: function(value) {\n      return this.has(value);\n    },\n\n\n    // ### More sequential methods\n\n    keySeq: function() {\n      return this.valueSeq();\n    }\n\n  });\n\n  SetIterable.prototype.has = IterablePrototype.includes;\n  SetIterable.prototype.contains = SetIterable.prototype.includes;\n\n\n  // Mixin subclasses\n\n  mixin(KeyedSeq, KeyedIterable.prototype);\n  mixin(IndexedSeq, IndexedIterable.prototype);\n  mixin(SetSeq, SetIterable.prototype);\n\n  mixin(KeyedCollection, KeyedIterable.prototype);\n  mixin(IndexedCollection, IndexedIterable.prototype);\n  mixin(SetCollection, SetIterable.prototype);\n\n\n  // #pragma Helper functions\n\n  function keyMapper(v, k) {\n    return k;\n  }\n\n  function entryMapper(v, k) {\n    return [k, v];\n  }\n\n  function not(predicate) {\n    return function() {\n      return !predicate.apply(this, arguments);\n    }\n  }\n\n  function neg(predicate) {\n    return function() {\n      return -predicate.apply(this, arguments);\n    }\n  }\n\n  function quoteString(value) {\n    return typeof value === 'string' ? JSON.stringify(value) : String(value);\n  }\n\n  function defaultZipper() {\n    return arrCopy(arguments);\n  }\n\n  function defaultNegComparator(a, b) {\n    return a < b ? 1 : a > b ? -1 : 0;\n  }\n\n  function hashIterable(iterable) {\n    if (iterable.size === Infinity) {\n      return 0;\n    }\n    var ordered = isOrdered(iterable);\n    var keyed = isKeyed(iterable);\n    var h = ordered ? 1 : 0;\n    var size = iterable.__iterate(\n      keyed ?\n        ordered ?\n          function(v, k)  { h = 31 * h + hashMerge(hash(v), hash(k)) | 0; } :\n          function(v, k)  { h = h + hashMerge(hash(v), hash(k)) | 0; } :\n        ordered ?\n          function(v ) { h = 31 * h + hash(v) | 0; } :\n          function(v ) { h = h + hash(v) | 0; }\n    );\n    return murmurHashOfSize(size, h);\n  }\n\n  function murmurHashOfSize(size, h) {\n    h = imul(h, 0xCC9E2D51);\n    h = imul(h << 15 | h >>> -15, 0x1B873593);\n    h = imul(h << 13 | h >>> -13, 5);\n    h = (h + 0xE6546B64 | 0) ^ size;\n    h = imul(h ^ h >>> 16, 0x85EBCA6B);\n    h = imul(h ^ h >>> 13, 0xC2B2AE35);\n    h = smi(h ^ h >>> 16);\n    return h;\n  }\n\n  function hashMerge(a, b) {\n    return a ^ b + 0x9E3779B9 + (a << 6) + (a >> 2) | 0; // int\n  }\n\n  var Immutable = {\n\n    Iterable: Iterable,\n\n    Seq: Seq,\n    Collection: Collection,\n    Map: Map,\n    OrderedMap: OrderedMap,\n    List: List,\n    Stack: Stack,\n    Set: Set,\n    OrderedSet: OrderedSet,\n\n    Record: Record,\n    Range: Range,\n    Repeat: Repeat,\n\n    is: is,\n    fromJS: fromJS\n\n  };\n\n  return Immutable;\n\n}));","// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nmodule.exports = self.fetch.bind(self);\n","'use strict';\nmodule.exports = function (obj) {\n\tvar keys = Object.keys(obj);\n\tvar ret = [];\n\n\tfor (var i = 0; i < keys.length; i++) {\n\t\tret.push(obj[keys[i]]);\n\t}\n\n\treturn ret;\n};\n","module.exports = function(n, fn) {\n\tvar i = -1, r = new Array(n);\n\tfn = fn || function(i) {return i;};\n\twhile (++i < n) r[i] = fn(i, r);\n\treturn r;\n};","/** Virtual DOM Node */\nfunction VNode() {}\n\n/** Global options\n *\t@public\n *\t@namespace options {Object}\n */\nvar options = {\n\n\t/** If `true`, `prop` changes trigger synchronous component updates.\n  *\t@name syncComponentUpdates\n  *\t@type Boolean\n  *\t@default true\n  */\n\t//syncComponentUpdates: true,\n\n\t/** Processes all created VNodes.\n  *\t@param {VNode} vnode\tA newly-created VNode to normalize/process\n  */\n\t//vnode(vnode) { }\n\n\t/** Hook invoked after a component is mounted. */\n\t// afterMount(component) { }\n\n\t/** Hook invoked after the DOM is updated with a component's latest render. */\n\t// afterUpdate(component) { }\n\n\t/** Hook invoked immediately before a component is unmounted. */\n\t// beforeUnmount(component) { }\n};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\n/** JSX/hyperscript reviver\n*\tBenchmarks: https://esbench.com/bench/57ee8f8e330ab09900a1a1a0\n *\t@see http://jasonformat.com/wtf-is-jsx\n *\t@public\n */\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\t// if a \"vnode hook\" is defined, pass every created VNode to it\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\n/** Copy own-properties from `props` onto `obj`.\n *\t@returns obj\n *\t@private\n */\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\n/** Call a function asynchronously, as soon as possible.\n *\t@param {Function} callback\n */\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\nfunction cloneElement(vnode, props) {\n\treturn h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\n// DOM properties that should NOT have \"px\" added when numeric\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\n/** Managed queue of dirty components to be re-rendered */\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p,\n\t    list = items;\n\titems = [];\n\twhile (p = list.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\n/** Check if two nodes are equivalent.\n *\t@param {Element} node\n *\t@param {VNode} vnode\n *\t@private\n */\nfunction isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\treturn node.splitText !== undefined;\n\t}\n\tif (typeof vnode.nodeName === 'string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor === vnode.nodeName;\n}\n\n/** Check if an Element has a given normalized name.\n*\t@param {Element} node\n*\t@param {String} nodeName\n */\nfunction isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\n/**\n * Reconstruct Component-style `props` from a VNode.\n * Ensures default/fallback values from `defaultProps`:\n * Own-properties of `defaultProps` not present in `vnode.attributes` are added.\n * @param {VNode} vnode\n * @returns {Object} props\n */\nfunction getNodeProps(vnode) {\n\tvar props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tvar defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps !== undefined) {\n\t\tfor (var i in defaultProps) {\n\t\t\tif (props[i] === undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n\n/** Create an element with the given nodeName.\n *\t@param {String} nodeName\n *\t@param {Boolean} [isSvg=false]\tIf `true`, creates an element within the SVG namespace.\n *\t@returns {Element} node\n */\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\n/** Remove a child node from its parent if attached.\n *\t@param {Element} node\t\tThe node to remove\n */\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/** Set a named attribute on the given Node, with special behavior for some names and event handlers.\n *\tIf `value` is `null`, the attribute/handler will be removed.\n *\t@param {Element} node\tAn element to mutate\n *\t@param {string} name\tThe name/key to set, such as an event or attribute name\n *\t@param {any} old\tThe last value that was set for this name/node pair\n *\t@param {any} value\tAn attribute value, such as a function to be used as an event handler\n *\t@param {Boolean} isSvg\tAre we currently diffing inside an svg?\n *\t@private\n */\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {\n\t\t// ignore\n\t} else if (name === 'ref') {\n\t\tif (old) old(null);\n\t\tif (value) value(node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\tsetProperty(node, name, value == null ? '' : value);\n\t\tif (value == null || value === false) node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink\\:?/, ''));\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/** Attempt to set a DOM property to the given value.\n *\tIE & FF throw for certain property-value combinations.\n */\nfunction setProperty(node, name, value) {\n\ttry {\n\t\tnode[name] = value;\n\t} catch (e) {}\n}\n\n/** Proxy an event to hooked event handlers\n *\t@private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\n/** Queue of components that have been mounted and are awaiting componentDidMount */\nvar mounts = [];\n\n/** Diff recursion count, used to track the end of the diff cycle. */\nvar diffLevel = 0;\n\n/** Global flag indicating if the diff is currently within an SVG */\nvar isSvgMode = false;\n\n/** Global flag indicating if the diff is performing hydration */\nvar hydrating = false;\n\n/** Invoke queued componentDidMount lifecycle methods */\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.pop()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\n/** Apply differences in a given vnode (and it's deep children) to a real DOM Node.\n *\t@param {Element} [dom=null]\t\tA DOM node to mutate into the shape of the `vnode`\n *\t@param {VNode} vnode\t\t\tA VNode (with descendants forming a tree) representing the desired DOM structure\n *\t@returns {Element} dom\t\t\tThe created/mutated element\n *\t@private\n */\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\t// diffLevel having been 0 here indicates initial entry into the diff (not a subdiff)\n\tif (!diffLevel++) {\n\t\t// when first starting the diff, check if we're diffing an SVG or within an SVG\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\t// hydration is indicated by the existing element to be diffed not having a prop cache\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\t// append the element if its a new parent\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\t// diffLevel being reduced to 0 means we're exiting the diff\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\t\t// invoke queued componentDidMount lifecycle methods\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\n/** Internals of `diff()`, separated to allow bypassing diffLevel / mount flushing. */\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\t// empty values (null, undefined, booleans) render as empty Text nodes\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\t// Fast case: Strings & Numbers create/update Text nodes.\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\n\t\t// update if it's already a Text node:\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\t/* istanbul ignore if */ /* Browser quirk that can't be covered: https://github.com/developit/preact/commit/fd4f21f5c45dfd75151bd27b4c217d8003aa5eb9 */\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\t// it wasn't a Text node: replace it with one and recycle the old Element\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\t// If the VNode represents a Component, perform a component diff:\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\t// If there's no existing element or it's the wrong type, create a new one:\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\t// move children into the replacement node\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t} // if the previous Element was mounted into the DOM, replace it inline\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\t// recycle the old element (skips non-Element node types)\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\t// Optimization: fast-path for elements containing a single TextNode:\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t}\n\t// otherwise, if there are existing or new children, diff them:\n\telse if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\t// Apply attributes/props from VNode to the DOM Element:\n\tdiffAttributes(out, vnode.attributes, props);\n\n\t// restore previous SVG mode: (in case we're exiting an SVG namespace)\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\n/** Apply child and attribute changes between a VNode and a DOM Node to the DOM.\n *\t@param {Element} dom\t\t\tElement whose children should be compared & mutated\n *\t@param {Array} vchildren\t\tArray of VNodes to compare to `dom.childNodes`\n *\t@param {Object} context\t\t\tImplicitly descendant context object (from most recent `getChildContext()`)\n *\t@param {Boolean} mountAll\n *\t@param {Boolean} isHydrating\tIf `true`, consumes externally created elements similar to hydration\n */\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\t// Build up a map of keyed children and an Array of unkeyed children:\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\t// attempt to find a node based on key matching\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// attempt to pluck a node of the same type from the existing children\n\t\t\telse if (!child && min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t// morph the matched/found/created DOM child to match vchild (deep)\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// remove unused keyed children:\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\t// remove orphaned unkeyed children:\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\n/** Recursively recycle (or just unmount) a node and its descendants.\n *\t@param {Node} node\t\t\t\t\t\tDOM node to start unmount/removal from\n *\t@param {Boolean} [unmountOnly=false]\tIf `true`, only triggers unmount lifecycle, skips removal\n */\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\t// if node is owned by a Component, unmount that component (ends up recursing back here)\n\t\tunmountComponent(component);\n\t} else {\n\t\t// If the node's VNode had a ref function, invoke it with null here.\n\t\t// (this is part of the React spec, and smart for unsetting references)\n\t\tif (node['__preactattr_'] != null && node['__preactattr_'].ref) node['__preactattr_'].ref(null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\n/** Recollect/unmount all children.\n *\t- we use .lastChild here because it causes less reflow than .firstChild\n *\t- it's also cheaper than accessing the .childNodes Live NodeList\n */\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\n/** Apply differences in attributes from a VNode to the given DOM Element.\n *\t@param {Element} dom\t\tElement with attributes to diff `attrs` against\n *\t@param {Object} attrs\t\tThe desired end-state key-value attribute pairs\n *\t@param {Object} old\t\t\tCurrent/previous attributes (from previous VNode or element's prop cache)\n */\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\t// remove attributes no longer present on the vnode by setting them to undefined\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\t// add new & update changed attributes\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\n/** Retains a pool of Components for re-use, keyed on component name.\n *\tNote: since component names are not unique or even necessarily available, these are primarily a form of sharding.\n *\t@private\n */\nvar components = {};\n\n/** Reclaim a component for later re-use by the recycler. */\nfunction collectComponent(component) {\n\tvar name = component.constructor.name;\n\t(components[name] || (components[name] = [])).push(component);\n}\n\n/** Create a component. Normalizes differences between PFC's and classful Components. */\nfunction createComponent(Ctor, props, context) {\n\tvar list = components[Ctor.name],\n\t    inst;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\tif (list) {\n\t\tfor (var i = list.length; i--;) {\n\t\t\tif (list[i].constructor === Ctor) {\n\t\t\t\tinst.nextBase = list[i].nextBase;\n\t\t\t\tlist.splice(i, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn inst;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\n/** Set a component's `props` (generally derived from JSX attributes).\n *\t@param {Object} props\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.renderSync=false]\tIf `true` and {@link options.syncComponentUpdates} is `true`, triggers synchronous rendering.\n *\t@param {boolean} [opts.render=true]\t\t\tIf `false`, no render will be triggered.\n */\nfunction setComponentProps(component, props, opts, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tif (component.__ref = props.ref) delete props.ref;\n\tif (component.__key = props.key) delete props.key;\n\n\tif (!component.base || mountAll) {\n\t\tif (component.componentWillMount) component.componentWillMount();\n\t} else if (component.componentWillReceiveProps) {\n\t\tcomponent.componentWillReceiveProps(props, context);\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (opts !== 0) {\n\t\tif (opts === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tif (component.__ref) component.__ref(component);\n}\n\n/** Render a Component, triggering necessary lifecycle events and taking High-Order Components into account.\n *\t@param {Component} component\n *\t@param {Object} [opts]\n *\t@param {boolean} [opts.build=false]\t\tIf `true`, component will build and store a DOM node if not already associated with one.\n *\t@private\n */\nfunction renderComponent(component, opts, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\t// if updating\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (opts !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\t// context to pass to the child, can be updated via (grand-)parent component\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\t\t\t// set up high order component link\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\t// destroy high order component link\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || opts === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.unshift(component);\n\t} else if (!skip) {\n\t\t// Ensure that pending componentDidMount() hooks of child components\n\t\t// are called before the componentDidUpdate() hook in the parent.\n\t\t// Note: disabled as it causes duplicate hooks, see https://github.com/developit/preact/issues/750\n\t\t// flushMounts();\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, previousContext);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\tif (component._renderCallbacks != null) {\n\t\twhile (component._renderCallbacks.length) {\n\t\t\tcomponent._renderCallbacks.pop().call(component);\n\t\t}\n\t}\n\n\tif (!diffLevel && !isChild) flushMounts();\n}\n\n/** Apply the Component referenced by a VNode to the DOM.\n *\t@param {Element} dom\tThe DOM node to mutate\n *\t@param {VNode} vnode\tA Component-referencing VNode\n *\t@returns {Element} dom\tThe created/mutated element\n *\t@private\n */\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\t\t\t// passing dom/oldDom as nextBase will recycle it if unused, so bypass recycling on L229:\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/** Remove a component from the DOM and recycle it.\n *\t@param {Component} component\tThe Component instance to unmount\n *\t@private\n */\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\t// recursively tear down & recollect high-order component children:\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] && base['__preactattr_'].ref) base['__preactattr_'].ref(null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\tcollectComponent(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tif (component.__ref) component.__ref(null);\n}\n\n/** Base Component class.\n *\tProvides `setState()` and `forceUpdate()`, which trigger rendering.\n *\t@public\n *\n *\t@example\n *\tclass MyFoo extends Component {\n *\t\trender(props, state) {\n *\t\t\treturn <div />;\n *\t\t}\n *\t}\n */\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.context = context;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.props = props;\n\n\t/** @public\n  *\t@type {object}\n  */\n\tthis.state = this.state || {};\n}\n\nextend(Component.prototype, {\n\n\t/** Returns a `boolean` indicating if the component should re-render when receiving the given `props` and `state`.\n  *\t@param {object} nextProps\n  *\t@param {object} nextState\n  *\t@param {object} nextContext\n  *\t@returns {Boolean} should the component re-render\n  *\t@name shouldComponentUpdate\n  *\t@function\n  */\n\n\t/** Update component state by copying properties from `state` to `this.state`.\n  *\t@param {object} state\t\tA hash of state properties to update with new values\n  *\t@param {function} callback\tA function to be called once component state is updated\n  */\n\tsetState: function setState(state, callback) {\n\t\tvar s = this.state;\n\t\tif (!this.prevState) this.prevState = extend({}, s);\n\t\textend(s, typeof state === 'function' ? state(s, this.props) : state);\n\t\tif (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n\t\tenqueueRender(this);\n\t},\n\n\n\t/** Immediately perform a synchronous re-render of the component.\n  *\t@param {function} callback\t\tA function to be called after component is re-rendered.\n  *\t@private\n  */\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) (this._renderCallbacks = this._renderCallbacks || []).push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\n\n\t/** Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n  *\tVirtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n  *\t@param {object} props\t\tProps (eg: JSX attributes) received from parent element/component\n  *\t@param {object} state\t\tThe component's current state\n  *\t@param {object} context\t\tContext object (if a parent component has provided context)\n  *\t@returns VNode\n  */\n\trender: function render() {}\n});\n\n/** Render JSX into a `parent` Element.\n *\t@param {VNode} vnode\t\tA (JSX) VNode to render\n *\t@param {Element} parent\t\tDOM element to render into\n *\t@param {Element} [merge]\tAttempt to re-use an existing DOM tree rooted at `merge`\n *\t@public\n *\n *\t@example\n *\t// render a div into <body>:\n *\trender(<div id=\"hello\">hello!</div>, document.body);\n *\n *\t@example\n *\t// render a \"Thing\" component into #foo:\n *\tconst Thing = ({ name }) => <span>{ name }</span>;\n *\trender(<Thing name=\"one\" />, document.querySelector('#foo'));\n */\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport { h, h as createElement, cloneElement, Component, render, rerender, options };\nexport default preact;\n//# sourceMappingURL=preact.esm.js.map\n","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../node_modules/sass-loader/dist/cjs.js!./background.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../node_modules/sass-loader/dist/cjs.js!./map.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../node_modules/sass-loader/dist/cjs.js!./marker.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../node_modules/sass-loader/dist/cjs.js!./plot.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","import api from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n            import content from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../../node_modules/sass-loader/dist/cjs.js!./scrolly.scss\";\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nexport default content.locals || {};","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","export default function(x) {\n  return x;\n}\n","import identity from \"./identity\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","import transform from \"./transform\";\n\nexport default function(topology) {\n  var t = transform(topology.transform), key,\n      x0 = Infinity, y0 = x0, x1 = -x0, y1 = -x0;\n\n  function bboxPoint(p) {\n    p = t(p);\n    if (p[0] < x0) x0 = p[0];\n    if (p[0] > x1) x1 = p[0];\n    if (p[1] < y0) y0 = p[1];\n    if (p[1] > y1) y1 = p[1];\n  }\n\n  function bboxGeometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(bboxGeometry); break;\n      case \"Point\": bboxPoint(o.coordinates); break;\n      case \"MultiPoint\": o.coordinates.forEach(bboxPoint); break;\n    }\n  }\n\n  topology.arcs.forEach(function(arc) {\n    var i = -1, n = arc.length, p;\n    while (++i < n) {\n      p = t(arc[i], i);\n      if (p[0] < x0) x0 = p[0];\n      if (p[0] > x1) x1 = p[0];\n      if (p[1] < y0) y0 = p[1];\n      if (p[1] > y1) y1 = p[1];\n    }\n  });\n\n  for (key in topology.objects) {\n    bboxGeometry(topology.objects[key]);\n  }\n\n  return [x0, y0, x1, y1];\n}\n","import reverse from \"./reverse\";\nimport transform from \"./transform\";\n\nexport default function(topology, o) {\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nexport function feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n","export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n","export default function(topology, arcs) {\n  var stitchedArcs = {},\n      fragmentByStart = {},\n      fragmentByEnd = {},\n      fragments = [],\n      emptyIndex = -1;\n\n  // Stitch empty arcs first, since they may be subsumed by other arcs.\n  arcs.forEach(function(i, j) {\n    var arc = topology.arcs[i < 0 ? ~i : i], t;\n    if (arc.length < 3 && !arc[1][0] && !arc[1][1]) {\n      t = arcs[++emptyIndex], arcs[emptyIndex] = i, arcs[j] = t;\n    }\n  });\n\n  arcs.forEach(function(i) {\n    var e = ends(i),\n        start = e[0],\n        end = e[1],\n        f, g;\n\n    if (f = fragmentByEnd[start]) {\n      delete fragmentByEnd[f.end];\n      f.push(i);\n      f.end = end;\n      if (g = fragmentByStart[end]) {\n        delete fragmentByStart[g.start];\n        var fg = g === f ? f : f.concat(g);\n        fragmentByStart[fg.start = f.start] = fragmentByEnd[fg.end = g.end] = fg;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else if (f = fragmentByStart[end]) {\n      delete fragmentByStart[f.start];\n      f.unshift(i);\n      f.start = start;\n      if (g = fragmentByEnd[start]) {\n        delete fragmentByEnd[g.end];\n        var gf = g === f ? f : g.concat(f);\n        fragmentByStart[gf.start = g.start] = fragmentByEnd[gf.end = f.end] = gf;\n      } else {\n        fragmentByStart[f.start] = fragmentByEnd[f.end] = f;\n      }\n    } else {\n      f = [i];\n      fragmentByStart[f.start = start] = fragmentByEnd[f.end = end] = f;\n    }\n  });\n\n  function ends(i) {\n    var arc = topology.arcs[i < 0 ? ~i : i], p0 = arc[0], p1;\n    if (topology.transform) p1 = [0, 0], arc.forEach(function(dp) { p1[0] += dp[0], p1[1] += dp[1]; });\n    else p1 = arc[arc.length - 1];\n    return i < 0 ? [p1, p0] : [p0, p1];\n  }\n\n  function flush(fragmentByEnd, fragmentByStart) {\n    for (var k in fragmentByEnd) {\n      var f = fragmentByEnd[k];\n      delete fragmentByStart[f.start];\n      delete f.start;\n      delete f.end;\n      f.forEach(function(i) { stitchedArcs[i < 0 ? ~i : i] = 1; });\n      fragments.push(f);\n    }\n  }\n\n  flush(fragmentByEnd, fragmentByStart);\n  flush(fragmentByStart, fragmentByEnd);\n  arcs.forEach(function(i) { if (!stitchedArcs[i < 0 ? ~i : i]) fragments.push([i]); });\n\n  return fragments;\n}\n","import {object} from \"./feature\";\nimport stitch from \"./stitch\";\n\nexport default function(topology) {\n  return object(topology, meshArcs.apply(this, arguments));\n}\n\nexport function meshArcs(topology, object, filter) {\n  var arcs, i, n;\n  if (arguments.length > 1) arcs = extractArcs(topology, object, filter);\n  else for (i = 0, arcs = new Array(n = topology.arcs.length); i < n; ++i) arcs[i] = i;\n  return {type: \"MultiLineString\", arcs: stitch(topology, arcs)};\n}\n\nfunction extractArcs(topology, object, filter) {\n  var arcs = [],\n      geomsByArc = [],\n      geom;\n\n  function extract0(i) {\n    var j = i < 0 ? ~i : i;\n    (geomsByArc[j] || (geomsByArc[j] = [])).push({i: i, g: geom});\n  }\n\n  function extract1(arcs) {\n    arcs.forEach(extract0);\n  }\n\n  function extract2(arcs) {\n    arcs.forEach(extract1);\n  }\n\n  function extract3(arcs) {\n    arcs.forEach(extract2);\n  }\n\n  function geometry(o) {\n    switch (geom = o, o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"LineString\": extract1(o.arcs); break;\n      case \"MultiLineString\": case \"Polygon\": extract2(o.arcs); break;\n      case \"MultiPolygon\": extract3(o.arcs); break;\n    }\n  }\n\n  geometry(object);\n\n  geomsByArc.forEach(filter == null\n      ? function(geoms) { arcs.push(geoms[0].i); }\n      : function(geoms) { if (filter(geoms[0].g, geoms[geoms.length - 1].g)) arcs.push(geoms[0].i); });\n\n  return arcs;\n}\n","import {object} from \"./feature\";\nimport stitch from \"./stitch\";\n\nfunction planarRingArea(ring) {\n  var i = -1, n = ring.length, a, b = ring[n - 1], area = 0;\n  while (++i < n) a = b, b = ring[i], area += a[0] * b[1] - a[1] * b[0];\n  return Math.abs(area); // Note: doubled area!\n}\n\nexport default function(topology) {\n  return object(topology, mergeArcs.apply(this, arguments));\n}\n\nexport function mergeArcs(topology, objects) {\n  var polygonsByArc = {},\n      polygons = [],\n      groups = [];\n\n  objects.forEach(geometry);\n\n  function geometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(geometry); break;\n      case \"Polygon\": extract(o.arcs); break;\n      case \"MultiPolygon\": o.arcs.forEach(extract); break;\n    }\n  }\n\n  function extract(polygon) {\n    polygon.forEach(function(ring) {\n      ring.forEach(function(arc) {\n        (polygonsByArc[arc = arc < 0 ? ~arc : arc] || (polygonsByArc[arc] = [])).push(polygon);\n      });\n    });\n    polygons.push(polygon);\n  }\n\n  function area(ring) {\n    return planarRingArea(object(topology, {type: \"Polygon\", arcs: [ring]}).coordinates[0]);\n  }\n\n  polygons.forEach(function(polygon) {\n    if (!polygon._) {\n      var group = [],\n          neighbors = [polygon];\n      polygon._ = 1;\n      groups.push(group);\n      while (polygon = neighbors.pop()) {\n        group.push(polygon);\n        polygon.forEach(function(ring) {\n          ring.forEach(function(arc) {\n            polygonsByArc[arc < 0 ? ~arc : arc].forEach(function(polygon) {\n              if (!polygon._) {\n                polygon._ = 1;\n                neighbors.push(polygon);\n              }\n            });\n          });\n        });\n      }\n    }\n  });\n\n  polygons.forEach(function(polygon) {\n    delete polygon._;\n  });\n\n  return {\n    type: \"MultiPolygon\",\n    arcs: groups.map(function(polygons) {\n      var arcs = [], n;\n\n      // Extract the exterior (unique) arcs.\n      polygons.forEach(function(polygon) {\n        polygon.forEach(function(ring) {\n          ring.forEach(function(arc) {\n            if (polygonsByArc[arc < 0 ? ~arc : arc].length < 2) {\n              arcs.push(arc);\n            }\n          });\n        });\n      });\n\n      // Stitch the arcs into one or more rings.\n      arcs = stitch(topology, arcs);\n\n      // If more than one ring is returned,\n      // at most one of these rings can be the exterior;\n      // choose the one with the greatest absolute area.\n      if ((n = arcs.length) > 1) {\n        for (var i = 1, k = area(arcs[0]), ki, t; i < n; ++i) {\n          if ((ki = area(arcs[i])) > k) {\n            t = arcs[0], arcs[0] = arcs[i], arcs[i] = t, k = ki;\n          }\n        }\n      }\n\n      return arcs;\n    })\n  };\n}\n","export default function(a, x) {\n  var lo = 0, hi = a.length;\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n    if (a[mid] < x) lo = mid + 1;\n    else hi = mid;\n  }\n  return lo;\n}\n","import bisect from \"./bisect\";\n\nexport default function(objects) {\n  var indexesByArc = {}, // arc index -> array of object indexes\n      neighbors = objects.map(function() { return []; });\n\n  function line(arcs, i) {\n    arcs.forEach(function(a) {\n      if (a < 0) a = ~a;\n      var o = indexesByArc[a];\n      if (o) o.push(i);\n      else indexesByArc[a] = [i];\n    });\n  }\n\n  function polygon(arcs, i) {\n    arcs.forEach(function(arc) { line(arc, i); });\n  }\n\n  function geometry(o, i) {\n    if (o.type === \"GeometryCollection\") o.geometries.forEach(function(o) { geometry(o, i); });\n    else if (o.type in geometryType) geometryType[o.type](o.arcs, i);\n  }\n\n  var geometryType = {\n    LineString: line,\n    MultiLineString: polygon,\n    Polygon: polygon,\n    MultiPolygon: function(arcs, i) { arcs.forEach(function(arc) { polygon(arc, i); }); }\n  };\n\n  objects.forEach(geometry);\n\n  for (var i in indexesByArc) {\n    for (var indexes = indexesByArc[i], m = indexes.length, j = 0; j < m; ++j) {\n      for (var k = j + 1; k < m; ++k) {\n        var ij = indexes[j], ik = indexes[k], n;\n        if ((n = neighbors[ij])[i = bisect(n, ik)] !== ik) n.splice(i, 0, ik);\n        if ((n = neighbors[ik])[i = bisect(n, ij)] !== ij) n.splice(i, 0, ij);\n      }\n    }\n  }\n\n  return neighbors;\n}\n","import identity from \"./identity\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2,\n        n = input.length,\n        output = new Array(n),\n        x1 = Math.round((input[0] - dx) / kx),\n        y1 = Math.round((input[1] - dy) / ky);\n    output[0] = x1 - x0, x0 = x1;\n    output[1] = y1 - y0, y0 = y1;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","import bbox from \"./bbox\";\nimport untransform from \"./untransform\";\n\nexport default function(topology, transform) {\n  if (topology.transform) throw new Error(\"already quantized\");\n\n  if (!transform || !transform.scale) {\n    if (!((n = Math.floor(transform)) >= 2)) throw new Error(\"n must be ≥2\");\n    box = topology.bbox || bbox(topology);\n    var x0 = box[0], y0 = box[1], x1 = box[2], y1 = box[3], n;\n    transform = {scale: [x1 - x0 ? (x1 - x0) / (n - 1) : 1, y1 - y0 ? (y1 - y0) / (n - 1) : 1], translate: [x0, y0]};\n  } else {\n    box = topology.bbox;\n  }\n\n  var t = untransform(transform), box, key, inputs = topology.objects, outputs = {};\n\n  function quantizePoint(point) {\n    return t(point);\n  }\n\n  function quantizeGeometry(input) {\n    var output;\n    switch (input.type) {\n      case \"GeometryCollection\": output = {type: \"GeometryCollection\", geometries: input.geometries.map(quantizeGeometry)}; break;\n      case \"Point\": output = {type: \"Point\", coordinates: quantizePoint(input.coordinates)}; break;\n      case \"MultiPoint\": output = {type: \"MultiPoint\", coordinates: input.coordinates.map(quantizePoint)}; break;\n      default: return input;\n    }\n    if (input.id != null) output.id = input.id;\n    if (input.bbox != null) output.bbox = input.bbox;\n    if (input.properties != null) output.properties = input.properties;\n    return output;\n  }\n\n  function quantizeArc(input) {\n    var i = 0, j = 1, n = input.length, p, output = new Array(n); // pessimistic\n    output[0] = t(input[0], 0);\n    while (++i < n) if ((p = t(input[i], i))[0] || p[1]) output[j++] = p; // non-coincident points\n    if (j === 1) output[j++] = [0, 0]; // an arc must have at least two points\n    output.length = j;\n    return output;\n  }\n\n  for (key in inputs) outputs[key] = quantizeGeometry(inputs[key]);\n\n  return {\n    type: \"Topology\",\n    bbox: box,\n    transform: transform,\n    objects: outputs,\n    arcs: topology.arcs.map(quantizeArc)\n  };\n}\n","export default function(size, hash, equal, keyType, keyEmpty, valueType) {\n  if (arguments.length === 3) {\n    keyType = valueType = Array;\n    keyEmpty = null;\n  }\n\n  var keystore = new keyType(size = 1 << Math.max(4, Math.ceil(Math.log(size) / Math.LN2))),\n      valstore = new valueType(size),\n      mask = size - 1;\n\n  for (var i = 0; i < size; ++i) {\n    keystore[i] = keyEmpty;\n  }\n\n  function set(key, value) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index] = value;\n      if (++collisions >= size) throw new Error(\"full hashmap\");\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    keystore[index] = key;\n    valstore[index] = value;\n    return value;\n  }\n\n  function maybeSet(key, value) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index];\n      if (++collisions >= size) throw new Error(\"full hashmap\");\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    keystore[index] = key;\n    valstore[index] = value;\n    return value;\n  }\n\n  function get(key, missingValue) {\n    var index = hash(key) & mask,\n        matchKey = keystore[index],\n        collisions = 0;\n    while (matchKey != keyEmpty) {\n      if (equal(matchKey, key)) return valstore[index];\n      if (++collisions >= size) break;\n      matchKey = keystore[index = (index + 1) & mask];\n    }\n    return missingValue;\n  }\n\n  function keys() {\n    var keys = [];\n    for (var i = 0, n = keystore.length; i < n; ++i) {\n      var matchKey = keystore[i];\n      if (matchKey != keyEmpty) keys.push(matchKey);\n    }\n    return keys;\n  }\n\n  return {\n    set: set,\n    maybeSet: maybeSet, // set if unset\n    get: get,\n    keys: keys\n  };\n}\n","export default function(pointA, pointB) {\n  return pointA[0] === pointB[0] && pointA[1] === pointB[1];\n}\n","// TODO if quantized, use simpler Int32 hashing?\n\nvar buffer = new ArrayBuffer(16),\n    floats = new Float64Array(buffer),\n    uints = new Uint32Array(buffer);\n\nexport default function(point) {\n  floats[0] = point[0];\n  floats[1] = point[1];\n  var hash = uints[0] ^ uints[1];\n  hash = hash << 5 ^ hash >> 7 ^ uints[2] ^ uints[3];\n  return hash & 0x7fffffff;\n}\n","import join from \"./join\";\n\n// Given an extracted (pre-)topology, cuts (or rotates) arcs so that all shared\n// point sequences are identified. The topology can then be subsequently deduped\n// to remove exact duplicate arcs.\nexport default function(topology) {\n  var junctions = join(topology),\n      coordinates = topology.coordinates,\n      lines = topology.lines,\n      rings = topology.rings,\n      next,\n      i, n;\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    var line = lines[i],\n        lineMid = line[0],\n        lineEnd = line[1];\n    while (++lineMid < lineEnd) {\n      if (junctions.has(coordinates[lineMid])) {\n        next = {0: lineMid, 1: line[1]};\n        line[1] = lineMid;\n        line = line.next = next;\n      }\n    }\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    var ring = rings[i],\n        ringStart = ring[0],\n        ringMid = ringStart,\n        ringEnd = ring[1],\n        ringFixed = junctions.has(coordinates[ringStart]);\n    while (++ringMid < ringEnd) {\n      if (junctions.has(coordinates[ringMid])) {\n        if (ringFixed) {\n          next = {0: ringMid, 1: ring[1]};\n          ring[1] = ringMid;\n          ring = ring.next = next;\n        } else { // For the first junction, we can rotate rather than cut.\n          rotateArray(coordinates, ringStart, ringEnd, ringEnd - ringMid);\n          coordinates[ringEnd] = coordinates[ringStart];\n          ringFixed = true;\n          ringMid = ringStart; // restart; we may have skipped junctions\n        }\n      }\n    }\n  }\n\n  return topology;\n}\n\nfunction rotateArray(array, start, end, offset) {\n  reverse(array, start, end);\n  reverse(array, start, start + offset);\n  reverse(array, start + offset, end);\n}\n\nfunction reverse(array, start, end) {\n  for (var mid = start + ((end-- - start) >> 1), t; start < mid; ++start, --end) {\n    t = array[start], array[start] = array[end], array[end] = t;\n  }\n}\n","// Given a hash of GeoJSON objects, returns a hash of GeoJSON geometry objects.\n// Any null input geometry objects are represented as {type: null} in the output.\n// Any feature.{id,properties,bbox} are transferred to the output geometry object.\n// Each output geometry object is a shallow copy of the input (e.g., properties, coordinates)!\nexport default function(inputs) {\n  var outputs = {}, key;\n  for (key in inputs) outputs[key] = geomifyObject(inputs[key]);\n  return outputs;\n}\n\nfunction geomifyObject(input) {\n  return input == null ? {type: null}\n      : (input.type === \"FeatureCollection\" ? geomifyFeatureCollection\n      : input.type === \"Feature\" ? geomifyFeature\n      : geomifyGeometry)(input);\n}\n\nfunction geomifyFeatureCollection(input) {\n  var output = {type: \"GeometryCollection\", geometries: input.features.map(geomifyFeature)};\n  if (input.bbox != null) output.bbox = input.bbox;\n  return output;\n}\n\nfunction geomifyFeature(input) {\n  var output = geomifyGeometry(input.geometry), key; // eslint-disable-line no-unused-vars\n  if (input.id != null) output.id = input.id;\n  if (input.bbox != null) output.bbox = input.bbox;\n  for (key in input.properties) { output.properties = input.properties; break; }\n  return output;\n}\n\nfunction geomifyGeometry(input) {\n  if (input == null) return {type: null};\n  var output = input.type === \"GeometryCollection\" ? {type: \"GeometryCollection\", geometries: input.geometries.map(geomifyGeometry)}\n      : input.type === \"Point\" || input.type === \"MultiPoint\" ? {type: input.type, coordinates: input.coordinates}\n      : {type: input.type, arcs: input.coordinates}; // TODO Check for unknown types?\n  if (input.bbox != null) output.bbox = input.bbox;\n  return output;\n}\n","import bounds from \"./bounds\";\nimport cut from \"./cut\";\nimport dedup from \"./dedup\";\nimport delta from \"./delta\";\nimport extract from \"./extract\";\nimport geometry from \"./geometry\";\nimport hashmap from \"./hash/hashmap\";\nimport prequantize from \"./prequantize\";\n\n// Constructs the TopoJSON Topology for the specified hash of features.\n// Each object in the specified hash must be a GeoJSON object,\n// meaning FeatureCollection, a Feature or a geometry object.\nexport default function(objects, quantization) {\n  var bbox = bounds(objects = geometry(objects)),\n      transform = quantization > 0 && bbox && prequantize(objects, bbox, quantization),\n      topology = dedup(cut(extract(objects))),\n      coordinates = topology.coordinates,\n      indexByArc = hashmap(topology.arcs.length * 1.4, hashArc, equalArc);\n\n  objects = topology.objects; // for garbage collection\n  topology.bbox = bbox;\n  topology.arcs = topology.arcs.map(function(arc, i) {\n    indexByArc.set(arc, i);\n    return coordinates.slice(arc[0], arc[1] + 1);\n  });\n\n  delete topology.coordinates;\n  coordinates = null;\n\n  function indexGeometry(geometry) {\n    if (geometry && indexGeometryType.hasOwnProperty(geometry.type)) indexGeometryType[geometry.type](geometry);\n  }\n\n  var indexGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(indexGeometry); },\n    LineString: function(o) { o.arcs = indexArcs(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(indexArcs); },\n    Polygon: function(o) { o.arcs = o.arcs.map(indexArcs); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(indexMultiArcs); }\n  };\n\n  function indexArcs(arc) {\n    var indexes = [];\n    do {\n      var index = indexByArc.get(arc);\n      indexes.push(arc[0] < arc[1] ? index : ~index);\n    } while (arc = arc.next);\n    return indexes;\n  }\n\n  function indexMultiArcs(arcs) {\n    return arcs.map(indexArcs);\n  }\n\n  for (var key in objects) {\n    indexGeometry(objects[key]);\n  }\n\n  if (transform) {\n    topology.transform = transform;\n    topology.arcs = delta(topology.arcs);\n  }\n\n  return topology;\n}\n\nfunction hashArc(arc) {\n  var i = arc[0], j = arc[1], t;\n  if (j < i) t = i, i = j, j = t;\n  return i + 31 * j;\n}\n\nfunction equalArc(arcA, arcB) {\n  var ia = arcA[0], ja = arcA[1],\n      ib = arcB[0], jb = arcB[1], t;\n  if (ja < ia) t = ia, ia = ja, ja = t;\n  if (jb < ib) t = ib, ib = jb, jb = t;\n  return ia === ib && ja === jb;\n}\n","// Computes the bounding box of the specified hash of GeoJSON objects.\nexport default function(objects) {\n  var x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  function boundGeometry(geometry) {\n    if (geometry != null && boundGeometryType.hasOwnProperty(geometry.type)) boundGeometryType[geometry.type](geometry);\n  }\n\n  var boundGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(boundGeometry); },\n    Point: function(o) { boundPoint(o.coordinates); },\n    MultiPoint: function(o) { o.coordinates.forEach(boundPoint); },\n    LineString: function(o) { boundLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs.forEach(boundLine); },\n    Polygon: function(o) { o.arcs.forEach(boundLine); },\n    MultiPolygon: function(o) { o.arcs.forEach(boundMultiLine); }\n  };\n\n  function boundPoint(coordinates) {\n    var x = coordinates[0],\n        y = coordinates[1];\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  function boundLine(coordinates) {\n    coordinates.forEach(boundPoint);\n  }\n\n  function boundMultiLine(coordinates) {\n    coordinates.forEach(boundLine);\n  }\n\n  for (var key in objects) {\n    boundGeometry(objects[key]);\n  }\n\n  return x1 >= x0 && y1 >= y0 ? [x0, y0, x1, y1] : undefined;\n}\n","export default function(objects, bbox, n) {\n  var x0 = bbox[0],\n      y0 = bbox[1],\n      x1 = bbox[2],\n      y1 = bbox[3],\n      kx = x1 - x0 ? (n - 1) / (x1 - x0) : 1,\n      ky = y1 - y0 ? (n - 1) / (y1 - y0) : 1;\n\n  function quantizePoint(input) {\n    return [Math.round((input[0] - x0) * kx), Math.round((input[1] - y0) * ky)];\n  }\n\n  function quantizePoints(input, m) {\n    var i = -1,\n        j = 0,\n        n = input.length,\n        output = new Array(n), // pessimistic\n        pi,\n        px,\n        py,\n        x,\n        y;\n\n    while (++i < n) {\n      pi = input[i];\n      x = Math.round((pi[0] - x0) * kx);\n      y = Math.round((pi[1] - y0) * ky);\n      if (x !== px || y !== py) output[j++] = [px = x, py = y]; // non-coincident points\n    }\n\n    output.length = j;\n    while (j < m) j = output.push([output[0][0], output[0][1]]);\n    return output;\n  }\n\n  function quantizeLine(input) {\n    return quantizePoints(input, 2);\n  }\n\n  function quantizeRing(input) {\n    return quantizePoints(input, 4);\n  }\n\n  function quantizePolygon(input) {\n    return input.map(quantizeRing);\n  }\n\n  function quantizeGeometry(o) {\n    if (o != null && quantizeGeometryType.hasOwnProperty(o.type)) quantizeGeometryType[o.type](o);\n  }\n\n  var quantizeGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(quantizeGeometry); },\n    Point: function(o) { o.coordinates = quantizePoint(o.coordinates); },\n    MultiPoint: function(o) { o.coordinates = o.coordinates.map(quantizePoint); },\n    LineString: function(o) { o.arcs = quantizeLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(quantizeLine); },\n    Polygon: function(o) { o.arcs = quantizePolygon(o.arcs); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(quantizePolygon); }\n  };\n\n  for (var key in objects) {\n    quantizeGeometry(objects[key]);\n  }\n\n  return {\n    scale: [1 / kx, 1 / ky],\n    translate: [x0, y0]\n  };\n}\n","import hashmap from \"./hash/hashmap\";\nimport equalPoint from \"./hash/point-equal\";\nimport hashPoint from \"./hash/point-hash\";\n\n// Given a cut topology, combines duplicate arcs.\nexport default function(topology) {\n  var coordinates = topology.coordinates,\n      lines = topology.lines, line,\n      rings = topology.rings, ring,\n      arcCount = lines.length + rings.length,\n      i, n;\n\n  delete topology.lines;\n  delete topology.rings;\n\n  // Count the number of (non-unique) arcs to initialize the hashmap safely.\n  for (i = 0, n = lines.length; i < n; ++i) {\n    line = lines[i]; while (line = line.next) ++arcCount;\n  }\n  for (i = 0, n = rings.length; i < n; ++i) {\n    ring = rings[i]; while (ring = ring.next) ++arcCount;\n  }\n\n  var arcsByEnd = hashmap(arcCount * 2 * 1.4, hashPoint, equalPoint),\n      arcs = topology.arcs = [];\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    line = lines[i];\n    do {\n      dedupLine(line);\n    } while (line = line.next);\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    ring = rings[i];\n    if (ring.next) { // arc is no longer closed\n      do {\n        dedupLine(ring);\n      } while (ring = ring.next);\n    } else {\n      dedupRing(ring);\n    }\n  }\n\n  function dedupLine(arc) {\n    var startPoint,\n        endPoint,\n        startArcs, startArc,\n        endArcs, endArc,\n        i, n;\n\n    // Does this arc match an existing arc in order?\n    if (startArcs = arcsByEnd.get(startPoint = coordinates[arc[0]])) {\n      for (i = 0, n = startArcs.length; i < n; ++i) {\n        startArc = startArcs[i];\n        if (equalLine(startArc, arc)) {\n          arc[0] = startArc[0];\n          arc[1] = startArc[1];\n          return;\n        }\n      }\n    }\n\n    // Does this arc match an existing arc in reverse order?\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[1]])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (reverseEqualLine(endArc, arc)) {\n          arc[1] = endArc[0];\n          arc[0] = endArc[1];\n          return;\n        }\n      }\n    }\n\n    if (startArcs) startArcs.push(arc); else arcsByEnd.set(startPoint, [arc]);\n    if (endArcs) endArcs.push(arc); else arcsByEnd.set(endPoint, [arc]);\n    arcs.push(arc);\n  }\n\n  function dedupRing(arc) {\n    var endPoint,\n        endArcs,\n        endArc,\n        i, n;\n\n    // Does this arc match an existing line in order, or reverse order?\n    // Rings are closed, so their start point and end point is the same.\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[0]])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (equalRing(endArc, arc)) {\n          arc[0] = endArc[0];\n          arc[1] = endArc[1];\n          return;\n        }\n        if (reverseEqualRing(endArc, arc)) {\n          arc[0] = endArc[1];\n          arc[1] = endArc[0];\n          return;\n        }\n      }\n    }\n\n    // Otherwise, does this arc match an existing ring in order, or reverse order?\n    if (endArcs = arcsByEnd.get(endPoint = coordinates[arc[0] + findMinimumOffset(arc)])) {\n      for (i = 0, n = endArcs.length; i < n; ++i) {\n        endArc = endArcs[i];\n        if (equalRing(endArc, arc)) {\n          arc[0] = endArc[0];\n          arc[1] = endArc[1];\n          return;\n        }\n        if (reverseEqualRing(endArc, arc)) {\n          arc[0] = endArc[1];\n          arc[1] = endArc[0];\n          return;\n        }\n      }\n    }\n\n    if (endArcs) endArcs.push(arc); else arcsByEnd.set(endPoint, [arc]);\n    arcs.push(arc);\n  }\n\n  function equalLine(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1];\n    if (ia - ja !== ib - jb) return false;\n    for (; ia <= ja; ++ia, ++ib) if (!equalPoint(coordinates[ia], coordinates[ib])) return false;\n    return true;\n  }\n\n  function reverseEqualLine(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1];\n    if (ia - ja !== ib - jb) return false;\n    for (; ia <= ja; ++ia, --jb) if (!equalPoint(coordinates[ia], coordinates[jb])) return false;\n    return true;\n  }\n\n  function equalRing(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1],\n        n = ja - ia;\n    if (n !== jb - ib) return false;\n    var ka = findMinimumOffset(arcA),\n        kb = findMinimumOffset(arcB);\n    for (var i = 0; i < n; ++i) {\n      if (!equalPoint(coordinates[ia + (i + ka) % n], coordinates[ib + (i + kb) % n])) return false;\n    }\n    return true;\n  }\n\n  function reverseEqualRing(arcA, arcB) {\n    var ia = arcA[0], ib = arcB[0],\n        ja = arcA[1], jb = arcB[1],\n        n = ja - ia;\n    if (n !== jb - ib) return false;\n    var ka = findMinimumOffset(arcA),\n        kb = n - findMinimumOffset(arcB);\n    for (var i = 0; i < n; ++i) {\n      if (!equalPoint(coordinates[ia + (i + ka) % n], coordinates[jb - (i + kb) % n])) return false;\n    }\n    return true;\n  }\n\n  // Rings are rotated to a consistent, but arbitrary, start point.\n  // This is necessary to detect when a ring and a rotated copy are dupes.\n  function findMinimumOffset(arc) {\n    var start = arc[0],\n        end = arc[1],\n        mid = start,\n        minimum = mid,\n        minimumPoint = coordinates[mid];\n    while (++mid < end) {\n      var point = coordinates[mid];\n      if (point[0] < minimumPoint[0] || point[0] === minimumPoint[0] && point[1] < minimumPoint[1]) {\n        minimum = mid;\n        minimumPoint = point;\n      }\n    }\n    return minimum - start;\n  }\n\n  return topology;\n}\n","import hashset from \"./hash/hashset\";\nimport hashmap from \"./hash/hashmap\";\nimport equalPoint from \"./hash/point-equal\";\nimport hashPoint from \"./hash/point-hash\";\n\n// Given an extracted (pre-)topology, identifies all of the junctions. These are\n// the points at which arcs (lines or rings) will need to be cut so that each\n// arc is represented uniquely.\n//\n// A junction is a point where at least one arc deviates from another arc going\n// through the same point. For example, consider the point B. If there is a arc\n// through ABC and another arc through CBA, then B is not a junction because in\n// both cases the adjacent point pairs are {A,C}. However, if there is an\n// additional arc ABD, then {A,D} != {A,C}, and thus B becomes a junction.\n//\n// For a closed ring ABCA, the first point A’s adjacent points are the second\n// and last point {B,C}. For a line, the first and last point are always\n// considered junctions, even if the line is closed; this ensures that a closed\n// line is never rotated.\nexport default function(topology) {\n  var coordinates = topology.coordinates,\n      lines = topology.lines,\n      rings = topology.rings,\n      indexes = index(),\n      visitedByIndex = new Int32Array(coordinates.length),\n      leftByIndex = new Int32Array(coordinates.length),\n      rightByIndex = new Int32Array(coordinates.length),\n      junctionByIndex = new Int8Array(coordinates.length),\n      junctionCount = 0, // upper bound on number of junctions\n      i, n,\n      previousIndex,\n      currentIndex,\n      nextIndex;\n\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    visitedByIndex[i] = leftByIndex[i] = rightByIndex[i] = -1;\n  }\n\n  for (i = 0, n = lines.length; i < n; ++i) {\n    var line = lines[i],\n        lineStart = line[0],\n        lineEnd = line[1];\n    currentIndex = indexes[lineStart];\n    nextIndex = indexes[++lineStart];\n    ++junctionCount, junctionByIndex[currentIndex] = 1; // start\n    while (++lineStart <= lineEnd) {\n      sequence(i, previousIndex = currentIndex, currentIndex = nextIndex, nextIndex = indexes[lineStart]);\n    }\n    ++junctionCount, junctionByIndex[nextIndex] = 1; // end\n  }\n\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    visitedByIndex[i] = -1;\n  }\n\n  for (i = 0, n = rings.length; i < n; ++i) {\n    var ring = rings[i],\n        ringStart = ring[0] + 1,\n        ringEnd = ring[1];\n    previousIndex = indexes[ringEnd - 1];\n    currentIndex = indexes[ringStart - 1];\n    nextIndex = indexes[ringStart];\n    sequence(i, previousIndex, currentIndex, nextIndex);\n    while (++ringStart <= ringEnd) {\n      sequence(i, previousIndex = currentIndex, currentIndex = nextIndex, nextIndex = indexes[ringStart]);\n    }\n  }\n\n  function sequence(i, previousIndex, currentIndex, nextIndex) {\n    if (visitedByIndex[currentIndex] === i) return; // ignore self-intersection\n    visitedByIndex[currentIndex] = i;\n    var leftIndex = leftByIndex[currentIndex];\n    if (leftIndex >= 0) {\n      var rightIndex = rightByIndex[currentIndex];\n      if ((leftIndex !== previousIndex || rightIndex !== nextIndex)\n        && (leftIndex !== nextIndex || rightIndex !== previousIndex)) {\n        ++junctionCount, junctionByIndex[currentIndex] = 1;\n      }\n    } else {\n      leftByIndex[currentIndex] = previousIndex;\n      rightByIndex[currentIndex] = nextIndex;\n    }\n  }\n\n  function index() {\n    var indexByPoint = hashmap(coordinates.length * 1.4, hashIndex, equalIndex, Int32Array, -1, Int32Array),\n        indexes = new Int32Array(coordinates.length);\n\n    for (var i = 0, n = coordinates.length; i < n; ++i) {\n      indexes[i] = indexByPoint.maybeSet(i, i);\n    }\n\n    return indexes;\n  }\n\n  function hashIndex(i) {\n    return hashPoint(coordinates[i]);\n  }\n\n  function equalIndex(i, j) {\n    return equalPoint(coordinates[i], coordinates[j]);\n  }\n\n  visitedByIndex = leftByIndex = rightByIndex = null;\n\n  var junctionByPoint = hashset(junctionCount * 1.4, hashPoint, equalPoint), j;\n\n  // Convert back to a standard hashset by point for caller convenience.\n  for (i = 0, n = coordinates.length; i < n; ++i) {\n    if (junctionByIndex[j = indexes[i]]) {\n      junctionByPoint.add(coordinates[j]);\n    }\n  }\n\n  return junctionByPoint;\n}\n","export default function(size, hash, equal, type, empty) {\n  if (arguments.length === 3) {\n    type = Array;\n    empty = null;\n  }\n\n  var store = new type(size = 1 << Math.max(4, Math.ceil(Math.log(size) / Math.LN2))),\n      mask = size - 1;\n\n  for (var i = 0; i < size; ++i) {\n    store[i] = empty;\n  }\n\n  function add(value) {\n    var index = hash(value) & mask,\n        match = store[index],\n        collisions = 0;\n    while (match != empty) {\n      if (equal(match, value)) return true;\n      if (++collisions >= size) throw new Error(\"full hashset\");\n      match = store[index = (index + 1) & mask];\n    }\n    store[index] = value;\n    return true;\n  }\n\n  function has(value) {\n    var index = hash(value) & mask,\n        match = store[index],\n        collisions = 0;\n    while (match != empty) {\n      if (equal(match, value)) return true;\n      if (++collisions >= size) break;\n      match = store[index = (index + 1) & mask];\n    }\n    return false;\n  }\n\n  function values() {\n    var values = [];\n    for (var i = 0, n = store.length; i < n; ++i) {\n      var match = store[i];\n      if (match != empty) values.push(match);\n    }\n    return values;\n  }\n\n  return {\n    add: add,\n    has: has,\n    values: values\n  };\n}\n","// Extracts the lines and rings from the specified hash of geometry objects.\n//\n// Returns an object with three properties:\n//\n// * coordinates - shared buffer of [x, y] coordinates\n// * lines - lines extracted from the hash, of the form [start, end]\n// * rings - rings extracted from the hash, of the form [start, end]\n//\n// For each ring or line, start and end represent inclusive indexes into the\n// coordinates buffer. For rings (and closed lines), coordinates[start] equals\n// coordinates[end].\n//\n// For each line or polygon geometry in the input hash, including nested\n// geometries as in geometry collections, the `coordinates` array is replaced\n// with an equivalent `arcs` array that, for each line (for line string\n// geometries) or ring (for polygon geometries), points to one of the above\n// lines or rings.\nexport default function(objects) {\n  var index = -1,\n      lines = [],\n      rings = [],\n      coordinates = [];\n\n  function extractGeometry(geometry) {\n    if (geometry && extractGeometryType.hasOwnProperty(geometry.type)) extractGeometryType[geometry.type](geometry);\n  }\n\n  var extractGeometryType = {\n    GeometryCollection: function(o) { o.geometries.forEach(extractGeometry); },\n    LineString: function(o) { o.arcs = extractLine(o.arcs); },\n    MultiLineString: function(o) { o.arcs = o.arcs.map(extractLine); },\n    Polygon: function(o) { o.arcs = o.arcs.map(extractRing); },\n    MultiPolygon: function(o) { o.arcs = o.arcs.map(extractMultiRing); }\n  };\n\n  function extractLine(line) {\n    for (var i = 0, n = line.length; i < n; ++i) coordinates[++index] = line[i];\n    var arc = {0: index - n + 1, 1: index};\n    lines.push(arc);\n    return arc;\n  }\n\n  function extractRing(ring) {\n    for (var i = 0, n = ring.length; i < n; ++i) coordinates[++index] = ring[i];\n    var arc = {0: index - n + 1, 1: index};\n    rings.push(arc);\n    return arc;\n  }\n\n  function extractMultiRing(rings) {\n    return rings.map(extractRing);\n  }\n\n  for (var key in objects) {\n    extractGeometry(objects[key]);\n  }\n\n  return {\n    type: \"Topology\",\n    coordinates: coordinates,\n    lines: lines,\n    rings: rings,\n    objects: objects\n  };\n}\n","// Given an array of arcs in absolute (but already quantized!) coordinates,\n// converts to fixed-point delta encoding.\n// This is a destructive operation that modifies the given arcs!\nexport default function(arcs) {\n  var i = -1,\n      n = arcs.length;\n\n  while (++i < n) {\n    var arc = arcs[i],\n        j = 0,\n        k = 1,\n        m = arc.length,\n        point = arc[0],\n        x0 = point[0],\n        y0 = point[1],\n        x1,\n        y1;\n\n    while (++j < m) {\n      point = arc[j], x1 = point[0], y1 = point[1];\n      if (x1 !== x0 || y1 !== y0) arc[k++] = [x1 - x0, y1 - y0], x0 = x1, y0 = y1;\n    }\n\n    if (k === 1) arc[k++] = [0, 0]; // Each arc must be an array of two or more positions.\n\n    arc.length = k;\n  }\n\n  return arcs;\n}\n","import prune from \"./prune\";\n\nexport default function(topology, filter) {\n  var oldObjects = topology.objects,\n      newObjects = {},\n      key;\n\n  if (filter == null) filter = filterTrue;\n\n  function filterGeometry(input) {\n    var output, arcs;\n    switch (input.type) {\n      case \"Polygon\": {\n        arcs = filterRings(input.arcs);\n        output = arcs ? {type: \"Polygon\", arcs: arcs} : {type: null};\n        break;\n      }\n      case \"MultiPolygon\": {\n        arcs = input.arcs.map(filterRings).filter(filterIdentity);\n        output = arcs.length ? {type: \"MultiPolygon\", arcs: arcs} : {type: null};\n        break;\n      }\n      case \"GeometryCollection\": {\n        arcs = input.geometries.map(filterGeometry).filter(filterNotNull);\n        output = arcs.length ? {type: \"GeometryCollection\", geometries: arcs} : {type: null};\n        break;\n      }\n      default: return input;\n    }\n    if (input.id != null) output.id = input.id;\n    if (input.bbox != null) output.bbox = input.bbox;\n    if (input.properties != null) output.properties = input.properties;\n    return output;\n  }\n\n  function filterRings(arcs) {\n    return arcs.length && filterExteriorRing(arcs[0]) // if the exterior is small, ignore any holes\n        ? [arcs[0]].concat(arcs.slice(1).filter(filterInteriorRing))\n        : null;\n  }\n\n  function filterExteriorRing(ring) {\n    return filter(ring, false);\n  }\n\n  function filterInteriorRing(ring) {\n    return filter(ring, true);\n  }\n\n  for (key in oldObjects) {\n    newObjects[key] = filterGeometry(oldObjects[key]);\n  }\n\n  return prune({\n    type: \"Topology\",\n    bbox: topology.bbox,\n    transform: topology.transform,\n    objects: newObjects,\n    arcs: topology.arcs\n  });\n}\n\nfunction filterTrue() {\n  return true;\n}\n\nfunction filterIdentity(x) {\n  return x;\n}\n\nfunction filterNotNull(geometry) {\n  return geometry.type != null;\n}\n","export default function(topology) {\n  var oldObjects = topology.objects,\n      newObjects = {},\n      oldArcs = topology.arcs,\n      oldArcsLength = oldArcs.length,\n      oldIndex = -1,\n      newIndexByOldIndex = new Array(oldArcsLength),\n      newArcsLength = 0,\n      newArcs,\n      newIndex = -1,\n      key;\n\n  function scanGeometry(input) {\n    switch (input.type) {\n      case \"GeometryCollection\": input.geometries.forEach(scanGeometry); break;\n      case \"LineString\": scanArcs(input.arcs); break;\n      case \"MultiLineString\": input.arcs.forEach(scanArcs); break;\n      case \"Polygon\": input.arcs.forEach(scanArcs); break;\n      case \"MultiPolygon\": input.arcs.forEach(scanMultiArcs); break;\n    }\n  }\n\n  function scanArc(index) {\n    if (index < 0) index = ~index;\n    if (!newIndexByOldIndex[index]) newIndexByOldIndex[index] = 1, ++newArcsLength;\n  }\n\n  function scanArcs(arcs) {\n    arcs.forEach(scanArc);\n  }\n\n  function scanMultiArcs(arcs) {\n    arcs.forEach(scanArcs);\n  }\n\n  function reindexGeometry(input) {\n    var output;\n    switch (input.type) {\n      case \"GeometryCollection\": output = {type: \"GeometryCollection\", geometries: input.geometries.map(reindexGeometry)}; break;\n      case \"LineString\": output = {type: \"LineString\", arcs: reindexArcs(input.arcs)}; break;\n      case \"MultiLineString\": output = {type: \"MultiLineString\", arcs: input.arcs.map(reindexArcs)}; break;\n      case \"Polygon\": output = {type: \"Polygon\", arcs: input.arcs.map(reindexArcs)}; break;\n      case \"MultiPolygon\": output = {type: \"MultiPolygon\", arcs: input.arcs.map(reindexMultiArcs)}; break;\n      default: return input;\n    }\n    if (input.id != null) output.id = input.id;\n    if (input.bbox != null) output.bbox = input.bbox;\n    if (input.properties != null) output.properties = input.properties;\n    return output;\n  }\n\n  function reindexArc(oldIndex) {\n    return oldIndex < 0 ? ~newIndexByOldIndex[~oldIndex] : newIndexByOldIndex[oldIndex];\n  }\n\n  function reindexArcs(arcs) {\n    return arcs.map(reindexArc);\n  }\n\n  function reindexMultiArcs(arcs) {\n    return arcs.map(reindexArcs);\n  }\n\n  for (key in oldObjects) {\n    scanGeometry(oldObjects[key]);\n  }\n\n  newArcs = new Array(newArcsLength);\n\n  while (++oldIndex < oldArcsLength) {\n    if (newIndexByOldIndex[oldIndex]) {\n      newIndexByOldIndex[oldIndex] = ++newIndex;\n      newArcs[newIndex] = oldArcs[oldIndex];\n    }\n  }\n\n  for (key in oldObjects) {\n    newObjects[key] = reindexGeometry(oldObjects[key]);\n  }\n\n  return {\n    type: \"Topology\",\n    bbox: topology.bbox,\n    transform: topology.transform,\n    objects: newObjects,\n    arcs: newArcs\n  };\n}\n","export default function(topology) {\n  var ownerByArc = new Array(topology.arcs.length), // arc index -> index of unique associated ring, or -1 if used by multiple rings\n      ownerIndex = 0,\n      key;\n\n  function testGeometry(o) {\n    switch (o.type) {\n      case \"GeometryCollection\": o.geometries.forEach(testGeometry); break;\n      case \"Polygon\": testArcs(o.arcs); break;\n      case \"MultiPolygon\": o.arcs.forEach(testArcs); break;\n    }\n  }\n\n  function testArcs(arcs) {\n    for (var i = 0, n = arcs.length; i < n; ++i, ++ownerIndex) {\n      for (var ring = arcs[i], j = 0, m = ring.length; j < m; ++j) {\n        var arc = ring[j];\n        if (arc < 0) arc = ~arc;\n        var owner = ownerByArc[arc];\n        if (owner == null) ownerByArc[arc] = ownerIndex;\n        else if (owner !== ownerIndex) ownerByArc[arc] = -1;\n      }\n    }\n  }\n\n  for (key in topology.objects) {\n    testGeometry(topology.objects[key]);\n  }\n\n  return function(ring) {\n    for (var j = 0, m = ring.length, arc; j < m; ++j) {\n      if (ownerByArc[(arc = ring[j]) < 0 ? ~arc : arc] === -1) {\n        return true;\n      }\n    }\n    return false;\n  };\n}\n","export function planarTriangleArea(triangle) {\n  var a = triangle[0], b = triangle[1], c = triangle[2];\n  return Math.abs((a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1])) / 2;\n}\n\nexport function planarRingArea(ring) {\n  var i = -1, n = ring.length, a, b = ring[n - 1], area = 0;\n  while (++i < n) a = b, b = ring[i], area += a[0] * b[1] - a[1] * b[0];\n  return Math.abs(area) / 2;\n}\n","import {feature} from \"topojson-client\";\nimport {planarRingArea} from \"./planar\";\n\nexport default function(topology, minWeight, weight) {\n  minWeight = minWeight == null ? Number.MIN_VALUE : +minWeight;\n\n  if (weight == null) weight = planarRingArea;\n\n  return function(ring, interior) {\n    return weight(feature(topology, {type: \"Polygon\", arcs: [ring]}).geometry.coordinates[0], interior) >= minWeight;\n  };\n}\n","import filterAttached from \"./filterAttached\";\nimport filterWeight from \"./filterWeight\";\n\nexport default function(topology, minWeight, weight) {\n  var a = filterAttached(topology),\n      w = filterWeight(topology, minWeight, weight);\n  return function(ring, interior) {\n    return a(ring, interior) || w(ring, interior);\n  };\n}\n","function compare(a, b) {\n  return a[1][2] - b[1][2];\n}\n\nexport default function() {\n  var heap = {},\n      array = [],\n      size = 0;\n\n  heap.push = function(object) {\n    up(array[object._ = size] = object, size++);\n    return size;\n  };\n\n  heap.pop = function() {\n    if (size <= 0) return;\n    var removed = array[0], object;\n    if (--size > 0) object = array[size], down(array[object._ = 0] = object, 0);\n    return removed;\n  };\n\n  heap.remove = function(removed) {\n    var i = removed._, object;\n    if (array[i] !== removed) return; // invalid request\n    if (i !== --size) object = array[size], (compare(object, removed) < 0 ? up : down)(array[object._ = i] = object, i);\n    return i;\n  };\n\n  function up(object, i) {\n    while (i > 0) {\n      var j = ((i + 1) >> 1) - 1,\n          parent = array[j];\n      if (compare(object, parent) >= 0) break;\n      array[parent._ = i] = parent;\n      array[object._ = i = j] = object;\n    }\n  }\n\n  function down(object, i) {\n    while (true) {\n      var r = (i + 1) << 1,\n          l = r - 1,\n          j = i,\n          child = array[j];\n      if (l < size && compare(array[l], child) < 0) child = array[j = l];\n      if (r < size && compare(array[r], child) < 0) child = array[j = r];\n      if (j === i) break;\n      array[child._ = i] = child;\n      array[object._ = i = j] = object;\n    }\n  }\n\n  return heap;\n}\n","import {transform} from \"topojson-client\";\nimport newHeap from \"./heap\";\nimport {planarTriangleArea} from \"./planar\";\n\nfunction copy(point) {\n  return [point[0], point[1], 0];\n}\n\nexport default function(topology, weight) {\n  var point = topology.transform ? transform(topology.transform) : copy,\n      heap = newHeap();\n\n  if (weight == null) weight = planarTriangleArea;\n\n  var arcs = topology.arcs.map(function(arc) {\n    var triangles = [],\n        maxWeight = 0,\n        triangle,\n        i,\n        n;\n\n    arc = arc.map(point);\n\n    for (i = 1, n = arc.length - 1; i < n; ++i) {\n      triangle = [arc[i - 1], arc[i], arc[i + 1]];\n      triangle[1][2] = weight(triangle);\n      triangles.push(triangle);\n      heap.push(triangle);\n    }\n\n    // Always keep the arc endpoints!\n    arc[0][2] = arc[n][2] = Infinity;\n\n    for (i = 0, n = triangles.length; i < n; ++i) {\n      triangle = triangles[i];\n      triangle.previous = triangles[i - 1];\n      triangle.next = triangles[i + 1];\n    }\n\n    while (triangle = heap.pop()) {\n      var previous = triangle.previous,\n          next = triangle.next;\n\n      // If the weight of the current point is less than that of the previous\n      // point to be eliminated, use the latter’s weight instead. This ensures\n      // that the current point cannot be eliminated without eliminating\n      // previously- eliminated points.\n      if (triangle[1][2] < maxWeight) triangle[1][2] = maxWeight;\n      else maxWeight = triangle[1][2];\n\n      if (previous) {\n        previous.next = next;\n        previous[2] = triangle[2];\n        update(previous);\n      }\n\n      if (next) {\n        next.previous = previous;\n        next[0] = triangle[0];\n        update(next);\n      }\n    }\n\n    return arc;\n  });\n\n  function update(triangle) {\n    heap.remove(triangle);\n    triangle[1][2] = weight(triangle);\n    heap.push(triangle);\n  }\n\n  return {\n    type: \"Topology\",\n    bbox: topology.bbox,\n    objects: topology.objects,\n    arcs: arcs\n  };\n}\n","export default function(topology, p) {\n  var array = [];\n\n  topology.arcs.forEach(function(arc) {\n    arc.forEach(function(point) {\n      if (isFinite(point[2])) { // Ignore endpoints, whose weight is Infinity.\n        array.push(point[2]);\n      }\n    });\n  });\n\n  return array.length && quantile(array.sort(descending), p);\n}\n\nfunction quantile(array, p) {\n  if (!(n = array.length)) return;\n  if ((p = +p) <= 0 || n < 2) return array[0];\n  if (p >= 1) return array[n - 1];\n  var n,\n      h = (n - 1) * p,\n      i = Math.floor(h),\n      a = array[i],\n      b = array[i + 1];\n  return a + (b - a) * (h - i);\n}\n\nfunction descending(a, b) {\n  return b - a;\n}\n","export default function(topology, minWeight) {\n  minWeight = minWeight == null ? Number.MIN_VALUE : +minWeight;\n\n  // Remove points whose weight is less than the minimum weight.\n  var arcs = topology.arcs.map(function(input) {\n    var i = -1,\n        j = 0,\n        n = input.length,\n        output = new Array(n), // pessimistic\n        point;\n\n    while (++i < n) {\n      if ((point = input[i])[2] >= minWeight) {\n        output[j++] = [point[0], point[1]];\n      }\n    }\n\n    output.length = j;\n    return output;\n  });\n\n  return {\n    type: \"Topology\",\n    transform: topology.transform,\n    bbox: topology.bbox,\n    objects: topology.objects,\n    arcs: arcs\n  };\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    quarterPi = pi / 4,\n    radians = pi / 180,\n    abs = Math.abs,\n    atan2 = Math.atan2,\n    cos = Math.cos,\n    sin = Math.sin;\n\nfunction halfArea(ring, closed) {\n  var i = 0,\n      n = ring.length,\n      sum = 0,\n      point = ring[closed ? i++ : n - 1],\n      lambda0, lambda1 = point[0] * radians,\n      phi1 = (point[1] * radians) / 2 + quarterPi,\n      cosPhi0, cosPhi1 = cos(phi1),\n      sinPhi0, sinPhi1 = sin(phi1);\n\n  for (; i < n; ++i) {\n    point = ring[i];\n    lambda0 = lambda1, lambda1 = point[0] * radians;\n    phi1 = (point[1] * radians) / 2 + quarterPi;\n    cosPhi0 = cosPhi1, cosPhi1 = cos(phi1);\n    sinPhi0 = sinPhi1, sinPhi1 = sin(phi1);\n\n    // Spherical excess E for a spherical triangle with vertices: south pole,\n    // previous point, current point.  Uses a formula derived from Cagnoli’s\n    // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n    // See https://github.com/d3/d3-geo/blob/master/README.md#geoArea\n    var dLambda = lambda1 - lambda0,\n        sdLambda = dLambda >= 0 ? 1 : -1,\n        adLambda = sdLambda * dLambda,\n        k = sinPhi0 * sinPhi1,\n        u = cosPhi0 * cosPhi1 + k * cos(adLambda),\n        v = k * sdLambda * sin(adLambda);\n    sum += atan2(v, u);\n  }\n\n  return sum;\n}\n\nexport function sphericalRingArea(ring, interior) {\n  var sum = halfArea(ring, true);\n  if (interior) sum *= -1;\n  return (sum < 0 ? tau + sum : sum) * 2;\n}\n\nexport function sphericalTriangleArea(t) {\n  return abs(halfArea(t, false)) * 2;\n}\n","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob()\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ]\n\n    var isDataView = function(obj) {\n      return obj && DataView.prototype.isPrototypeOf(obj)\n    }\n\n    var isArrayBufferView = ArrayBuffer.isView || function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift()\n        return {done: value === undefined, value: value}\n      }\n    }\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      }\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1])\n      }, this)\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var oldValue = this.map[name]\n    this.map[name] = oldValue ? oldValue+','+value : value\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name)\n    return this.has(name) ? this.map[name] : null\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value)\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this)\n      }\n    }\n  }\n\n  Headers.prototype.keys = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push(name) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.values = function() {\n    var items = []\n    this.forEach(function(value) { items.push(value) })\n    return iteratorFor(items)\n  }\n\n  Headers.prototype.entries = function() {\n    var items = []\n    this.forEach(function(value, name) { items.push([name, value]) })\n    return iteratorFor(items)\n  }\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsArrayBuffer(blob)\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    var promise = fileReaderReady(reader)\n    reader.readAsText(blob)\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf)\n    var chars = new Array(view.length)\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i])\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength)\n      view.set(new Uint8Array(buf))\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (!body) {\n        this._bodyText = ''\n      } else if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString()\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer)\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer])\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body)\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      }\n    }\n\n    this.text = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = String(input)\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, { body: this._bodyInit })\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers()\n    rawHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':')\n      var key = parts.shift().trim()\n      if (key) {\n        var value = parts.join(':').trim()\n        headers.append(key, value)\n      }\n    })\n    return headers\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = 'status' in options ? options.status : 200\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = 'statusText' in options ? options.statusText : 'OK'\n    this.headers = new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init)\n      var xhr = new XMLHttpRequest()\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        }\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n        var body = 'response' in xhr ? xhr.response : xhr.responseText\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t826: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","__webpack_require__.nc = undefined;","const { h, render } = require(\"preact\");\nconst { getData, getScrollytellers, getCharts } = require(\"./loader\");\n\nconst init = async () => {\n  const data = await getData();\n\n  getScrollytellers().forEach((section) => {\n    mount(section.mountNode, data, section);\n  });\n\n  getCharts().forEach((chart) => mount(chart.mountNode, data));\n};\n\nlet mount = (element, data, section) => {\n  let App = require(\"./components/app\");\n  render(<App section={section} data={data} />, element, element.lastChild);\n};\n\n// Do some hot reload magic with errors\nif (module.hot) {\n  // Wrap the actual mounter in an error trap\n  let mountFunction = mount;\n  mount = (element, data, section) => {\n    try {\n      mountFunction(element, data, section);\n    } catch (e) {\n      // Render the error to the screen in place of the actual app\n      console.error(e);\n      const ErrorBox = require(\"./error-box\");\n      render(<ErrorBox error={e} />, element, element.lastChild);\n    }\n  };\n\n  // If a new app build is detected try rendering it\n  module.hot.accept(\"./components/app\", () => {\n    setTimeout(init);\n  });\n}\n\nif (window.__ODYSSEY__) {\n  init();\n} else {\n  window.addEventListener(\"odyssey:api\", init);\n}\n"],"names":["module","exports","Array","from","isCallable","maxSafeInteger","toLength","iteratorProp","getMethod","iteratorStep","fn","Math","pow","value","len","number","Number","isNaN","isFinite","floor","abs","toInteger","min","max","indexOf","Symbol","iterator","O","P","func","TypeError","result","next","Boolean","done","items","T","A","k","C","this","mapFn","arguments","length","usingIterator","Object","nextValue","call","arrayLike","kValue","require","Component","h","Scrolly","Plot","App","props","data","section","Map","styles","Background","marker","isFixed","ref","el","wrapper","className","attachment","legend","legendTitle","legendBar","legendLabels","legendLabel","svg","features","mapZoom","path","locationLabel","otherLabels","width","height","projection","d3","TopoJSON","Geo","scale","mapJSON","mapX","mapY","electorate","findElectorate","bind","onResize","initMap","createLabel","updateLabel","zoomTo","nextProps","window","__ODYSSEY__","scheduler","subscribe","unsubscribe","viewport","geoMercator","center","translate","geoPath","forEach","f","properties","support","getIn","elect_div","toUpperCase","name","x","centroid","y","attr","selectAll","find","datum","toLowerCase","replace","innerWidth","innerHeight","feature","objects","map","select","append","colours","enter","style","d","on","config","label","locationLabelBalloon","balloonWidth","text","bounds","round","wasClicked","renderMain","others","renderOthers","l","and","concat","minX","maxX","minY","maxY","zoom","parseInt","b","hide","names","index","push","sort","a","state","transition","duration","middleZoom","diffX","diffY","diffZoom","setState","Marker","element","nodes","node","removeChild","reference","detail","appendChild","Immutable","sortBy","is","nextData","colour","sortedData","get","toolbar","onClick","e","activeButton","table","row","guide","toList","bar","barValue","toJS","initMarkers","onScroll","markers","currentMarker","isBackgroundFixed","view","fold","pastMarkers","filter","getBoundingClientRect","top","lastSeenMarker","backgroundAttachment","bottom","markerClass","firstMarker","lastMarker","isCurrentMarker","Scale","scaleQuantize","domain","range","Element","prototype","matches","msMatchesSelector","webkitMatchesSelector","INSTANCE_ID","random","toString","MOUNT_SELECTOR_TEMPLATE","MOUNT_SELECTOR","join","mountSelectorCache","cachedMountSelector","cacheKey","exactMountSelector","prefixedMountSelector","prefix","selectMounts","selector","_temp","_ref","_ref$exact","exact","_ref$includeOwnUsed","includeOwnUsed","_ref$markAsUsed","markAsUsed","_ref$convertToBlock","convertToBlock","s","undefined","document","querySelectorAll","Node","isNode","nodeType","ELEMENT_NODE","isElement","isMount","mount","dataset","mountUsed","isUsedBy","isUsed","Error","useMount","blockEl","tagName","parentEl","parentElement","createElement","id","getAttribute","setAttribute","createBlockMountBasedOnInlineMount","insertBefore","ensureBlockMount","scrollytellers","charts","arrayFrom","getData","split","slice","parseFloat","fromJS","getScrollytellers","anchorEl","innerHTML","parentNode","replaceChild","utils","mounts","getSections","mountNode","startNode","nextConfig","nextNodes","idx","pushMarker","betweenNodes","configString","RegExp","string","match","o","key","alternatingCaseToObject","hash","piecemeal","mountable","getCharts","___CSS_LOADER_EXPORT___","locals","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_REPLACEMENT_0___","cssWithMappingToString","list","item","content","needLayer","i","modules","media","dedupe","supports","layer","alreadyImportedModules","_k","url","options","String","__esModule","default","test","needQuotes","NaN","compare","left","lo","hi","mid","right","ascendingBisect","bisector","bisectRight","array","e10","sqrt","e5","e2","start","stop","count","reverse","n","ticks","step","tickIncrement","ceil","power","log","LN10","error","step0","step1","arrays","m","merged","j","values","p","valueof","i0","value0","object","each","set","isArray","constructor","has","remove","property","clear","keys","entries","size","empty","Set","proto","add","factory","extend","parent","definition","create","Color","darker","brighter","reI","reN","reP","reHex3","reHex6","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color","format","trim","exec","Rgb","rgbn","rgba","hsla","hasOwnProperty","r","g","rgbConvert","rgb","opacity","Hsl","hslConvert","hsl","hsl2rgb","m1","m2","displayable","deg2rad","PI","rad2deg","Xn","Zn","t0","t1","t2","labConvert","Lab","Hcl","cos","c","sin","rgb2xyz","xyz2lab","t","lab2xyz","xyz2rgb","hclConvert","atan2","hcl","z","B","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","cosh","sinh","noop","dispatch","_","Dispatch","parseTypenames","typenames","types","type","callback","typename","copy","that","args","apply","force","sx","sy","initialize","tree","xm","ym","xp","yp","_root","leaf","x0","_x0","y0","_y0","x1","_x1","y1","_y1","_x","_y","defaultX","defaultY","quadtree","Quadtree","addAll","leaf_copy","treeProto","vx","vy","radius","radii","strength","iterations","xi","yi","ri","ri2","visitAfter","prepare","visit","quad","rj","jiggle","constant","child","source","target","pop","cover","xz","yz","Infinity","extent","x2","y2","q","x3","y3","quads","dx","dy","d2","retainer","previous","removeAll","root","nodeById","nodeId","links","strengths","distances","bias","link","distance","alpha","initializeStrength","initializeDistance","initialAngle","simulation","alphaMin","alphaDecay","alphaTarget","velocityDecay","forces","stepper","event","tick","fx","fy","initializeNodes","angle","initializeForce","restart","closest","distanceMin2","distanceMax2","theta2","accumulate","weight","w","distanceMin","distanceMax","theta","radiuses","Adder","reset","temp","valueOf","adder","bv","av","epsilon","pi","halfPi","quarterPi","tau","degrees","radians","atan","exp","sign","acos","asin","haversin","streamGeometry","geometry","stream","streamGeometryType","streamObjectType","Feature","FeatureCollection","Sphere","sphere","Point","coordinates","point","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","lineStart","lineEnd","polygonStart","polygonEnd","lambda00","phi00","lambda0","cosPhi0","sinPhi0","areaRingSum","areaSum","areaStream","areaRingStart","areaRingEnd","areaRing","areaPointFirst","areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","u","v","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","phi0","lambda1","phi1","lambda2","p0","ranges","W0","W1","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","z0","deltaSum","boundsStream","boundsPoint","boundsLineStart","boundsLineEnd","boundsRingPoint","boundsRingStart","boundsRingEnd","linePoint","normal","inflection","phii","delta","lambdai","antimeridian","rangeCompare","rangeContains","deltaMax","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroidPointCartesian","centroidLinePointFirst","centroidLinePoint","centroidRingPointFirst","centroidRingPoint","cx","cy","cz","compose","invert","rotationIdentity","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","rotate","forward","circleStream","direction","cosRadius","sinRadius","circleRadius","ring","precision","circle","line","lines","rejoin","shift","Intersection","points","other","entry","segments","compareIntersection","startInside","interpolate","subject","clip","segment","p1","pointEqual","current","isSubject","sum","polygon","winding","point0","sinPhi1","cosPhi1","point1","absDelta","arc","intersection","phiArc","pointVisible","clipLine","sink","ringBuffer","ringSink","polygonStarted","pointRing","ringStart","ringEnd","polygonContains","pointLine","clean","ringSegments","validSegment","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","to","cr","smallRadius","notHemisphere","visible","intersect","two","n1","n2","n2n2","n1n2","determinant","c1","c2","n1xn2","uu","polar","q1","code","c0","v0","v00","point2","clipMax","clipMin","clipRectangle","a1","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","first","activeStream","bufferStream","clipStream","a0","b0","b1","polygonInside","cleanInside","ax","ay","cache","cacheStream","lengthSum","lengthStream","lengthPointFirst","lengthLineEnd","lengthPoint","cosDelta","containsObjectType","containsGeometry","containsGeometryType","containsPoint","containsLine","containsPolygon","ab","ringRadians","pointRadians","graticuleX","graticuleY","graticule","X","Y","DX","DY","outline","extentMajor","extentMinor","stepMajor","stepMinor","graticule10","cy0","sy0","cy1","sy1","kx0","ky0","kx1","ky1","x00","y00","area","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","context","_context","_radius","pointRadius","_line","_point","closePath","moveTo","lineTo","lengthRing","PathString","_string","projectionStream","contextStream","measure","identity","methods","transformer","TransformStream","fit","fitBounds","clipExtent","fitExtent","fitSize","fitWidth","fitHeight","_circle","cosMinDistance","project","delta2","resampleLineTo","depth","phi2","dx2","dy2","dz","a00","b00","c00","resampleStream","ringPoint","resampleNone","transformRadians","projectionMutator","projectAt","projectRotate","preclip","postclip","projectResample","resample","projectTransform","recenter","transformRotate","clipAngle","conicProjection","parallels","conicEqualAreaRaw","cylindricalEqualAreaRaw","r0","r0y","conicEqualArea","lower48Point","alaskaPoint","hawaiiPoint","lower48","albers","alaska","hawaii","pointStream","albersUsa","streams","azimuthalRaw","azimuthalInvert","sc","cc","azimuthalEqualAreaRaw","cxcy","azimuthalEquidistantRaw","mercatorRaw","mercatorProjection","reclip","tany","conicConformalRaw","equirectangularRaw","conicEquidistantRaw","gy","nx","gnomonicRaw","scaleTranslate","kx","ky","tx","ty","transform","reflectX","reflectY","naturalEarth1Raw","phi4","orthographicRaw","stereographicRaw","transverseMercatorRaw","basis","v1","v2","v3","t3","linear","hue","nogamma","rgbGamma","exponential","gamma","end","rgbSpline","spline","colors","nb","na","Date","setTime","reA","reB","am","bm","bs","bi","lastIndex","one","zero","date","cssNode","cssRoot","cssView","svgNode","translateX","translateY","skewX","scaleX","scaleY","interpolateTransform","parse","pxComma","pxParen","degParen","xa","ya","xb","yb","interpolateTransformCss","documentElement","defaultView","getComputedStyle","getPropertyValue","decompose","interpolateTransformSvg","createElementNS","baseVal","consolidate","matrix","cubehelixGamma","SQRT2","cubehelixLong","implicit","ordinal","unknown","band","bandwidth","ordinalRange","paddingInner","paddingOuter","align","rescale","rangeRound","padding","pointish","prefixExponent","unit","deinterpolateLinear","bimap","deinterpolate","reinterpolate","d0","d1","r1","polymap","clamp","continuous","piecewise","output","input","deinterpolateClamp","reinterpolateClamp","toExponential","coefficient","formatDecimal","exponent","out","i1","toPrecision","toFixed","formatRounded","re","formatSpecifier","specifier","FormatSpecifier","fill","symbol","comma","formatTypes","formatPrefix","prefixes","linearish","tickFormat","precisionPrefix","precisionRound","precisionFixed","nice","interval","pow10","powp","base","logp","log10","log2","reflect","logs","pows","raise","quantile","thresholds","invertExtent","quantiles","quantize","threshold","locale","grouping","thousands","group","substring","currency","decimal","numerals","formatNumerals","percent","newFormat","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","charCodeAt","newInterval","floori","offseti","field","offset","every","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","second","getUTCSeconds","minute","getMinutes","hour","getTimezoneOffset","getHours","day","setHours","setDate","getDate","weekday","getDay","sunday","monday","tuesday","wednesday","thursday","friday","saturday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcTuesday","utcWednesday","utcThursday","utcFriday","utcSaturday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","localDate","H","M","S","L","utcDate","UTC","newYear","timeFormat","utcFormat","utcParse","pads","numberRe","percentRe","requoteRe","pad","requote","formatRe","formatLookup","parseWeekdayNumberSunday","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","getMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","getSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","newDate","week","formatLocale","isoSpecifier","toISOString","durationYear","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","tickIntervals","tickInterval","warm","cool","rainbow","ts","ramp","magma","inferno","plasma","sequential","interpolator","xhtml","xlink","xml","xmlns","namespaces","space","local","creatorInherit","ownerDocument","uri","namespaceURI","creatorFixed","fullname","namespace","nextId","Local","matcher","vendorMatches","mozMatchesSelector","oMatchesSelector","filterEvents","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","__data__","onRemove","__on","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","sourceEvent","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","clientLeft","clientTop","changedTouches","none","querySelector","update","EnterNode","_next","_parent","bindIndex","exit","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","ascending","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","classedAdd","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","htmlConstant","htmlFunction","nextSibling","lower","previousSibling","firstChild","constantNull","dispatchEvent","params","CustomEvent","createEvent","initEvent","bubbles","cancelable","dispatchConstant","dispatchFunction","mouseenter","mouseleave","splice","contains","Selection","groups","parents","_groups","_parents","selection","subgroups","subnode","subgroup","selectorAll","enterGroup","updateGroup","_enter","_exit","sparse","merge","groups0","groups1","m0","merges","group0","group1","order","compareNode","sortgroups","sortgroup","getAttributeNS","classed","html","creator","insert","before","touches","identifier","touch","taskHead","taskTail","timeout","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","setTimeout","clearNow","_call","_time","timer","delay","wake","timerFlush","sleep","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","emptyOn","emptyTween","timing","schedules","__transition","self","tween","ease","init","schedule","active","tweenRemove","tween0","tween1","tweenFunction","tweenValue","_id","value1","value00","interpolate0","value10","attrTweenNS","_value","attrTween","delayFunction","delayConstant","durationFunction","durationConstant","easeConstant","onFunction","on0","on1","sit","styleTween","Transition","_name","newId","selection_prototype","children","inherit","id0","id1","styleRemoveEnd","removeFunction","custom","polyIn","polyOut","polyInOut","overshoot","backIn","backOut","backInOut","defaultTiming","elasticIn","amplitude","period","elasticOut","elasticInOut","interrupt","isFunction","vertxNext","customSchedulerFn","asap","arg","queue","flush","scheduleFlush","browserWindow","browserGlobal","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","process","isWorker","Uint8ClampedArray","importScripts","MessageChannel","useSetTimeout","globalSetTimeout","channel","observer","then","onFulfillment","onRejection","_arguments","PROMISE_ID","makePromise","_state","invokeCallback","_result","resolve$1","promise","resolve","nextTick","createTextNode","observe","characterData","port1","onmessage","port2","postMessage","vertx","runOnLoop","runOnContext","attemptVertx","PENDING","GET_THEN_ERROR","ErrorObject","getThen","handleMaybeThenable","maybeThenable","then$$1","thenable","fulfill","reject","reason","handleOwnThenable","sealed","fulfillmentHandler","rejectionHandler","tryThen","_label","handleForeignThenable","publishRejection","_onerror","publish","_subscribers","subscribers","settled","TRY_CATCH_ERROR","hasCallback","succeeded","failed","tryCatch","Enumerator$1","Constructor","_instanceConstructor","_remaining","_enumerate","Promise$2","resolver","needsResolver","initializePromise","needsNew","_eachEntry","resolve$$1","_then","_settledAt","_willSettleAt","enumerator","all","race","_setScheduler","scheduleFn","_setAsap","asapFn","_asap","polyfill","Function","Promise","promiseToString","cast","SLICE$0","createClass","ctor","superClass","Iterable","isIterable","Seq","KeyedIterable","isKeyed","KeyedSeq","IndexedIterable","isIndexed","IndexedSeq","SetIterable","isAssociative","SetSeq","maybeIterable","IS_ITERABLE_SENTINEL","maybeKeyed","IS_KEYED_SENTINEL","maybeIndexed","IS_INDEXED_SENTINEL","maybeAssociative","isOrdered","maybeOrdered","IS_ORDERED_SENTINEL","Keyed","Indexed","SIZE","MASK","NOT_SET","CHANGE_LENGTH","DID_ALTER","MakeRef","SetRef","OwnerID","arrCopy","arr","newArr","ii","ensureSize","iter","__iterate","returnTrue","wrapIndex","uint32Index","wholeSlice","begin","resolveBegin","resolveIndex","resolveEnd","defaultIndex","REAL_ITERATOR_SYMBOL","FAUX_ITERATOR_SYMBOL","ITERATOR_SYMBOL","Iterator","iteratorValue","iteratorResult","iteratorDone","hasIterator","getIteratorFn","isIterator","maybeIterator","getIterator","iterable","iteratorFn","isArrayLike","emptySequence","toSeq","seq","maybeIndexedSeqFromValue","ObjectSeq","seqFromValue","toKeyedSeq","fromEntrySeq","keyedSeqFromValue","entrySeq","toIndexedSeq","indexedSeqFromValue","toSetSeq","KEYS","VALUES","ENTRIES","inspect","toSource","of","__toString","cacheResult","_cache","__iterateUncached","toArray","seqIterate","__iterator","seqIterator","isSeq","EMPTY_SEQ","EMPTY_REPEAT","EMPTY_RANGE","IS_SEQ_SENTINEL","ArraySeq","_array","_object","_keys","IterableSeq","_iterable","IteratorSeq","_iterator","_iteratorCache","maybeSeq","useKeys","maxIndex","__iteratorUncached","json","converter","fromJSWith","fromJSDefault","parentJSON","isPlainObj","toMap","valueA","valueB","equals","deepEqual","__hash","notAssociative","flipped","allEqual","bSize","Repeat","times","invariant","condition","Range","_start","_end","_step","Collection","KeyedCollection","IndexedCollection","SetCollection","notSetValue","val","includes","searchValue","lastIndexOf","this$0","possibleIndex","offsetValue","imul","smi","i32","STRING_HASH_CACHE_MIN_STRLEN","stringHashCache","hashString","STRING_HASH_CACHE_SIZE","STRING_HASH_CACHE_MAX_SIZE","cachedHashString","hashCode","obj","usingWeakMap","weakMap","UID_HASH_KEY","canDefineProperty","propertyIsEnumerable","uniqueID","getIENodeHash","objHashUID","isExtensible","defineProperty","hashJSObj","WeakMap","assertNotInfinite","emptyMap","isMap","withMutations","maybeMap","IS_MAP_SENTINEL","updateMap","setIn","keyPath","updateIn","deleteIn","updater","updatedValue","updateInDeepMap","forceIterator","__ownerID","__altered","mergeIntoMapWith","mergeWith","merger","mergeIn","iters","mergeDeep","deepMerger","mergeDeepWith","deepMergerWith","mergeDeepIn","comparator","OrderedMap","sortFactory","mapper","mutable","asMutable","wasAltered","__ensureOwner","asImmutable","MapIterator","iterate","ownerID","makeMap","EMPTY_MAP","MapPrototype","ArrayMapNode","BitmapIndexedNode","bitmap","HashArrayMapNode","HashCollisionNode","keyHash","ValueNode","_type","_reverse","_stack","mapIteratorFrame","mapIteratorValue","prev","__prev","newRoot","newSize","didChangeSize","didAlter","updateNode","isLeafNode","mergeIntoNode","newNode","idx1","idx2","iterables","mergeIntoCollectionWith","existing","collection","mergeIntoMap","keyPathIter","isNotSet","existingValue","newValue","nextExisting","nextUpdated","popCount","canEdit","newArray","removeIn","removed","exists","MAX_ARRAY_MAP_SIZE","createNodes","isEditable","newEntries","bit","keyHashFrag","MAX_BITMAP_INDEXED_SIZE","including","expandedNodes","expandNodes","newBitmap","newNodes","newLen","after","spliceOut","spliceIn","newCount","MIN_HASH_ARRAY_MAP_SIZE","excluding","packedII","packedNodes","packNodes","keyMatch","stack","subNode","List","emptyList","isList","makeList","VNode","setSize","maybeList","IS_LIST_SENTINEL","listNodeFor","_origin","setListBounds","newTail","_tail","getTailOffset","_capacity","updateVNode","_level","updateList","oldSize","unshift","mergeIntoListWith","iterateList","DONE","ListPrototype","removeBefore","level","originIndex","newChild","removingFirst","oldChild","editable","editableVNode","removeAfter","sizeIndex","EMPTY_LIST","EMPTY_ORDERED_MAP","tailPos","tail","iterateNodeOrLeaf","iterateLeaf","iterateNode","origin","capacity","nodeHas","lowerNode","newLowerNode","rawIndex","owner","oldOrigin","oldCapacity","newOrigin","newCapacity","newLevel","offsetShift","oldTailOffset","newTailOffset","oldTail","beginIndex","maxSize","emptyOrderedMap","isOrderedMap","maybeOrderedMap","makeOrderedMap","omap","_map","_list","updateOrderedMap","newMap","newList","flip","ToKeyedSequence","indexed","_iter","_useKeys","ToIndexedSequence","ToSetSequence","FromEntriesSequence","flipFactory","flipSequence","makeSequence","reversedSequence","cacheResultThrough","mapFactory","mappedSequence","reverseFactory","filterFactory","predicate","filterSequence","sliceFactory","originalSize","resolvedBegin","resolvedEnd","sliceSize","resolvedSize","sliceSeq","skipped","isSkipping","skipWhileFactory","skipSequence","skipping","concatFactory","isKeyedIterable","singleton","concatSeq","flatten","reduce","flattenFactory","flatSequence","stopped","flatDeep","currentDepth","defaultComparator","maxFactory","maxCompare","comp","zipWithFactory","keyIter","zipper","zipSequence","iterators","isDone","steps","some","reify","validateEntry","resolveSize","iterableClass","Record","defaultValues","hasInitialized","RecordType","setProp","setProps","RecordTypePrototype","_defaultValues","RecordPrototype","valueSeq","indexedIterable","recordName","defaultVal","_empty","makeRecord","likeRecord","record","getPrototypeOf","emptySet","isSet","maybeSet","IS_SET_SENTINEL","fromKeys","keySeq","updateSet","union","originalSet","subtract","OrderedSet","__make","EMPTY_SET","SetPrototype","__empty","makeSet","emptyOrderedSet","isOrderedSet","maybeOrderedSet","EMPTY_ORDERED_SET","OrderedSetPrototype","makeOrderedSet","Stack","emptyStack","isStack","unshiftAll","maybeStack","IS_STACK_SENTINEL","head","_head","peek","makeStack","pushAll","EMPTY_STACK","StackPrototype","mixin","keyCopier","getOwnPropertySymbols","__toJS","toJSON","toObject","toOrderedMap","toOrderedSet","toSet","toStack","__toStringMapper","returnValue","findEntry","sideEffect","separator","joined","isFirst","reducer","initialReduction","reduction","useFirst","reduceRight","reversed","not","butLast","isEmpty","countBy","grouper","countByFactory","entriesSequence","entryMapper","filterNot","found","findKey","findLast","findLastEntry","findLastKey","flatMap","coerce","flatMapFactory","searchKey","searchKeyPath","nested","groupBy","isKeyedIter","groupByFactory","hasIn","isSubset","isSuperset","keyOf","keyMapper","last","lastKeyOf","maxBy","neg","defaultNegComparator","minBy","rest","skip","amount","skipLast","skipWhile","skipUntil","take","takeLast","takeWhile","takeSequence","iterating","takeWhileFactory","takeUntil","ordered","keyed","murmurHashOfSize","hashMerge","hashIterable","IterablePrototype","quoteString","chain","mapEntries","mapKeys","KeyedIterablePrototype","JSON","stringify","defaultZipper","findIndex","removeNum","numArgs","spliced","findLastIndex","interpose","interposedSequence","interposeFactory","interleave","zipped","interleaved","zip","zipWith","fetch","ret","EMPTY_CHILDREN","nodeName","attributes","lastSimple","simple","vnode","defer","cloneElement","IS_NON_DIMENSIONAL","enqueueRender","component","_dirty","debounceRendering","rerender","renderComponent","isSameNodeType","hydrating","splitText","_componentConstructor","isNamedNode","normalizedNodeName","getNodeProps","defaultProps","removeNode","setAccessor","old","isSvg","cssText","__html","useCapture","eventProxy","_listeners","ns","diffLevel","isSvgMode","flushMounts","afterMount","componentDidMount","diff","dom","mountAll","componentRoot","idiff","prevSvgMode","_component","nodeValue","recollectNodeTree","vnodeName","originalComponent","oldDom","isDirectOwner","isOwner","_parentComponent","setComponentProps","unmountComponent","createComponent","nextBase","buildComponentFromVNode","fc","vchildren","isHydrating","vchild","originalChildren","childNodes","keyedLen","childrenLen","vlen","_child","__key","innerDiffNode","dangerouslySetInnerHTML","attrs","diffAttributes","unmountOnly","removeChildren","lastChild","components","Ctor","inst","render","doRender","opts","_disable","__ref","componentWillMount","componentWillReceiveProps","prevContext","prevProps","syncComponentUpdates","isChild","rendered","cbase","previousProps","previousState","prevState","previousContext","isUpdate","initialBase","initialChildComponent","shouldComponentUpdate","componentWillUpdate","getChildContext","toUnmount","childComponent","childProps","baseParent","componentRef","componentDidUpdate","afterUpdate","_renderCallbacks","beforeUnmount","componentWillUnmount","inner","collectComponent","forceUpdate","preact","memo","getTarget","styleTarget","HTMLIFrameElement","contentDocument","stylesInDom","getIndexByIdentifier","modulesToDom","idCountMap","identifiers","css","sourceMap","references","addStyle","insertStyleElement","nonce","textStore","replaceText","replacement","applyToSingletonTag","styleSheet","applyToTag","btoa","unescape","encodeURIComponent","singletonCounter","styleIndex","removeStyleElement","newObj","atob","lastIdentifiers","newLastIdentifiers","_i","_index","topology","bboxPoint","bboxGeometry","arcs","bbox","transformPoint","stitchedArcs","fragmentByStart","fragmentByEnd","fragments","emptyIndex","dp","ends","fg","gf","meshArcs","extractArcs","stitch","geom","geomsByArc","extract0","extract1","extract2","extract3","geoms","mergeArcs","polygonsByArc","polygons","extract","planarRingArea","neighbors","ki","indexesByArc","geometryType","indexes","ij","ik","bisect","box","untransform","inputs","outputs","quantizePoint","quantizeGeometry","equal","keyType","keyEmpty","valueType","keystore","LN2","valstore","mask","matchKey","collisions","missingValue","pointA","pointB","buffer","ArrayBuffer","floats","Float64Array","uints","Uint32Array","geomifyFeatureCollection","geomifyFeature","geomifyGeometry","quantization","boundGeometry","boundGeometryType","boundPoint","boundLine","boundMultiLine","quantizePoints","px","py","quantizeLine","quantizeRing","quantizePolygon","quantizeGeometryType","prequantize","rings","arcCount","arcsByEnd","hashmap","dedupLine","dedupRing","startPoint","endPoint","startArcs","startArc","endArcs","endArc","equalLine","reverseEqualLine","equalRing","reverseEqualRing","findMinimumOffset","arcA","arcB","ia","ib","ja","jb","ka","kb","minimum","minimumPoint","dedup","junctions","currentIndex","nextIndex","indexByPoint","hashIndex","equalIndex","Int32Array","visitedByIndex","leftByIndex","rightByIndex","junctionByIndex","Int8Array","junctionCount","sequence","previousIndex","leftIndex","rightIndex","junctionByPoint","store","hashset","lineMid","ringMid","ringFixed","cut","extractGeometry","extractGeometryType","extractLine","extractRing","extractMultiRing","indexByArc","hashArc","equalArc","indexGeometry","indexGeometryType","indexArcs","indexMultiArcs","oldObjects","newObjects","filterGeometry","filterRings","filterIdentity","filterNotNull","filterInteriorRing","filterTrue","newArcs","oldArcs","oldArcsLength","oldIndex","newIndexByOldIndex","newArcsLength","newIndex","scanGeometry","scanArcs","scanMultiArcs","scanArc","reindexGeometry","reindexArcs","reindexMultiArcs","reindexArc","prune","ownerByArc","ownerIndex","testGeometry","testArcs","planarTriangleArea","triangle","minWeight","MIN_VALUE","interior","filterAttached","filterWeight","heap","up","down","triangles","maxWeight","descending","halfArea","sphericalRingArea","sphericalTriangleArea","Blob","viewClasses","isDataView","DataView","isPrototypeOf","isArrayBufferView","isView","Headers","normalizeName","normalizeValue","oldValue","thisArg","iteratorFor","Request","clone","body","_bodyInit","Body","Response","status","statusText","headers","response","redirectStatuses","redirect","RangeError","location","request","xhr","XMLHttpRequest","onload","rawHeaders","getAllResponseHeaders","parts","responseURL","responseText","onerror","ontimeout","open","method","credentials","withCredentials","responseType","setRequestHeader","send","header","getOwnPropertyNames","consumed","bodyUsed","fileReaderReady","reader","readBlobAsArrayBuffer","blob","FileReader","readAsArrayBuffer","bufferClone","buf","Uint8Array","byteLength","_initBody","_bodyText","_bodyBlob","FormData","_bodyFormData","URLSearchParams","_bodyArrayBuffer","rejected","arrayBuffer","readAsText","chars","fromCharCode","readArrayBufferAsText","formData","decode","upcased","mode","referrer","form","bytes","decodeURIComponent","bodyInit","ok","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","enumerable","globalThis","prop","toStringTag","baseURI","href","nc","chart"],"sourceRoot":""}